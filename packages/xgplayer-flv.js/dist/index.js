(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("xgplayer"));
	else if(typeof define === 'function' && define.amd)
		define(["xgplayer"], factory);
	else if(typeof exports === 'object')
		exports["xgplayer-flv.js"] = factory(require("xgplayer"));
	else
		root["xgplayer-flv.js"] = factory(root["xgplayer"]);
})(window, function(__WEBPACK_EXTERNAL_MODULE_xgplayer__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(process, global) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */

(function (global, factory) {
  ( false ? undefined : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() :  true ? !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
				__WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : undefined;
})(undefined, function () {
  'use strict';

  function objectOrFunction(x) {
    var type = typeof x === 'undefined' ? 'undefined' : _typeof(x);
    return x !== null && (type === 'object' || type === 'function');
  }

  function isFunction(x) {
    return typeof x === 'function';
  }

  var _isArray = void 0;
  if (Array.isArray) {
    _isArray = Array.isArray;
  } else {
    _isArray = function _isArray(x) {
      return Object.prototype.toString.call(x) === '[object Array]';
    };
  }

  var isArray = _isArray;

  var len = 0;
  var vertxNext = void 0;
  var customSchedulerFn = void 0;

  var asap = function asap(callback, arg) {
    queue[len] = callback;
    queue[len + 1] = arg;
    len += 2;
    if (len === 2) {
      // If len is 2, that means that we need to schedule an async flush.
      // If additional callbacks are queued before the queue is flushed, they
      // will be processed by this flush that we are scheduling.
      if (customSchedulerFn) {
        customSchedulerFn(flush);
      } else {
        scheduleFlush();
      }
    }
  };

  function setScheduler(scheduleFn) {
    customSchedulerFn = scheduleFn;
  }

  function setAsap(asapFn) {
    asap = asapFn;
  }

  var browserWindow = typeof window !== 'undefined' ? window : undefined;
  var browserGlobal = browserWindow || {};
  var BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;
  var isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';

  // test for web worker but not in IE10
  var isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';

  // node
  function useNextTick() {
    // node version 0.10.x displays a deprecation warning when nextTick is used recursively
    // see https://github.com/cujojs/when/issues/410 for details
    return function () {
      return process.nextTick(flush);
    };
  }

  // vertx
  function useVertxTimer() {
    if (typeof vertxNext !== 'undefined') {
      return function () {
        vertxNext(flush);
      };
    }

    return useSetTimeout();
  }

  function useMutationObserver() {
    var iterations = 0;
    var observer = new BrowserMutationObserver(flush);
    var node = document.createTextNode('');
    observer.observe(node, { characterData: true });

    return function () {
      node.data = iterations = ++iterations % 2;
    };
  }

  // web worker
  function useMessageChannel() {
    var channel = new MessageChannel();
    channel.port1.onmessage = flush;
    return function () {
      return channel.port2.postMessage(0);
    };
  }

  function useSetTimeout() {
    // Store setTimeout reference so es6-promise will be unaffected by
    // other code modifying setTimeout (like sinon.useFakeTimers())
    var globalSetTimeout = setTimeout;
    return function () {
      return globalSetTimeout(flush, 1);
    };
  }

  var queue = new Array(1000);
  function flush() {
    for (var i = 0; i < len; i += 2) {
      var callback = queue[i];
      var arg = queue[i + 1];

      callback(arg);

      queue[i] = undefined;
      queue[i + 1] = undefined;
    }

    len = 0;
  }

  function attemptVertx() {
    try {
      var vertx = Function('return this')().require('vertx');
      vertxNext = vertx.runOnLoop || vertx.runOnContext;
      return useVertxTimer();
    } catch (e) {
      return useSetTimeout();
    }
  }

  var scheduleFlush = void 0;
  // Decide what async method to use to triggering processing of queued callbacks:
  if (isNode) {
    scheduleFlush = useNextTick();
  } else if (BrowserMutationObserver) {
    scheduleFlush = useMutationObserver();
  } else if (isWorker) {
    scheduleFlush = useMessageChannel();
  } else if (browserWindow === undefined && "function" === 'function') {
    scheduleFlush = attemptVertx();
  } else {
    scheduleFlush = useSetTimeout();
  }

  function then(onFulfillment, onRejection) {
    var parent = this;

    var child = new this.constructor(noop);

    if (child[PROMISE_ID] === undefined) {
      makePromise(child);
    }

    var _state = parent._state;

    if (_state) {
      var callback = arguments[_state - 1];
      asap(function () {
        return invokeCallback(_state, child, callback, parent._result);
      });
    } else {
      subscribe(parent, child, onFulfillment, onRejection);
    }

    return child;
  }

  /**
    `Promise.resolve` returns a promise that will become resolved with the
    passed `value`. It is shorthand for the following:
  
    ```javascript
    let promise = new Promise(function(resolve, reject){
      resolve(1);
    });
  
    promise.then(function(value){
      // value === 1
    });
    ```
  
    Instead of writing the above, your code now simply becomes the following:
  
    ```javascript
    let promise = Promise.resolve(1);
  
    promise.then(function(value){
      // value === 1
    });
    ```
  
    @method resolve
    @static
    @param {Any} value value that the returned promise will be resolved with
    Useful for tooling.
    @return {Promise} a promise that will become fulfilled with the given
    `value`
  */
  function resolve$1(object) {
    /*jshint validthis:true */
    var Constructor = this;

    if (object && (typeof object === 'undefined' ? 'undefined' : _typeof(object)) === 'object' && object.constructor === Constructor) {
      return object;
    }

    var promise = new Constructor(noop);
    resolve(promise, object);
    return promise;
  }

  var PROMISE_ID = Math.random().toString(36).substring(2);

  function noop() {}

  var PENDING = void 0;
  var FULFILLED = 1;
  var REJECTED = 2;

  function selfFulfillment() {
    return new TypeError("You cannot resolve a promise with itself");
  }

  function cannotReturnOwn() {
    return new TypeError('A promises callback cannot return that same promise.');
  }

  function tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {
    try {
      then$$1.call(value, fulfillmentHandler, rejectionHandler);
    } catch (e) {
      return e;
    }
  }

  function handleForeignThenable(promise, thenable, then$$1) {
    asap(function (promise) {
      var sealed = false;
      var error = tryThen(then$$1, thenable, function (value) {
        if (sealed) {
          return;
        }
        sealed = true;
        if (thenable !== value) {
          resolve(promise, value);
        } else {
          fulfill(promise, value);
        }
      }, function (reason) {
        if (sealed) {
          return;
        }
        sealed = true;

        reject(promise, reason);
      }, 'Settle: ' + (promise._label || ' unknown promise'));

      if (!sealed && error) {
        sealed = true;
        reject(promise, error);
      }
    }, promise);
  }

  function handleOwnThenable(promise, thenable) {
    if (thenable._state === FULFILLED) {
      fulfill(promise, thenable._result);
    } else if (thenable._state === REJECTED) {
      reject(promise, thenable._result);
    } else {
      subscribe(thenable, undefined, function (value) {
        return resolve(promise, value);
      }, function (reason) {
        return reject(promise, reason);
      });
    }
  }

  function handleMaybeThenable(promise, maybeThenable, then$$1) {
    if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {
      handleOwnThenable(promise, maybeThenable);
    } else {
      if (then$$1 === undefined) {
        fulfill(promise, maybeThenable);
      } else if (isFunction(then$$1)) {
        handleForeignThenable(promise, maybeThenable, then$$1);
      } else {
        fulfill(promise, maybeThenable);
      }
    }
  }

  function resolve(promise, value) {
    if (promise === value) {
      reject(promise, selfFulfillment());
    } else if (objectOrFunction(value)) {
      var then$$1 = void 0;
      try {
        then$$1 = value.then;
      } catch (error) {
        reject(promise, error);
        return;
      }
      handleMaybeThenable(promise, value, then$$1);
    } else {
      fulfill(promise, value);
    }
  }

  function publishRejection(promise) {
    if (promise._onerror) {
      promise._onerror(promise._result);
    }

    publish(promise);
  }

  function fulfill(promise, value) {
    if (promise._state !== PENDING) {
      return;
    }

    promise._result = value;
    promise._state = FULFILLED;

    if (promise._subscribers.length !== 0) {
      asap(publish, promise);
    }
  }

  function reject(promise, reason) {
    if (promise._state !== PENDING) {
      return;
    }
    promise._state = REJECTED;
    promise._result = reason;

    asap(publishRejection, promise);
  }

  function subscribe(parent, child, onFulfillment, onRejection) {
    var _subscribers = parent._subscribers;
    var length = _subscribers.length;

    parent._onerror = null;

    _subscribers[length] = child;
    _subscribers[length + FULFILLED] = onFulfillment;
    _subscribers[length + REJECTED] = onRejection;

    if (length === 0 && parent._state) {
      asap(publish, parent);
    }
  }

  function publish(promise) {
    var subscribers = promise._subscribers;
    var settled = promise._state;

    if (subscribers.length === 0) {
      return;
    }

    var child = void 0,
        callback = void 0,
        detail = promise._result;

    for (var i = 0; i < subscribers.length; i += 3) {
      child = subscribers[i];
      callback = subscribers[i + settled];

      if (child) {
        invokeCallback(settled, child, callback, detail);
      } else {
        callback(detail);
      }
    }

    promise._subscribers.length = 0;
  }

  function invokeCallback(settled, promise, callback, detail) {
    var hasCallback = isFunction(callback),
        value = void 0,
        error = void 0,
        succeeded = true;

    if (hasCallback) {
      try {
        value = callback(detail);
      } catch (e) {
        succeeded = false;
        error = e;
      }

      if (promise === value) {
        reject(promise, cannotReturnOwn());
        return;
      }
    } else {
      value = detail;
    }

    if (promise._state !== PENDING) {
      // noop
    } else if (hasCallback && succeeded) {
      resolve(promise, value);
    } else if (succeeded === false) {
      reject(promise, error);
    } else if (settled === FULFILLED) {
      fulfill(promise, value);
    } else if (settled === REJECTED) {
      reject(promise, value);
    }
  }

  function initializePromise(promise, resolver) {
    try {
      resolver(function resolvePromise(value) {
        resolve(promise, value);
      }, function rejectPromise(reason) {
        reject(promise, reason);
      });
    } catch (e) {
      reject(promise, e);
    }
  }

  var id = 0;
  function nextId() {
    return id++;
  }

  function makePromise(promise) {
    promise[PROMISE_ID] = id++;
    promise._state = undefined;
    promise._result = undefined;
    promise._subscribers = [];
  }

  function validationError() {
    return new Error('Array Methods must be provided an Array');
  }

  var Enumerator = function () {
    function Enumerator(Constructor, input) {
      this._instanceConstructor = Constructor;
      this.promise = new Constructor(noop);

      if (!this.promise[PROMISE_ID]) {
        makePromise(this.promise);
      }

      if (isArray(input)) {
        this.length = input.length;
        this._remaining = input.length;

        this._result = new Array(this.length);

        if (this.length === 0) {
          fulfill(this.promise, this._result);
        } else {
          this.length = this.length || 0;
          this._enumerate(input);
          if (this._remaining === 0) {
            fulfill(this.promise, this._result);
          }
        }
      } else {
        reject(this.promise, validationError());
      }
    }

    Enumerator.prototype._enumerate = function _enumerate(input) {
      for (var i = 0; this._state === PENDING && i < input.length; i++) {
        this._eachEntry(input[i], i);
      }
    };

    Enumerator.prototype._eachEntry = function _eachEntry(entry, i) {
      var c = this._instanceConstructor;
      var resolve$$1 = c.resolve;

      if (resolve$$1 === resolve$1) {
        var _then = void 0;
        var error = void 0;
        var didError = false;
        try {
          _then = entry.then;
        } catch (e) {
          didError = true;
          error = e;
        }

        if (_then === then && entry._state !== PENDING) {
          this._settledAt(entry._state, i, entry._result);
        } else if (typeof _then !== 'function') {
          this._remaining--;
          this._result[i] = entry;
        } else if (c === Promise$1) {
          var promise = new c(noop);
          if (didError) {
            reject(promise, error);
          } else {
            handleMaybeThenable(promise, entry, _then);
          }
          this._willSettleAt(promise, i);
        } else {
          this._willSettleAt(new c(function (resolve$$1) {
            return resolve$$1(entry);
          }), i);
        }
      } else {
        this._willSettleAt(resolve$$1(entry), i);
      }
    };

    Enumerator.prototype._settledAt = function _settledAt(state, i, value) {
      var promise = this.promise;

      if (promise._state === PENDING) {
        this._remaining--;

        if (state === REJECTED) {
          reject(promise, value);
        } else {
          this._result[i] = value;
        }
      }

      if (this._remaining === 0) {
        fulfill(promise, this._result);
      }
    };

    Enumerator.prototype._willSettleAt = function _willSettleAt(promise, i) {
      var enumerator = this;

      subscribe(promise, undefined, function (value) {
        return enumerator._settledAt(FULFILLED, i, value);
      }, function (reason) {
        return enumerator._settledAt(REJECTED, i, reason);
      });
    };

    return Enumerator;
  }();

  /**
    `Promise.all` accepts an array of promises, and returns a new promise which
    is fulfilled with an array of fulfillment values for the passed promises, or
    rejected with the reason of the first passed promise to be rejected. It casts all
    elements of the passed iterable to promises as it runs this algorithm.
  
    Example:
  
    ```javascript
    let promise1 = resolve(1);
    let promise2 = resolve(2);
    let promise3 = resolve(3);
    let promises = [ promise1, promise2, promise3 ];
  
    Promise.all(promises).then(function(array){
      // The array here would be [ 1, 2, 3 ];
    });
    ```
  
    If any of the `promises` given to `all` are rejected, the first promise
    that is rejected will be given as an argument to the returned promises's
    rejection handler. For example:
  
    Example:
  
    ```javascript
    let promise1 = resolve(1);
    let promise2 = reject(new Error("2"));
    let promise3 = reject(new Error("3"));
    let promises = [ promise1, promise2, promise3 ];
  
    Promise.all(promises).then(function(array){
      // Code here never runs because there are rejected promises!
    }, function(error) {
      // error.message === "2"
    });
    ```
  
    @method all
    @static
    @param {Array} entries array of promises
    @param {String} label optional string for labeling the promise.
    Useful for tooling.
    @return {Promise} promise that is fulfilled when all `promises` have been
    fulfilled, or rejected if any of them become rejected.
    @static
  */
  function all(entries) {
    return new Enumerator(this, entries).promise;
  }

  /**
    `Promise.race` returns a new promise which is settled in the same way as the
    first passed promise to settle.
  
    Example:
  
    ```javascript
    let promise1 = new Promise(function(resolve, reject){
      setTimeout(function(){
        resolve('promise 1');
      }, 200);
    });
  
    let promise2 = new Promise(function(resolve, reject){
      setTimeout(function(){
        resolve('promise 2');
      }, 100);
    });
  
    Promise.race([promise1, promise2]).then(function(result){
      // result === 'promise 2' because it was resolved before promise1
      // was resolved.
    });
    ```
  
    `Promise.race` is deterministic in that only the state of the first
    settled promise matters. For example, even if other promises given to the
    `promises` array argument are resolved, but the first settled promise has
    become rejected before the other promises became fulfilled, the returned
    promise will become rejected:
  
    ```javascript
    let promise1 = new Promise(function(resolve, reject){
      setTimeout(function(){
        resolve('promise 1');
      }, 200);
    });
  
    let promise2 = new Promise(function(resolve, reject){
      setTimeout(function(){
        reject(new Error('promise 2'));
      }, 100);
    });
  
    Promise.race([promise1, promise2]).then(function(result){
      // Code here never runs
    }, function(reason){
      // reason.message === 'promise 2' because promise 2 became rejected before
      // promise 1 became fulfilled
    });
    ```
  
    An example real-world use case is implementing timeouts:
  
    ```javascript
    Promise.race([ajax('foo.json'), timeout(5000)])
    ```
  
    @method race
    @static
    @param {Array} promises array of promises to observe
    Useful for tooling.
    @return {Promise} a promise which settles in the same way as the first passed
    promise to settle.
  */
  function race(entries) {
    /*jshint validthis:true */
    var Constructor = this;

    if (!isArray(entries)) {
      return new Constructor(function (_, reject) {
        return reject(new TypeError('You must pass an array to race.'));
      });
    } else {
      return new Constructor(function (resolve, reject) {
        var length = entries.length;
        for (var i = 0; i < length; i++) {
          Constructor.resolve(entries[i]).then(resolve, reject);
        }
      });
    }
  }

  /**
    `Promise.reject` returns a promise rejected with the passed `reason`.
    It is shorthand for the following:
  
    ```javascript
    let promise = new Promise(function(resolve, reject){
      reject(new Error('WHOOPS'));
    });
  
    promise.then(function(value){
      // Code here doesn't run because the promise is rejected!
    }, function(reason){
      // reason.message === 'WHOOPS'
    });
    ```
  
    Instead of writing the above, your code now simply becomes the following:
  
    ```javascript
    let promise = Promise.reject(new Error('WHOOPS'));
  
    promise.then(function(value){
      // Code here doesn't run because the promise is rejected!
    }, function(reason){
      // reason.message === 'WHOOPS'
    });
    ```
  
    @method reject
    @static
    @param {Any} reason value that the returned promise will be rejected with.
    Useful for tooling.
    @return {Promise} a promise rejected with the given `reason`.
  */
  function reject$1(reason) {
    /*jshint validthis:true */
    var Constructor = this;
    var promise = new Constructor(noop);
    reject(promise, reason);
    return promise;
  }

  function needsResolver() {
    throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');
  }

  function needsNew() {
    throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
  }

  /**
    Promise objects represent the eventual result of an asynchronous operation. The
    primary way of interacting with a promise is through its `then` method, which
    registers callbacks to receive either a promise's eventual value or the reason
    why the promise cannot be fulfilled.
  
    Terminology
    -----------
  
    - `promise` is an object or function with a `then` method whose behavior conforms to this specification.
    - `thenable` is an object or function that defines a `then` method.
    - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).
    - `exception` is a value that is thrown using the throw statement.
    - `reason` is a value that indicates why a promise was rejected.
    - `settled` the final resting state of a promise, fulfilled or rejected.
  
    A promise can be in one of three states: pending, fulfilled, or rejected.
  
    Promises that are fulfilled have a fulfillment value and are in the fulfilled
    state.  Promises that are rejected have a rejection reason and are in the
    rejected state.  A fulfillment value is never a thenable.
  
    Promises can also be said to *resolve* a value.  If this value is also a
    promise, then the original promise's settled state will match the value's
    settled state.  So a promise that *resolves* a promise that rejects will
    itself reject, and a promise that *resolves* a promise that fulfills will
    itself fulfill.
  
  
    Basic Usage:
    ------------
  
    ```js
    let promise = new Promise(function(resolve, reject) {
      // on success
      resolve(value);
  
      // on failure
      reject(reason);
    });
  
    promise.then(function(value) {
      // on fulfillment
    }, function(reason) {
      // on rejection
    });
    ```
  
    Advanced Usage:
    ---------------
  
    Promises shine when abstracting away asynchronous interactions such as
    `XMLHttpRequest`s.
  
    ```js
    function getJSON(url) {
      return new Promise(function(resolve, reject){
        let xhr = new XMLHttpRequest();
  
        xhr.open('GET', url);
        xhr.onreadystatechange = handler;
        xhr.responseType = 'json';
        xhr.setRequestHeader('Accept', 'application/json');
        xhr.send();
  
        function handler() {
          if (this.readyState === this.DONE) {
            if (this.status === 200) {
              resolve(this.response);
            } else {
              reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));
            }
          }
        };
      });
    }
  
    getJSON('/posts.json').then(function(json) {
      // on fulfillment
    }, function(reason) {
      // on rejection
    });
    ```
  
    Unlike callbacks, promises are great composable primitives.
  
    ```js
    Promise.all([
      getJSON('/posts'),
      getJSON('/comments')
    ]).then(function(values){
      values[0] // => postsJSON
      values[1] // => commentsJSON
  
      return values;
    });
    ```
  
    @class Promise
    @param {Function} resolver
    Useful for tooling.
    @constructor
  */

  var Promise$1 = function () {
    function Promise(resolver) {
      this[PROMISE_ID] = nextId();
      this._result = this._state = undefined;
      this._subscribers = [];

      if (noop !== resolver) {
        typeof resolver !== 'function' && needsResolver();
        this instanceof Promise ? initializePromise(this, resolver) : needsNew();
      }
    }

    /**
    The primary way of interacting with a promise is through its `then` method,
    which registers callbacks to receive either a promise's eventual value or the
    reason why the promise cannot be fulfilled.
     ```js
    findUser().then(function(user){
      // user is available
    }, function(reason){
      // user is unavailable, and you are given the reason why
    });
    ```
     Chaining
    --------
     The return value of `then` is itself a promise.  This second, 'downstream'
    promise is resolved with the return value of the first promise's fulfillment
    or rejection handler, or rejected if the handler throws an exception.
     ```js
    findUser().then(function (user) {
      return user.name;
    }, function (reason) {
      return 'default name';
    }).then(function (userName) {
      // If `findUser` fulfilled, `userName` will be the user's name, otherwise it
      // will be `'default name'`
    });
     findUser().then(function (user) {
      throw new Error('Found user, but still unhappy');
    }, function (reason) {
      throw new Error('`findUser` rejected and we're unhappy');
    }).then(function (value) {
      // never reached
    }, function (reason) {
      // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.
      // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.
    });
    ```
    If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.
     ```js
    findUser().then(function (user) {
      throw new PedagogicalException('Upstream error');
    }).then(function (value) {
      // never reached
    }).then(function (value) {
      // never reached
    }, function (reason) {
      // The `PedgagocialException` is propagated all the way down to here
    });
    ```
     Assimilation
    ------------
     Sometimes the value you want to propagate to a downstream promise can only be
    retrieved asynchronously. This can be achieved by returning a promise in the
    fulfillment or rejection handler. The downstream promise will then be pending
    until the returned promise is settled. This is called *assimilation*.
     ```js
    findUser().then(function (user) {
      return findCommentsByAuthor(user);
    }).then(function (comments) {
      // The user's comments are now available
    });
    ```
     If the assimliated promise rejects, then the downstream promise will also reject.
     ```js
    findUser().then(function (user) {
      return findCommentsByAuthor(user);
    }).then(function (comments) {
      // If `findCommentsByAuthor` fulfills, we'll have the value here
    }, function (reason) {
      // If `findCommentsByAuthor` rejects, we'll have the reason here
    });
    ```
     Simple Example
    --------------
     Synchronous Example
     ```javascript
    let result;
     try {
      result = findResult();
      // success
    } catch(reason) {
      // failure
    }
    ```
     Errback Example
     ```js
    findResult(function(result, err){
      if (err) {
        // failure
      } else {
        // success
      }
    });
    ```
     Promise Example;
     ```javascript
    findResult().then(function(result){
      // success
    }, function(reason){
      // failure
    });
    ```
     Advanced Example
    --------------
     Synchronous Example
     ```javascript
    let author, books;
     try {
      author = findAuthor();
      books  = findBooksByAuthor(author);
      // success
    } catch(reason) {
      // failure
    }
    ```
     Errback Example
     ```js
     function foundBooks(books) {
     }
     function failure(reason) {
     }
     findAuthor(function(author, err){
      if (err) {
        failure(err);
        // failure
      } else {
        try {
          findBoooksByAuthor(author, function(books, err) {
            if (err) {
              failure(err);
            } else {
              try {
                foundBooks(books);
              } catch(reason) {
                failure(reason);
              }
            }
          });
        } catch(error) {
          failure(err);
        }
        // success
      }
    });
    ```
     Promise Example;
     ```javascript
    findAuthor().
      then(findBooksByAuthor).
      then(function(books){
        // found books
    }).catch(function(reason){
      // something went wrong
    });
    ```
     @method then
    @param {Function} onFulfilled
    @param {Function} onRejected
    Useful for tooling.
    @return {Promise}
    */

    /**
    `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same
    as the catch block of a try/catch statement.
    ```js
    function findAuthor(){
    throw new Error('couldn't find that author');
    }
    // synchronous
    try {
    findAuthor();
    } catch(reason) {
    // something went wrong
    }
    // async with promises
    findAuthor().catch(function(reason){
    // something went wrong
    });
    ```
    @method catch
    @param {Function} onRejection
    Useful for tooling.
    @return {Promise}
    */

    Promise.prototype.catch = function _catch(onRejection) {
      return this.then(null, onRejection);
    };

    /**
      `finally` will be invoked regardless of the promise's fate just as native
      try/catch/finally behaves
    
      Synchronous example:
    
      ```js
      findAuthor() {
        if (Math.random() > 0.5) {
          throw new Error();
        }
        return new Author();
      }
    
      try {
        return findAuthor(); // succeed or fail
      } catch(error) {
        return findOtherAuther();
      } finally {
        // always runs
        // doesn't affect the return value
      }
      ```
    
      Asynchronous example:
    
      ```js
      findAuthor().catch(function(reason){
        return findOtherAuther();
      }).finally(function(){
        // author was either found, or not
      });
      ```
    
      @method finally
      @param {Function} callback
      @return {Promise}
    */

    Promise.prototype.finally = function _finally(callback) {
      var promise = this;
      var constructor = promise.constructor;

      if (isFunction(callback)) {
        return promise.then(function (value) {
          return constructor.resolve(callback()).then(function () {
            return value;
          });
        }, function (reason) {
          return constructor.resolve(callback()).then(function () {
            throw reason;
          });
        });
      }

      return promise.then(callback, callback);
    };

    return Promise;
  }();

  Promise$1.prototype.then = then;
  Promise$1.all = all;
  Promise$1.race = race;
  Promise$1.resolve = resolve$1;
  Promise$1.reject = reject$1;
  Promise$1._setScheduler = setScheduler;
  Promise$1._setAsap = setAsap;
  Promise$1._asap = asap;

  /*global self*/
  function polyfill() {
    var local = void 0;

    if (typeof global !== 'undefined') {
      local = global;
    } else if (typeof self !== 'undefined') {
      local = self;
    } else {
      try {
        local = Function('return this')();
      } catch (e) {
        throw new Error('polyfill failed because global object is unavailable in this environment');
      }
    }

    var P = local.Promise;

    if (P) {
      var promiseToString = null;
      try {
        promiseToString = Object.prototype.toString.call(P.resolve());
      } catch (e) {
        // silently ignored
      }

      if (promiseToString === '[object Promise]' && !P.cast) {
        return;
      }
    }

    local.Promise = Promise$1;
  }

  // Strange compat..
  Promise$1.polyfill = polyfill;
  Promise$1.Promise = Promise$1;

  return Promise$1;
});

//# sourceMappingURL=es6-promise.map
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ "./node_modules/process/browser.js"), __webpack_require__(/*! ./../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/events/events.js":
/*!***************************************!*\
  !*** ./node_modules/events/events.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var R = (typeof Reflect === 'undefined' ? 'undefined' : _typeof(Reflect)) === 'object' ? Reflect : null;
var ReflectApply = R && typeof R.apply === 'function' ? R.apply : function ReflectApply(target, receiver, args) {
  return Function.prototype.apply.call(target, receiver, args);
};

var ReflectOwnKeys;
if (R && typeof R.ownKeys === 'function') {
  ReflectOwnKeys = R.ownKeys;
} else if (Object.getOwnPropertySymbols) {
  ReflectOwnKeys = function ReflectOwnKeys(target) {
    return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));
  };
} else {
  ReflectOwnKeys = function ReflectOwnKeys(target) {
    return Object.getOwnPropertyNames(target);
  };
}

function ProcessEmitWarning(warning) {
  if (console && console.warn) console.warn(warning);
}

var NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {
  return value !== value;
};

function EventEmitter() {
  EventEmitter.init.call(this);
}
module.exports = EventEmitter;
module.exports.once = once;

// Backwards-compat with node 0.10.x
EventEmitter.EventEmitter = EventEmitter;

EventEmitter.prototype._events = undefined;
EventEmitter.prototype._eventsCount = 0;
EventEmitter.prototype._maxListeners = undefined;

// By default EventEmitters will print a warning if more than 10 listeners are
// added to it. This is a useful default which helps finding memory leaks.
var defaultMaxListeners = 10;

function checkListener(listener) {
  if (typeof listener !== 'function') {
    throw new TypeError('The "listener" argument must be of type Function. Received type ' + (typeof listener === 'undefined' ? 'undefined' : _typeof(listener)));
  }
}

Object.defineProperty(EventEmitter, 'defaultMaxListeners', {
  enumerable: true,
  get: function get() {
    return defaultMaxListeners;
  },
  set: function set(arg) {
    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {
      throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + arg + '.');
    }
    defaultMaxListeners = arg;
  }
});

EventEmitter.init = function () {

  if (this._events === undefined || this._events === Object.getPrototypeOf(this)._events) {
    this._events = Object.create(null);
    this._eventsCount = 0;
  }

  this._maxListeners = this._maxListeners || undefined;
};

// Obviously not all Emitters should be limited to 10. This function allows
// that to be increased. Set to zero for unlimited.
EventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {
  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {
    throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + n + '.');
  }
  this._maxListeners = n;
  return this;
};

function _getMaxListeners(that) {
  if (that._maxListeners === undefined) return EventEmitter.defaultMaxListeners;
  return that._maxListeners;
}

EventEmitter.prototype.getMaxListeners = function getMaxListeners() {
  return _getMaxListeners(this);
};

EventEmitter.prototype.emit = function emit(type) {
  var args = [];
  for (var i = 1; i < arguments.length; i++) {
    args.push(arguments[i]);
  }var doError = type === 'error';

  var events = this._events;
  if (events !== undefined) doError = doError && events.error === undefined;else if (!doError) return false;

  // If there is no 'error' event listener then throw.
  if (doError) {
    var er;
    if (args.length > 0) er = args[0];
    if (er instanceof Error) {
      // Note: The comments on the `throw` lines are intentional, they show
      // up in Node's output if this results in an unhandled exception.
      throw er; // Unhandled 'error' event
    }
    // At least give some kind of context to the user
    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));
    err.context = er;
    throw err; // Unhandled 'error' event
  }

  var handler = events[type];

  if (handler === undefined) return false;

  if (typeof handler === 'function') {
    ReflectApply(handler, this, args);
  } else {
    var len = handler.length;
    var listeners = arrayClone(handler, len);
    for (var i = 0; i < len; ++i) {
      ReflectApply(listeners[i], this, args);
    }
  }

  return true;
};

function _addListener(target, type, listener, prepend) {
  var m;
  var events;
  var existing;

  checkListener(listener);

  events = target._events;
  if (events === undefined) {
    events = target._events = Object.create(null);
    target._eventsCount = 0;
  } else {
    // To avoid recursion in the case that type === "newListener"! Before
    // adding it to the listeners, first emit "newListener".
    if (events.newListener !== undefined) {
      target.emit('newListener', type, listener.listener ? listener.listener : listener);

      // Re-assign `events` because a newListener handler could have caused the
      // this._events to be assigned to a new object
      events = target._events;
    }
    existing = events[type];
  }

  if (existing === undefined) {
    // Optimize the case of one listener. Don't need the extra array object.
    existing = events[type] = listener;
    ++target._eventsCount;
  } else {
    if (typeof existing === 'function') {
      // Adding the second element, need to change to array.
      existing = events[type] = prepend ? [listener, existing] : [existing, listener];
      // If we've already got an array, just append.
    } else if (prepend) {
      existing.unshift(listener);
    } else {
      existing.push(listener);
    }

    // Check for listener leak
    m = _getMaxListeners(target);
    if (m > 0 && existing.length > m && !existing.warned) {
      existing.warned = true;
      // No error code for this since it is a Warning
      // eslint-disable-next-line no-restricted-syntax
      var w = new Error('Possible EventEmitter memory leak detected. ' + existing.length + ' ' + String(type) + ' listeners ' + 'added. Use emitter.setMaxListeners() to ' + 'increase limit');
      w.name = 'MaxListenersExceededWarning';
      w.emitter = target;
      w.type = type;
      w.count = existing.length;
      ProcessEmitWarning(w);
    }
  }

  return target;
}

EventEmitter.prototype.addListener = function addListener(type, listener) {
  return _addListener(this, type, listener, false);
};

EventEmitter.prototype.on = EventEmitter.prototype.addListener;

EventEmitter.prototype.prependListener = function prependListener(type, listener) {
  return _addListener(this, type, listener, true);
};

function onceWrapper() {
  if (!this.fired) {
    this.target.removeListener(this.type, this.wrapFn);
    this.fired = true;
    if (arguments.length === 0) return this.listener.call(this.target);
    return this.listener.apply(this.target, arguments);
  }
}

function _onceWrap(target, type, listener) {
  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };
  var wrapped = onceWrapper.bind(state);
  wrapped.listener = listener;
  state.wrapFn = wrapped;
  return wrapped;
}

EventEmitter.prototype.once = function once(type, listener) {
  checkListener(listener);
  this.on(type, _onceWrap(this, type, listener));
  return this;
};

EventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {
  checkListener(listener);
  this.prependListener(type, _onceWrap(this, type, listener));
  return this;
};

// Emits a 'removeListener' event if and only if the listener was removed.
EventEmitter.prototype.removeListener = function removeListener(type, listener) {
  var list, events, position, i, originalListener;

  checkListener(listener);

  events = this._events;
  if (events === undefined) return this;

  list = events[type];
  if (list === undefined) return this;

  if (list === listener || list.listener === listener) {
    if (--this._eventsCount === 0) this._events = Object.create(null);else {
      delete events[type];
      if (events.removeListener) this.emit('removeListener', type, list.listener || listener);
    }
  } else if (typeof list !== 'function') {
    position = -1;

    for (i = list.length - 1; i >= 0; i--) {
      if (list[i] === listener || list[i].listener === listener) {
        originalListener = list[i].listener;
        position = i;
        break;
      }
    }

    if (position < 0) return this;

    if (position === 0) list.shift();else {
      spliceOne(list, position);
    }

    if (list.length === 1) events[type] = list[0];

    if (events.removeListener !== undefined) this.emit('removeListener', type, originalListener || listener);
  }

  return this;
};

EventEmitter.prototype.off = EventEmitter.prototype.removeListener;

EventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {
  var listeners, events, i;

  events = this._events;
  if (events === undefined) return this;

  // not listening for removeListener, no need to emit
  if (events.removeListener === undefined) {
    if (arguments.length === 0) {
      this._events = Object.create(null);
      this._eventsCount = 0;
    } else if (events[type] !== undefined) {
      if (--this._eventsCount === 0) this._events = Object.create(null);else delete events[type];
    }
    return this;
  }

  // emit removeListener for all listeners on all events
  if (arguments.length === 0) {
    var keys = Object.keys(events);
    var key;
    for (i = 0; i < keys.length; ++i) {
      key = keys[i];
      if (key === 'removeListener') continue;
      this.removeAllListeners(key);
    }
    this.removeAllListeners('removeListener');
    this._events = Object.create(null);
    this._eventsCount = 0;
    return this;
  }

  listeners = events[type];

  if (typeof listeners === 'function') {
    this.removeListener(type, listeners);
  } else if (listeners !== undefined) {
    // LIFO order
    for (i = listeners.length - 1; i >= 0; i--) {
      this.removeListener(type, listeners[i]);
    }
  }

  return this;
};

function _listeners(target, type, unwrap) {
  var events = target._events;

  if (events === undefined) return [];

  var evlistener = events[type];
  if (evlistener === undefined) return [];

  if (typeof evlistener === 'function') return unwrap ? [evlistener.listener || evlistener] : [evlistener];

  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);
}

EventEmitter.prototype.listeners = function listeners(type) {
  return _listeners(this, type, true);
};

EventEmitter.prototype.rawListeners = function rawListeners(type) {
  return _listeners(this, type, false);
};

EventEmitter.listenerCount = function (emitter, type) {
  if (typeof emitter.listenerCount === 'function') {
    return emitter.listenerCount(type);
  } else {
    return listenerCount.call(emitter, type);
  }
};

EventEmitter.prototype.listenerCount = listenerCount;
function listenerCount(type) {
  var events = this._events;

  if (events !== undefined) {
    var evlistener = events[type];

    if (typeof evlistener === 'function') {
      return 1;
    } else if (evlistener !== undefined) {
      return evlistener.length;
    }
  }

  return 0;
}

EventEmitter.prototype.eventNames = function eventNames() {
  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];
};

function arrayClone(arr, n) {
  var copy = new Array(n);
  for (var i = 0; i < n; ++i) {
    copy[i] = arr[i];
  }return copy;
}

function spliceOne(list, index) {
  for (; index + 1 < list.length; index++) {
    list[index] = list[index + 1];
  }list.pop();
}

function unwrapListeners(arr) {
  var ret = new Array(arr.length);
  for (var i = 0; i < ret.length; ++i) {
    ret[i] = arr[i].listener || arr[i];
  }
  return ret;
}

function once(emitter, name) {
  return new Promise(function (resolve, reject) {
    function errorListener(err) {
      emitter.removeListener(name, resolver);
      reject(err);
    }

    function resolver() {
      if (typeof emitter.removeListener === 'function') {
        emitter.removeListener('error', errorListener);
      }
      resolve([].slice.call(arguments));
    };

    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });
    if (name !== 'error') {
      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });
    }
  });
}

function addErrorHandlerIfEventEmitter(emitter, handler, flags) {
  if (typeof emitter.on === 'function') {
    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);
  }
}

function eventTargetAgnosticAddListener(emitter, name, listener, flags) {
  if (typeof emitter.on === 'function') {
    if (flags.once) {
      emitter.once(name, listener);
    } else {
      emitter.on(name, listener);
    }
  } else if (typeof emitter.addEventListener === 'function') {
    // EventTarget does not have `error` event semantics like Node
    // EventEmitters, we do not listen for `error` events here.
    emitter.addEventListener(name, function wrapListener(arg) {
      // IE does not have builtin `{ once: true }` support so we
      // have to do it manually.
      if (flags.once) {
        emitter.removeEventListener(name, wrapListener);
      }
      listener(arg);
    });
  } else {
    throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + (typeof emitter === 'undefined' ? 'undefined' : _typeof(emitter)));
  }
}

/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout() {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
})();
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch (e) {
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch (e) {
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }
}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e) {
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e) {
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }
}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while (len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) {
    return [];
};

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () {
    return '/';
};
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function () {
    return 0;
};

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var g;

// This works in non-strict mode
g = function () {
	return this;
}();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if ((typeof window === "undefined" ? "undefined" : _typeof(window)) === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;

/***/ }),

/***/ "./node_modules/webworkify/index.js":
/*!******************************************!*\
  !*** ./node_modules/webworkify/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var bundleFn = arguments[3];
var sources = arguments[4];
var cache = arguments[5];

var stringify = JSON.stringify;

module.exports = function (fn, options) {
    var wkey;
    var cacheKeys = Object.keys(cache);

    for (var i = 0, l = cacheKeys.length; i < l; i++) {
        var key = cacheKeys[i];
        var exp = cache[key].exports;
        // Using babel as a transpiler to use esmodule, the export will always
        // be an object with the default export as a property of it. To ensure
        // the existing api and babel esmodule exports are both supported we
        // check for both
        if (exp === fn || exp && exp.default === fn) {
            wkey = key;
            break;
        }
    }

    if (!wkey) {
        wkey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);
        var wcache = {};
        for (var i = 0, l = cacheKeys.length; i < l; i++) {
            var key = cacheKeys[i];
            wcache[key] = key;
        }
        sources[wkey] = ['function(require,module,exports){' + fn + '(self); }', wcache];
    }
    var skey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);

    var scache = {};scache[wkey] = wkey;
    sources[skey] = ['function(require,module,exports){' +
    // try to call default if defined to also support babel esmodule exports
    'var f = require(' + stringify(wkey) + ');' + '(f.default ? f.default : f)(self);' + '}', scache];

    var workerSources = {};
    resolveSources(skey);

    function resolveSources(key) {
        workerSources[key] = true;

        for (var depPath in sources[key][1]) {
            var depKey = sources[key][1][depPath];
            if (!workerSources[depKey]) {
                resolveSources(depKey);
            }
        }
    }

    var src = '(' + bundleFn + ')({' + Object.keys(workerSources).map(function (key) {
        return stringify(key) + ':[' + sources[key][0] + ',' + stringify(sources[key][1]) + ']';
    }).join(',') + '},{},[' + stringify(skey) + '])';

    var URL = window.URL || window.webkitURL || window.mozURL || window.msURL;

    var blob = new Blob([src], { type: 'text/javascript' });
    if (options && options.bare) {
        return blob;
    }
    var workerUrl = URL.createObjectURL(blob);
    var worker = new Worker(workerUrl);
    worker.objectURL = workerUrl;
    return worker;
};

/***/ }),

/***/ "./src/flv/config.js":
/*!***************************!*\
  !*** ./src/flv/config.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.createDefaultConfig = createDefaultConfig;
/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var defaultConfig = exports.defaultConfig = {
    enableWorker: false,
    enableStashBuffer: true,
    stashInitialSize: undefined,

    isLive: false,

    lazyLoad: true,
    lazyLoadMaxDuration: 3 * 60,
    lazyLoadRecoverDuration: 30,
    deferLoadAfterSourceOpen: true,

    // autoCleanupSourceBuffer: default as false, leave unspecified
    autoCleanupMaxBackwardDuration: 3 * 60,
    autoCleanupMinBackwardDuration: 2 * 60,

    statisticsInfoReportInterval: 600,

    fixAudioTimestampGap: true,

    accurateSeek: false,
    seekType: 'range', // [range, param, custom]
    seekParamStart: 'bstart',
    seekParamEnd: 'bend',
    rangeLoadZeroStart: false,
    customSeekHandler: undefined,
    reuseRedirectedURL: false
    // referrerPolicy: leave as unspecified
};

function createDefaultConfig() {
    return Object.assign({}, defaultConfig);
}

/***/ }),

/***/ "./src/flv/core/features.js":
/*!**********************************!*\
  !*** ./src/flv/core/features.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _ioController = __webpack_require__(/*! ../io/io-controller.js */ "./src/flv/io/io-controller.js");

var _ioController2 = _interopRequireDefault(_ioController);

var _config = __webpack_require__(/*! ../config.js */ "./src/flv/config.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Features = function () {
    function Features() {
        _classCallCheck(this, Features);
    }

    _createClass(Features, null, [{
        key: 'supportMSEH264Playback',
        value: function supportMSEH264Playback() {
            return window.MediaSource && window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');
        }
    }, {
        key: 'supportNetworkStreamIO',
        value: function supportNetworkStreamIO() {
            var ioctl = new _ioController2.default({}, (0, _config.createDefaultConfig)());
            var loaderType = ioctl.loaderType;
            ioctl.destroy();
            return loaderType == 'fetch-stream-loader' || loaderType == 'xhr-moz-chunked-loader';
        }
    }, {
        key: 'getNetworkLoaderTypeName',
        value: function getNetworkLoaderTypeName() {
            var ioctl = new _ioController2.default({}, (0, _config.createDefaultConfig)());
            var loaderType = ioctl.loaderType;
            ioctl.destroy();
            return loaderType;
        }
    }, {
        key: 'supportNativeMediaPlayback',
        value: function supportNativeMediaPlayback(mimeType) {
            if (Features.videoElement == undefined) {
                Features.videoElement = window.document.createElement('video');
            }
            var canPlay = Features.videoElement.canPlayType(mimeType);
            return canPlay === 'probably' || canPlay == 'maybe';
        }
    }, {
        key: 'getFeatureList',
        value: function getFeatureList() {
            var features = {
                mseFlvPlayback: false,
                mseLiveFlvPlayback: false,
                networkStreamIO: false,
                networkLoaderName: '',
                nativeMP4H264Playback: false,
                nativeWebmVP8Playback: false,
                nativeWebmVP9Playback: false
            };

            features.mseFlvPlayback = Features.supportMSEH264Playback();
            features.networkStreamIO = Features.supportNetworkStreamIO();
            features.networkLoaderName = Features.getNetworkLoaderTypeName();
            features.mseLiveFlvPlayback = features.mseFlvPlayback && features.networkStreamIO;
            features.nativeMP4H264Playback = Features.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"');
            features.nativeWebmVP8Playback = Features.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"');
            features.nativeWebmVP9Playback = Features.supportNativeMediaPlayback('video/webm; codecs="vp9"');

            return features;
        }
    }]);

    return Features;
}();

exports.default = Features;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/core/media-info.js":
/*!************************************!*\
  !*** ./src/flv/core/media-info.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var MediaInfo = function () {
    function MediaInfo() {
        _classCallCheck(this, MediaInfo);

        this.mimeType = null;
        this.duration = null;

        this.hasAudio = null;
        this.hasVideo = null;
        this.audioCodec = null;
        this.videoCodec = null;
        this.audioDataRate = null;
        this.videoDataRate = null;

        this.audioSampleRate = null;
        this.audioChannelCount = null;

        this.width = null;
        this.height = null;
        this.fps = null;
        this.profile = null;
        this.level = null;
        this.refFrames = null;
        this.chromaFormat = null;
        this.sarNum = null;
        this.sarDen = null;

        this.metadata = null;
        this.segments = null; // MediaInfo[]
        this.segmentCount = null;
        this.hasKeyframesIndex = null;
        this.keyframesIndex = null;
    }

    _createClass(MediaInfo, [{
        key: "isComplete",
        value: function isComplete() {
            var audioInfoComplete = this.hasAudio === false || this.hasAudio === true && this.audioCodec != null && this.audioSampleRate != null && this.audioChannelCount != null;

            var videoInfoComplete = this.hasVideo === false || this.hasVideo === true && this.videoCodec != null && this.width != null && this.height != null && this.fps != null && this.profile != null && this.level != null && this.refFrames != null && this.chromaFormat != null && this.sarNum != null && this.sarDen != null;

            // keyframesIndex may not be present
            return this.mimeType != null && this.duration != null && this.metadata != null && this.hasKeyframesIndex != null && audioInfoComplete && videoInfoComplete;
        }
    }, {
        key: "isSeekable",
        value: function isSeekable() {
            return this.hasKeyframesIndex === true;
        }
    }, {
        key: "getNearestKeyframe",
        value: function getNearestKeyframe(milliseconds) {
            if (this.keyframesIndex == null) {
                return null;
            }

            var table = this.keyframesIndex;
            var keyframeIdx = this._search(table.times, milliseconds);

            return {
                index: keyframeIdx,
                milliseconds: table.times[keyframeIdx],
                fileposition: table.filepositions[keyframeIdx]
            };
        }
    }, {
        key: "_search",
        value: function _search(list, value) {
            var idx = 0;

            var last = list.length - 1;
            var mid = 0;
            var lbound = 0;
            var ubound = last;

            if (value < list[0]) {
                idx = 0;
                lbound = ubound + 1; // skip search
            }

            while (lbound <= ubound) {
                mid = lbound + Math.floor((ubound - lbound) / 2);
                if (mid === last || value >= list[mid] && value < list[mid + 1]) {
                    idx = mid;
                    break;
                } else if (list[mid] < value) {
                    lbound = mid + 1;
                } else {
                    ubound = mid - 1;
                }
            }

            return idx;
        }
    }]);

    return MediaInfo;
}();

exports.default = MediaInfo;
module.exports = exports["default"];

/***/ }),

/***/ "./src/flv/core/media-segment-info.js":
/*!********************************************!*\
  !*** ./src/flv/core/media-segment-info.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

// Represents an media sample (audio / video)
var SampleInfo = exports.SampleInfo = function SampleInfo(dts, pts, duration, originalDts, isSync) {
    _classCallCheck(this, SampleInfo);

    this.dts = dts;
    this.pts = pts;
    this.duration = duration;
    this.originalDts = originalDts;
    this.isSyncPoint = isSync;
    this.fileposition = null;
};

// Media Segment concept is defined in Media Source Extensions spec.
// Particularly in ISO BMFF format, an Media Segment contains a moof box followed by a mdat box.


var MediaSegmentInfo = exports.MediaSegmentInfo = function () {
    function MediaSegmentInfo() {
        _classCallCheck(this, MediaSegmentInfo);

        this.beginDts = 0;
        this.endDts = 0;
        this.beginPts = 0;
        this.endPts = 0;
        this.originalBeginDts = 0;
        this.originalEndDts = 0;
        this.syncPoints = []; // SampleInfo[n], for video IDR frames only
        this.firstSample = null; // SampleInfo
        this.lastSample = null; // SampleInfo
    }

    _createClass(MediaSegmentInfo, [{
        key: "appendSyncPoint",
        value: function appendSyncPoint(sampleInfo) {
            // also called Random Access Point
            sampleInfo.isSyncPoint = true;
            this.syncPoints.push(sampleInfo);
        }
    }]);

    return MediaSegmentInfo;
}();

// Ordered list for recording video IDR frames, sorted by originalDts


var IDRSampleList = exports.IDRSampleList = function () {
    function IDRSampleList() {
        _classCallCheck(this, IDRSampleList);

        this._list = [];
    }

    _createClass(IDRSampleList, [{
        key: "clear",
        value: function clear() {
            this._list = [];
        }
    }, {
        key: "appendArray",
        value: function appendArray(syncPoints) {
            var list = this._list;

            if (syncPoints.length === 0) {
                return;
            }

            if (list.length > 0 && syncPoints[0].originalDts < list[list.length - 1].originalDts) {
                this.clear();
            }

            Array.prototype.push.apply(list, syncPoints);
        }
    }, {
        key: "getLastSyncPointBeforeDts",
        value: function getLastSyncPointBeforeDts(dts) {
            if (this._list.length == 0) {
                return null;
            }

            var list = this._list;
            var idx = 0;
            var last = list.length - 1;
            var mid = 0;
            var lbound = 0;
            var ubound = last;

            if (dts < list[0].dts) {
                idx = 0;
                lbound = ubound + 1;
            }

            while (lbound <= ubound) {
                mid = lbound + Math.floor((ubound - lbound) / 2);
                if (mid === last || dts >= list[mid].dts && dts < list[mid + 1].dts) {
                    idx = mid;
                    break;
                } else if (list[mid].dts < dts) {
                    lbound = mid + 1;
                } else {
                    ubound = mid - 1;
                }
            }
            return this._list[idx];
        }
    }]);

    return IDRSampleList;
}();

// Data structure for recording information of media segments in single track.


var MediaSegmentInfoList = exports.MediaSegmentInfoList = function () {
    function MediaSegmentInfoList(type) {
        _classCallCheck(this, MediaSegmentInfoList);

        this._type = type;
        this._list = [];
        this._lastAppendLocation = -1; // cached last insert location
    }

    _createClass(MediaSegmentInfoList, [{
        key: "isEmpty",
        value: function isEmpty() {
            return this._list.length === 0;
        }
    }, {
        key: "clear",
        value: function clear() {
            this._list = [];
            this._lastAppendLocation = -1;
        }
    }, {
        key: "_searchNearestSegmentBefore",
        value: function _searchNearestSegmentBefore(originalBeginDts) {
            var list = this._list;
            if (list.length === 0) {
                return -2;
            }
            var last = list.length - 1;
            var mid = 0;
            var lbound = 0;
            var ubound = last;

            var idx = 0;

            if (originalBeginDts < list[0].originalBeginDts) {
                idx = -1;
                return idx;
            }

            while (lbound <= ubound) {
                mid = lbound + Math.floor((ubound - lbound) / 2);
                if (mid === last || originalBeginDts > list[mid].lastSample.originalDts && originalBeginDts < list[mid + 1].originalBeginDts) {
                    idx = mid;
                    break;
                } else if (list[mid].originalBeginDts < originalBeginDts) {
                    lbound = mid + 1;
                } else {
                    ubound = mid - 1;
                }
            }
            return idx;
        }
    }, {
        key: "_searchNearestSegmentAfter",
        value: function _searchNearestSegmentAfter(originalBeginDts) {
            return this._searchNearestSegmentBefore(originalBeginDts) + 1;
        }
    }, {
        key: "append",
        value: function append(mediaSegmentInfo) {
            var list = this._list;
            var msi = mediaSegmentInfo;
            var lastAppendIdx = this._lastAppendLocation;
            var insertIdx = 0;

            if (lastAppendIdx !== -1 && lastAppendIdx < list.length && msi.originalBeginDts >= list[lastAppendIdx].lastSample.originalDts && (lastAppendIdx === list.length - 1 || lastAppendIdx < list.length - 1 && msi.originalBeginDts < list[lastAppendIdx + 1].originalBeginDts)) {
                insertIdx = lastAppendIdx + 1; // use cached location idx
            } else {
                if (list.length > 0) {
                    insertIdx = this._searchNearestSegmentBefore(msi.originalBeginDts) + 1;
                }
            }

            this._lastAppendLocation = insertIdx;
            this._list.splice(insertIdx, 0, msi);
        }
    }, {
        key: "getLastSegmentBefore",
        value: function getLastSegmentBefore(originalBeginDts) {
            var idx = this._searchNearestSegmentBefore(originalBeginDts);
            if (idx >= 0) {
                return this._list[idx];
            } else {
                // -1
                return null;
            }
        }
    }, {
        key: "getLastSampleBefore",
        value: function getLastSampleBefore(originalBeginDts) {
            var segment = this.getLastSegmentBefore(originalBeginDts);
            if (segment != null) {
                return segment.lastSample;
            } else {
                return null;
            }
        }
    }, {
        key: "getLastSyncPointBefore",
        value: function getLastSyncPointBefore(originalBeginDts) {
            var segmentIdx = this._searchNearestSegmentBefore(originalBeginDts);
            var syncPoints = this._list[segmentIdx].syncPoints;
            while (syncPoints.length === 0 && segmentIdx > 0) {
                segmentIdx--;
                syncPoints = this._list[segmentIdx].syncPoints;
            }
            if (syncPoints.length > 0) {
                return syncPoints[syncPoints.length - 1];
            } else {
                return null;
            }
        }
    }, {
        key: "type",
        get: function get() {
            return this._type;
        }
    }, {
        key: "length",
        get: function get() {
            return this._list.length;
        }
    }]);

    return MediaSegmentInfoList;
}();

/***/ }),

/***/ "./src/flv/core/mse-controller.js":
/*!****************************************!*\
  !*** ./src/flv/core/mse-controller.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _events = __webpack_require__(/*! events */ "./node_modules/events/events.js");

var _events2 = _interopRequireDefault(_events);

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _browser = __webpack_require__(/*! ../utils/browser.js */ "./src/flv/utils/browser.js");

var _browser2 = _interopRequireDefault(_browser);

var _mseEvents = __webpack_require__(/*! ./mse-events.js */ "./src/flv/core/mse-events.js");

var _mseEvents2 = _interopRequireDefault(_mseEvents);

var _mediaSegmentInfo = __webpack_require__(/*! ./media-segment-info.js */ "./src/flv/core/media-segment-info.js");

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// Media Source Extensions controller
var MSEController = function () {
    function MSEController(config) {
        _classCallCheck(this, MSEController);

        this.TAG = 'MSEController';

        this._config = config;
        this._emitter = new _events2.default();

        if (this._config.isLive && this._config.autoCleanupSourceBuffer == undefined) {
            // For live stream, do auto cleanup by default
            this._config.autoCleanupSourceBuffer = true;
        }

        this.e = {
            onSourceOpen: this._onSourceOpen.bind(this),
            onSourceEnded: this._onSourceEnded.bind(this),
            onSourceClose: this._onSourceClose.bind(this),
            onSourceBufferError: this._onSourceBufferError.bind(this),
            onSourceBufferUpdateEnd: this._onSourceBufferUpdateEnd.bind(this)
        };

        this._mediaSource = null;
        this._mediaSourceObjectURL = null;
        this._mediaElement = null;

        this._isBufferFull = false;
        this._hasPendingEos = false;

        this._requireSetMediaDuration = false;
        this._pendingMediaDuration = 0;

        this._pendingSourceBufferInit = [];
        this._mimeTypes = {
            video: null,
            audio: null
        };
        this._sourceBuffers = {
            video: null,
            audio: null
        };
        this._lastInitSegments = {
            video: null,
            audio: null
        };
        this._pendingSegments = {
            video: [],
            audio: []
        };
        this._pendingRemoveRanges = {
            video: [],
            audio: []
        };
        this._idrList = new _mediaSegmentInfo.IDRSampleList();
    }

    _createClass(MSEController, [{
        key: 'destroy',
        value: function destroy() {
            if (this._mediaElement || this._mediaSource) {
                this.detachMediaElement();
            }
            this.e = null;
            this._emitter.removeAllListeners();
            this._emitter = null;
        }
    }, {
        key: 'on',
        value: function on(event, listener) {
            this._emitter.addListener(event, listener);
        }
    }, {
        key: 'off',
        value: function off(event, listener) {
            this._emitter.removeListener(event, listener);
        }
    }, {
        key: 'attachMediaElement',
        value: function attachMediaElement(mediaElement) {
            if (this._mediaSource) {
                throw new _exception.IllegalStateException('MediaSource has been attached to an HTMLMediaElement!');
            }
            var ms = this._mediaSource = new window.MediaSource();
            ms.addEventListener('sourceopen', this.e.onSourceOpen);
            ms.addEventListener('sourceended', this.e.onSourceEnded);
            ms.addEventListener('sourceclose', this.e.onSourceClose);

            this._mediaElement = mediaElement;
            this._mediaSourceObjectURL = window.URL.createObjectURL(this._mediaSource);
            mediaElement.src = this._mediaSourceObjectURL;
        }
    }, {
        key: 'detachMediaElement',
        value: function detachMediaElement() {
            if (this._mediaSource) {
                var ms = this._mediaSource;
                for (var type in this._sourceBuffers) {
                    // pending segments should be discard
                    var ps = this._pendingSegments[type];
                    ps.splice(0, ps.length);
                    this._pendingSegments[type] = null;
                    this._pendingRemoveRanges[type] = null;
                    this._lastInitSegments[type] = null;

                    // remove all sourcebuffers
                    var sb = this._sourceBuffers[type];
                    if (sb) {
                        if (ms.readyState !== 'closed') {
                            ms.removeSourceBuffer(sb);
                            sb.removeEventListener('error', this.e.onSourceBufferError);
                            sb.removeEventListener('updateend', this.e.onSourceBufferUpdateEnd);
                        }
                        this._mimeTypes[type] = null;
                        this._sourceBuffers[type] = null;
                    }
                }
                if (ms.readyState === 'open') {
                    try {
                        ms.endOfStream();
                    } catch (error) {
                        _logger2.default.e(this.TAG, error.message);
                    }
                }
                ms.removeEventListener('sourceopen', this.e.onSourceOpen);
                ms.removeEventListener('sourceended', this.e.onSourceEnded);
                ms.removeEventListener('sourceclose', this.e.onSourceClose);
                this._pendingSourceBufferInit = [];
                this._isBufferFull = false;
                this._idrList.clear();
                this._mediaSource = null;
            }

            if (this._mediaElement) {
                this._mediaElement.src = '';
                this._mediaElement.removeAttribute('src');
                this._mediaElement = null;
            }
            if (this._mediaSourceObjectURL) {
                window.URL.revokeObjectURL(this._mediaSourceObjectURL);
                this._mediaSourceObjectURL = null;
            }
        }
    }, {
        key: 'appendInitSegment',
        value: function appendInitSegment(initSegment, deferred) {
            if (!this._mediaSource || this._mediaSource.readyState !== 'open') {
                // sourcebuffer creation requires mediaSource.readyState === 'open'
                // so we defer the sourcebuffer creation, until sourceopen event triggered
                this._pendingSourceBufferInit.push(initSegment);
                // make sure that this InitSegment is in the front of pending segments queue
                this._pendingSegments[initSegment.type].push(initSegment);
                // console.log(`${initSegment.type}`, initSegment)
                return;
            }

            var is = initSegment;
            var mimeType = '' + is.container;
            if (is.codec && is.codec.length > 0) {
                mimeType += ';codecs=' + is.codec;
            }

            var firstInitSegment = false;

            _logger2.default.v(this.TAG, 'Received Initialization Segment, mimeType: ' + mimeType);
            this._lastInitSegments[is.type] = is;

            if (mimeType !== this._mimeTypes[is.type]) {
                if (!this._mimeTypes[is.type]) {
                    // empty, first chance create sourcebuffer
                    firstInitSegment = true;
                    try {
                        var sb = this._sourceBuffers[is.type] = this._mediaSource.addSourceBuffer(mimeType);
                        sb.addEventListener('error', this.e.onSourceBufferError);
                        sb.addEventListener('updateend', this.e.onSourceBufferUpdateEnd);
                    } catch (error) {
                        _logger2.default.e(this.TAG, error.message);
                        this._emitter.emit(_mseEvents2.default.ERROR, { code: error.code, msg: error.message });
                        return;
                    }
                } else {
                    _logger2.default.v(this.TAG, 'Notice: ' + is.type + ' mimeType changed, origin: ' + this._mimeTypes[is.type] + ', target: ' + mimeType);
                }
                this._mimeTypes[is.type] = mimeType;
            }

            if (!deferred) {
                // deferred means this InitSegment has been pushed to pendingSegments queue
                this._pendingSegments[is.type].push(is);
            }
            if (!firstInitSegment) {
                // append immediately only if init segment in subsequence
                if (this._sourceBuffers[is.type] && !this._sourceBuffers[is.type].updating) {
                    this._doAppendSegments();
                }
            }
            if (_browser2.default.safari && is.container === 'audio/mpeg' && is.mediaDuration > 0) {
                // 'audio/mpeg' track under Safari may cause MediaElement's duration to be NaN
                // Manually correct MediaSource.duration to make progress bar seekable, and report right duration
                this._requireSetMediaDuration = true;
                this._pendingMediaDuration = is.mediaDuration / 1000; // in seconds
                this._updateMediaSourceDuration();
            }
        }
    }, {
        key: 'appendMediaSegment',
        value: function appendMediaSegment(mediaSegment) {
            var ms = mediaSegment;
            this._pendingSegments[ms.type].push(ms);

            if (this._config.autoCleanupSourceBuffer && this._needCleanupSourceBuffer()) {
                this._doCleanupSourceBuffer();
            }

            var sb = this._sourceBuffers[ms.type];
            if (sb && !sb.updating && !this._hasPendingRemoveRanges()) {
                this._doAppendSegments();
            }
        }
    }, {
        key: 'seek',
        value: function seek(seconds) {
            // remove all appended buffers
            for (var type in this._sourceBuffers) {
                if (!this._sourceBuffers[type]) {
                    continue;
                }

                // abort current buffer append algorithm
                var sb = this._sourceBuffers[type];
                if (this._mediaSource.readyState === 'open') {
                    try {
                        // If range removal algorithm is running, InvalidStateError will be throwed
                        // Ignore it.
                        sb.abort();
                    } catch (error) {
                        _logger2.default.e(this.TAG, error.message);
                    }
                }

                // IDRList should be clear
                this._idrList.clear();

                // pending segments should be discard
                var ps = this._pendingSegments[type];
                ps.splice(0, ps.length);

                if (this._mediaSource.readyState === 'closed') {
                    // Parent MediaSource object has been detached from HTMLMediaElement
                    continue;
                }

                // record ranges to be remove from SourceBuffer
                for (var i = 0; i < sb.buffered.length; i++) {
                    var start = sb.buffered.start(i);
                    var end = sb.buffered.end(i);
                    this._pendingRemoveRanges[type].push({ start: start, end: end });
                }

                // if sb is not updating, let's remove ranges now!
                if (!sb.updating) {
                    this._doRemoveRanges();
                }

                // Safari 10 may get InvalidStateError in the later appendBuffer() after SourceBuffer.remove() call
                // Internal parser's state may be invalid at this time. Re-append last InitSegment to workaround.
                // Related issue: https://bugs.webkit.org/show_bug.cgi?id=159230
                if (_browser2.default.safari) {
                    var lastInitSegment = this._lastInitSegments[type];
                    if (lastInitSegment) {
                        this._pendingSegments[type].push(lastInitSegment);
                        if (!sb.updating) {
                            this._doAppendSegments();
                        }
                    }
                }
            }
        }
    }, {
        key: 'endOfStream',
        value: function endOfStream() {
            var ms = this._mediaSource;
            var sb = this._sourceBuffers;
            if (!ms || ms.readyState !== 'open') {
                if (ms && ms.readyState === 'closed' && this._hasPendingSegments()) {
                    // If MediaSource hasn't turned into open state, and there're pending segments
                    // Mark pending endOfStream, defer call until all pending segments appended complete
                    this._hasPendingEos = true;
                }
                return;
            }
            if (sb.video && sb.video.updating || sb.audio && sb.audio.updating) {
                // If any sourcebuffer is updating, defer endOfStream operation
                // See _onSourceBufferUpdateEnd()
                this._hasPendingEos = true;
            } else {
                this._hasPendingEos = false;
                // Notify media data loading complete
                // This is helpful for correcting total duration to match last media segment
                // Otherwise MediaElement's ended event may not be triggered
                ms.endOfStream();
            }
        }
    }, {
        key: 'getNearestKeyframe',
        value: function getNearestKeyframe(dts) {
            return this._idrList.getLastSyncPointBeforeDts(dts);
        }
    }, {
        key: '_needCleanupSourceBuffer',
        value: function _needCleanupSourceBuffer() {
            if (!this._config.autoCleanupSourceBuffer) {
                return false;
            }

            var currentTime = this._mediaElement.currentTime;

            for (var type in this._sourceBuffers) {
                var sb = this._sourceBuffers[type];
                if (sb) {
                    var buffered = sb.buffered;
                    if (buffered.length >= 1) {
                        if (currentTime - buffered.start(0) >= this._config.autoCleanupMaxBackwardDuration) {
                            return true;
                        }
                    }
                }
            }

            return false;
        }
    }, {
        key: '_doCleanupSourceBuffer',
        value: function _doCleanupSourceBuffer() {
            var currentTime = this._mediaElement.currentTime;

            for (var type in this._sourceBuffers) {
                var sb = this._sourceBuffers[type];
                if (sb) {
                    var buffered = sb.buffered;
                    var doRemove = false;

                    for (var i = 0; i < buffered.length; i++) {
                        var start = buffered.start(i);
                        var end = buffered.end(i);

                        if (start <= currentTime && currentTime < end + 3) {
                            // padding 3 seconds
                            if (currentTime - start >= this._config.autoCleanupMaxBackwardDuration) {
                                doRemove = true;
                                var removeEnd = currentTime - this._config.autoCleanupMinBackwardDuration;
                                this._pendingRemoveRanges[type].push({ start: start, end: removeEnd });
                            }
                        } else if (end < currentTime) {
                            doRemove = true;
                            this._pendingRemoveRanges[type].push({ start: start, end: end });
                        }
                    }

                    if (doRemove && !sb.updating) {
                        this._doRemoveRanges();
                    }
                }
            }
        }
    }, {
        key: '_updateMediaSourceDuration',
        value: function _updateMediaSourceDuration() {
            var sb = this._sourceBuffers;
            if (this._mediaElement.readyState === 0 || this._mediaSource.readyState !== 'open') {
                return;
            }
            if (sb.video && sb.video.updating || sb.audio && sb.audio.updating) {
                return;
            }

            var current = this._mediaSource.duration;
            var target = this._pendingMediaDuration;

            if (target > 0 && (isNaN(current) || target > current)) {
                _logger2.default.v(this.TAG, 'Update MediaSource duration from ' + current + ' to ' + target);
                this._mediaSource.duration = target;
            }

            this._requireSetMediaDuration = false;
            this._pendingMediaDuration = 0;
        }
    }, {
        key: '_doRemoveRanges',
        value: function _doRemoveRanges() {
            for (var type in this._pendingRemoveRanges) {
                if (!this._sourceBuffers[type] || this._sourceBuffers[type].updating) {
                    continue;
                }
                var sb = this._sourceBuffers[type];
                var ranges = this._pendingRemoveRanges[type];
                while (ranges.length && !sb.updating) {
                    var range = ranges.shift();
                    sb.remove(range.start, range.end);
                }
            }
        }
    }, {
        key: '_doAppendSegments',
        value: function _doAppendSegments() {
            var pendingSegments = this._pendingSegments;

            for (var type in pendingSegments) {
                if (!this._sourceBuffers[type] || this._sourceBuffers[type].updating) {
                    continue;
                }

                if (pendingSegments[type].length > 0) {
                    var segment = pendingSegments[type].shift();

                    if (segment.timestampOffset) {
                        // For MPEG audio stream in MSE, if unbuffered-seeking occurred
                        // We need explicitly set timestampOffset to the desired point in timeline for mpeg SourceBuffer.
                        var currentOffset = this._sourceBuffers[type].timestampOffset;
                        var targetOffset = segment.timestampOffset / 1000; // in seconds

                        var delta = Math.abs(currentOffset - targetOffset);
                        if (delta > 0.1) {
                            // If time delta > 100ms
                            _logger2.default.v(this.TAG, 'Update MPEG audio timestampOffset from ' + currentOffset + ' to ' + targetOffset);
                            this._sourceBuffers[type].timestampOffset = targetOffset;
                        }
                        delete segment.timestampOffset;
                    }

                    if (!segment.data || segment.data.byteLength === 0) {
                        // Ignore empty buffer
                        continue;
                    }

                    try {
                        this._sourceBuffers[type].appendBuffer(segment.data);
                        this._isBufferFull = false;
                        if (type === 'video' && segment.hasOwnProperty('info')) {
                            this._idrList.appendArray(segment.info.syncPoints);
                        }
                    } catch (error) {
                        this._pendingSegments[type].unshift(segment);
                        if (error.code === 22) {
                            // QuotaExceededError
                            /* Notice that FireFox may not throw QuotaExceededError if SourceBuffer is full
                             * Currently we can only do lazy-load to avoid SourceBuffer become scattered.
                             * SourceBuffer eviction policy may be changed in future version of FireFox.
                             *
                             * Related issues:
                             * https://bugzilla.mozilla.org/show_bug.cgi?id=1279885
                             * https://bugzilla.mozilla.org/show_bug.cgi?id=1280023
                             */

                            // report buffer full, abort network IO
                            if (!this._isBufferFull) {
                                this._emitter.emit(_mseEvents2.default.BUFFER_FULL);
                            }
                            this._isBufferFull = true;
                        } else {
                            _logger2.default.e(this.TAG, error.message);
                            this._emitter.emit(_mseEvents2.default.ERROR, { code: error.code, msg: error.message });
                        }
                    }
                }
            }
        }
    }, {
        key: '_onSourceOpen',
        value: function _onSourceOpen() {
            _logger2.default.v(this.TAG, 'MediaSource onSourceOpen');
            this._mediaSource.removeEventListener('sourceopen', this.e.onSourceOpen);
            // deferred sourcebuffer creation / initialization
            if (this._pendingSourceBufferInit.length > 0) {
                var pendings = this._pendingSourceBufferInit;
                while (pendings.length) {
                    var segment = pendings.shift();
                    this.appendInitSegment(segment, true);
                }
            }
            // there may be some pending media segments, append them
            if (this._hasPendingSegments()) {
                this._doAppendSegments();
            }
            this._emitter.emit(_mseEvents2.default.SOURCE_OPEN);
        }
    }, {
        key: '_onSourceEnded',
        value: function _onSourceEnded() {
            // fired on endOfStream
            _logger2.default.v(this.TAG, 'MediaSource onSourceEnded');
        }
    }, {
        key: '_onSourceClose',
        value: function _onSourceClose() {
            // fired on detaching from media element
            _logger2.default.v(this.TAG, 'MediaSource onSourceClose');
            if (this._mediaSource && this.e != null) {
                this._mediaSource.removeEventListener('sourceopen', this.e.onSourceOpen);
                this._mediaSource.removeEventListener('sourceended', this.e.onSourceEnded);
                this._mediaSource.removeEventListener('sourceclose', this.e.onSourceClose);
            }
        }
    }, {
        key: '_hasPendingSegments',
        value: function _hasPendingSegments() {
            var ps = this._pendingSegments;
            return ps.video.length > 0 || ps.audio.length > 0;
        }
    }, {
        key: '_hasPendingRemoveRanges',
        value: function _hasPendingRemoveRanges() {
            var prr = this._pendingRemoveRanges;
            return prr.video.length > 0 || prr.audio.length > 0;
        }
    }, {
        key: '_onSourceBufferUpdateEnd',
        value: function _onSourceBufferUpdateEnd() {
            if (this._requireSetMediaDuration) {
                this._updateMediaSourceDuration();
            } else if (this._hasPendingRemoveRanges()) {
                this._doRemoveRanges();
            } else if (this._hasPendingSegments()) {
                this._doAppendSegments();
            } else if (this._hasPendingEos) {
                this.endOfStream();
            }
            this._emitter.emit(_mseEvents2.default.UPDATE_END);
        }
    }, {
        key: '_onSourceBufferError',
        value: function _onSourceBufferError(e) {
            _logger2.default.e(this.TAG, 'SourceBuffer Error: ' + e);
            // this error might not always be fatal, just ignore it
        }
    }]);

    return MSEController;
}();

exports.default = MSEController;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/core/mse-events.js":
/*!************************************!*\
  !*** ./src/flv/core/mse-events.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var MSEEvents = {
  ERROR: 'error',
  SOURCE_OPEN: 'source_open',
  UPDATE_END: 'update_end',
  BUFFER_FULL: 'buffer_full'
};

exports.default = MSEEvents;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/core/transmuxer.js":
/*!************************************!*\
  !*** ./src/flv/core/transmuxer.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _events = __webpack_require__(/*! events */ "./node_modules/events/events.js");

var _events2 = _interopRequireDefault(_events);

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _loggingControl = __webpack_require__(/*! ../utils/logging-control.js */ "./src/flv/utils/logging-control.js");

var _loggingControl2 = _interopRequireDefault(_loggingControl);

var _transmuxingController = __webpack_require__(/*! ./transmuxing-controller.js */ "./src/flv/core/transmuxing-controller.js");

var _transmuxingController2 = _interopRequireDefault(_transmuxingController);

var _transmuxingEvents = __webpack_require__(/*! ./transmuxing-events.js */ "./src/flv/core/transmuxing-events.js");

var _transmuxingEvents2 = _interopRequireDefault(_transmuxingEvents);

var _transmuxingWorker = __webpack_require__(/*! ./transmuxing-worker.js */ "./src/flv/core/transmuxing-worker.js");

var _transmuxingWorker2 = _interopRequireDefault(_transmuxingWorker);

var _mediaInfo = __webpack_require__(/*! ./media-info.js */ "./src/flv/core/media-info.js");

var _mediaInfo2 = _interopRequireDefault(_mediaInfo);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Transmuxer = function () {
    function Transmuxer(mediaDataSource, config) {
        _classCallCheck(this, Transmuxer);

        this.TAG = 'Transmuxer';
        this._emitter = new _events2.default();

        if (config.enableWorker && typeof Worker !== 'undefined') {
            try {
                var work = __webpack_require__(/*! webworkify */ "./node_modules/webworkify/index.js");
                this._worker = work(_transmuxingWorker2.default);
                this._workerDestroying = false;
                this._worker.addEventListener('message', this._onWorkerMessage.bind(this));
                this._worker.postMessage({ cmd: 'init', param: [mediaDataSource, config] });
                this.e = {
                    onLoggingConfigChanged: this._onLoggingConfigChanged.bind(this)
                };
                _loggingControl2.default.registerListener(this.e.onLoggingConfigChanged);
                this._worker.postMessage({ cmd: 'logging_config', param: _loggingControl2.default.getConfig() });
            } catch (error) {
                _logger2.default.e(this.TAG, 'Error while initialize transmuxing worker, fallback to inline transmuxing');
                this._worker = null;
                this._controller = new _transmuxingController2.default(mediaDataSource, config);
            }
        } else {
            this._controller = new _transmuxingController2.default(mediaDataSource, config);
        }

        if (this._controller) {
            var ctl = this._controller;
            ctl.on(_transmuxingEvents2.default.IO_ERROR, this._onIOError.bind(this));
            ctl.on(_transmuxingEvents2.default.DEMUX_ERROR, this._onDemuxError.bind(this));
            ctl.on(_transmuxingEvents2.default.INIT_SEGMENT, this._onInitSegment.bind(this));
            ctl.on(_transmuxingEvents2.default.MEDIA_SEGMENT, this._onMediaSegment.bind(this));
            ctl.on(_transmuxingEvents2.default.LOADING_COMPLETE, this._onLoadingComplete.bind(this));
            ctl.on(_transmuxingEvents2.default.RECOVERED_EARLY_EOF, this._onRecoveredEarlyEof.bind(this));
            ctl.on(_transmuxingEvents2.default.MEDIA_INFO, this._onMediaInfo.bind(this));
            ctl.on(_transmuxingEvents2.default.STATISTICS_INFO, this._onStatisticsInfo.bind(this));
            ctl.on(_transmuxingEvents2.default.RECOMMEND_SEEKPOINT, this._onRecommendSeekpoint.bind(this));
            ctl.on(_transmuxingEvents2.default.LOADED_SEI, this._onLoadedSei.bind(this));
        }
    }

    _createClass(Transmuxer, [{
        key: 'destroy',
        value: function destroy() {
            if (this._worker) {
                if (!this._workerDestroying) {
                    this._workerDestroying = true;
                    this._worker.postMessage({ cmd: 'destroy' });
                    _loggingControl2.default.removeListener(this.e.onLoggingConfigChanged);
                    this.e = null;
                }
            } else {
                this._controller.destroy();
                this._controller = null;
            }
            this._emitter.removeAllListeners();
            this._emitter = null;
        }
    }, {
        key: 'on',
        value: function on(event, listener) {
            this._emitter.addListener(event, listener);
        }
    }, {
        key: 'off',
        value: function off(event, listener) {
            this._emitter.removeListener(event, listener);
        }
    }, {
        key: 'hasWorker',
        value: function hasWorker() {
            return this._worker != null;
        }
    }, {
        key: 'open',
        value: function open() {
            if (this._worker) {
                this._worker.postMessage({ cmd: 'start' });
            } else {
                this._controller.start();
            }
        }
    }, {
        key: 'close',
        value: function close() {
            if (this._worker) {
                this._worker.postMessage({ cmd: 'stop' });
            } else {
                this._controller.stop();
            }
        }
    }, {
        key: 'seek',
        value: function seek(milliseconds) {
            if (this._worker) {
                this._worker.postMessage({ cmd: 'seek', param: milliseconds });
            } else {
                this._controller.seek(milliseconds);
            }
        }
    }, {
        key: 'pause',
        value: function pause() {
            if (this._worker) {
                this._worker.postMessage({ cmd: 'pause' });
            } else {
                this._controller.pause();
            }
        }
    }, {
        key: 'resume',
        value: function resume() {
            if (this._worker) {
                this._worker.postMessage({ cmd: 'resume' });
            } else {
                this._controller.resume();
            }
        }
    }, {
        key: '_onInitSegment',
        value: function _onInitSegment(type, initSegment) {
            var _this = this;

            // do async invoke
            Promise.resolve().then(function () {
                _this._emitter.emit(_transmuxingEvents2.default.INIT_SEGMENT, type, initSegment);
            });
        }
    }, {
        key: '_onMediaSegment',
        value: function _onMediaSegment(type, mediaSegment) {
            var _this2 = this;

            Promise.resolve().then(function () {
                _this2._emitter.emit(_transmuxingEvents2.default.MEDIA_SEGMENT, type, mediaSegment);
            });
        }
    }, {
        key: '_onLoadingComplete',
        value: function _onLoadingComplete() {
            var _this3 = this;

            Promise.resolve().then(function () {
                _this3._emitter.emit(_transmuxingEvents2.default.LOADING_COMPLETE);
            });
        }
    }, {
        key: '_onRecoveredEarlyEof',
        value: function _onRecoveredEarlyEof() {
            var _this4 = this;

            Promise.resolve().then(function () {
                _this4._emitter.emit(_transmuxingEvents2.default.RECOVERED_EARLY_EOF);
            });
        }
    }, {
        key: '_onMediaInfo',
        value: function _onMediaInfo(mediaInfo) {
            var _this5 = this;

            Promise.resolve().then(function () {
                _this5._emitter.emit(_transmuxingEvents2.default.MEDIA_INFO, mediaInfo);
            });
        }
    }, {
        key: '_onStatisticsInfo',
        value: function _onStatisticsInfo(statisticsInfo) {
            var _this6 = this;

            Promise.resolve().then(function () {
                _this6._emitter.emit(_transmuxingEvents2.default.STATISTICS_INFO, statisticsInfo);
            });
        }
    }, {
        key: '_onIOError',
        value: function _onIOError(type, info) {
            var _this7 = this;

            Promise.resolve().then(function () {
                _this7._emitter.emit(_transmuxingEvents2.default.IO_ERROR, type, info);
            });
        }
    }, {
        key: '_onDemuxError',
        value: function _onDemuxError(type, info) {
            var _this8 = this;

            Promise.resolve().then(function () {
                _this8._emitter.emit(_transmuxingEvents2.default.DEMUX_ERROR, type, info);
            });
        }
    }, {
        key: '_onRecommendSeekpoint',
        value: function _onRecommendSeekpoint(milliseconds) {
            var _this9 = this;

            Promise.resolve().then(function () {
                _this9._emitter.emit(_transmuxingEvents2.default.RECOMMEND_SEEKPOINT, milliseconds);
            });
        }
    }, {
        key: '_onLoadedSei',
        value: function _onLoadedSei(timestamp, data) {
            var _this10 = this;

            Promise.resolve().then(function () {
                _this10._emitter.emit(_transmuxingEvents2.default.LOADED_SEI, timestamp, data);
            });
        }
    }, {
        key: '_onLoggingConfigChanged',
        value: function _onLoggingConfigChanged(config) {
            if (this._worker) {
                this._worker.postMessage({ cmd: 'logging_config', param: config });
            }
        }
    }, {
        key: '_onWorkerMessage',
        value: function _onWorkerMessage(e) {
            var message = e.data;
            var data = message.data;

            if (message.msg === 'destroyed' || this._workerDestroying) {
                this._workerDestroying = false;
                this._worker.terminate();
                this._worker = null;
                return;
            }

            switch (message.msg) {
                case _transmuxingEvents2.default.INIT_SEGMENT:
                case _transmuxingEvents2.default.MEDIA_SEGMENT:
                    this._emitter.emit(message.msg, data.type, data.data);
                    break;
                case _transmuxingEvents2.default.LOADING_COMPLETE:
                case _transmuxingEvents2.default.RECOVERED_EARLY_EOF:
                    this._emitter.emit(message.msg);
                    break;
                case _transmuxingEvents2.default.MEDIA_INFO:
                    Object.setPrototypeOf(data, _mediaInfo2.default.prototype);
                    this._emitter.emit(message.msg, data);
                    break;
                case _transmuxingEvents2.default.STATISTICS_INFO:
                    this._emitter.emit(message.msg, data);
                    break;
                case _transmuxingEvents2.default.IO_ERROR:
                case _transmuxingEvents2.default.DEMUX_ERROR:
                    this._emitter.emit(message.msg, data.type, data.info);
                    break;
                case _transmuxingEvents2.default.RECOMMEND_SEEKPOINT:
                    this._emitter.emit(message.msg, data);
                    break;
                case 'logcat_callback':
                    _logger2.default.emitter.emit('log', data.type, data.logcat);
                    break;
                default:
                    break;
            }
        }
    }]);

    return Transmuxer;
}();

exports.default = Transmuxer;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/core/transmuxing-controller.js":
/*!************************************************!*\
  !*** ./src/flv/core/transmuxing-controller.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _events = __webpack_require__(/*! events */ "./node_modules/events/events.js");

var _events2 = _interopRequireDefault(_events);

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _browser = __webpack_require__(/*! ../utils/browser.js */ "./src/flv/utils/browser.js");

var _browser2 = _interopRequireDefault(_browser);

var _mediaInfo = __webpack_require__(/*! ./media-info.js */ "./src/flv/core/media-info.js");

var _mediaInfo2 = _interopRequireDefault(_mediaInfo);

var _flvDemuxer = __webpack_require__(/*! ../demux/flv-demuxer.js */ "./src/flv/demux/flv-demuxer.js");

var _flvDemuxer2 = _interopRequireDefault(_flvDemuxer);

var _mp4Remuxer = __webpack_require__(/*! ../remux/mp4-remuxer.js */ "./src/flv/remux/mp4-remuxer.js");

var _mp4Remuxer2 = _interopRequireDefault(_mp4Remuxer);

var _demuxErrors = __webpack_require__(/*! ../demux/demux-errors.js */ "./src/flv/demux/demux-errors.js");

var _demuxErrors2 = _interopRequireDefault(_demuxErrors);

var _ioController = __webpack_require__(/*! ../io/io-controller.js */ "./src/flv/io/io-controller.js");

var _ioController2 = _interopRequireDefault(_ioController);

var _transmuxingEvents = __webpack_require__(/*! ./transmuxing-events.js */ "./src/flv/core/transmuxing-events.js");

var _transmuxingEvents2 = _interopRequireDefault(_transmuxingEvents);

var _loader = __webpack_require__(/*! ../io/loader.js */ "./src/flv/io/loader.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// Transmuxing (IO, Demuxing, Remuxing) controller, with multipart support
var TransmuxingController = function () {
    function TransmuxingController(mediaDataSource, config) {
        _classCallCheck(this, TransmuxingController);

        this.TAG = 'TransmuxingController';
        this._emitter = new _events2.default();

        this._config = config;

        // treat single part media as multipart media, which has only one segment
        if (!mediaDataSource.segments) {
            mediaDataSource.segments = [{
                duration: mediaDataSource.duration,
                filesize: mediaDataSource.filesize,
                url: mediaDataSource.url
            }];
        }

        // fill in default IO params if not exists
        if (typeof mediaDataSource.cors !== 'boolean') {
            mediaDataSource.cors = true;
        }
        if (typeof mediaDataSource.withCredentials !== 'boolean') {
            mediaDataSource.withCredentials = false;
        }

        this._mediaDataSource = mediaDataSource;
        this._currentSegmentIndex = 0;
        var totalDuration = 0;

        this._mediaDataSource.segments.forEach(function (segment) {
            // timestampBase for each segment, and calculate total duration
            segment.timestampBase = totalDuration;
            totalDuration += segment.duration;
            // params needed by IOController
            segment.cors = mediaDataSource.cors;
            segment.withCredentials = mediaDataSource.withCredentials;
            // referrer policy control, if exist
            if (config.referrerPolicy) {
                segment.referrerPolicy = config.referrerPolicy;
            }
        });

        if (!isNaN(totalDuration) && this._mediaDataSource.duration !== totalDuration) {
            this._mediaDataSource.duration = totalDuration;
        }

        this._mediaInfo = null;
        this._demuxer = null;
        this._remuxer = null;
        this._ioctl = null;

        this._pendingSeekTime = null;
        this._pendingResolveSeekPoint = null;

        this._statisticsReporter = null;
    }

    _createClass(TransmuxingController, [{
        key: 'destroy',
        value: function destroy() {
            this._mediaInfo = null;
            this._mediaDataSource = null;

            if (this._statisticsReporter) {
                this._disableStatisticsReporter();
            }
            if (this._ioctl) {
                this._ioctl.destroy();
                this._ioctl = null;
            }
            if (this._demuxer) {
                this._demuxer.destroy();
                this._demuxer = null;
            }
            if (this._remuxer) {
                this._remuxer.destroy();
                this._remuxer = null;
            }

            this._emitter.removeAllListeners();
            this._emitter = null;
        }
    }, {
        key: 'on',
        value: function on(event, listener) {
            this._emitter.addListener(event, listener);
        }
    }, {
        key: 'off',
        value: function off(event, listener) {
            this._emitter.removeListener(event, listener);
        }
    }, {
        key: 'start',
        value: function start() {
            this._loadSegment(0);
            this._enableStatisticsReporter();
        }
    }, {
        key: '_loadSegment',
        value: function _loadSegment(segmentIndex, optionalFrom) {
            this._currentSegmentIndex = segmentIndex;
            var dataSource = this._mediaDataSource.segments[segmentIndex];

            var ioctl = this._ioctl = new _ioController2.default(dataSource, this._config, segmentIndex);
            ioctl.onError = this._onIOException.bind(this);
            ioctl.onSeeked = this._onIOSeeked.bind(this);
            ioctl.onComplete = this._onIOComplete.bind(this);
            ioctl.onRedirect = this._onIORedirect.bind(this);
            ioctl.onRecoveredEarlyEof = this._onIORecoveredEarlyEof.bind(this);

            if (optionalFrom) {
                this._demuxer.bindDataSource(this._ioctl);
            } else {
                ioctl.onDataArrival = this._onInitChunkArrival.bind(this);
            }

            ioctl.open(optionalFrom);
        }
    }, {
        key: 'stop',
        value: function stop() {
            this._internalAbort();
            this._disableStatisticsReporter();
        }
    }, {
        key: '_internalAbort',
        value: function _internalAbort() {
            if (this._ioctl) {
                this._ioctl.destroy();
                this._ioctl = null;
            }
        }
    }, {
        key: 'pause',
        value: function pause() {
            // take a rest
            if (this._ioctl && this._ioctl.isWorking()) {
                this._ioctl.pause();
                this._disableStatisticsReporter();
            }
        }
    }, {
        key: 'resume',
        value: function resume() {
            if (this._ioctl && this._ioctl.isPaused()) {
                this._ioctl.resume();
                this._enableStatisticsReporter();
            }
        }
    }, {
        key: 'seek',
        value: function seek(milliseconds) {
            if (this._mediaInfo == null || !this._mediaInfo.isSeekable()) {
                return;
            }

            var targetSegmentIndex = this._searchSegmentIndexContains(milliseconds);

            if (targetSegmentIndex === this._currentSegmentIndex) {
                // intra-segment seeking
                var segmentInfo = this._mediaInfo.segments[targetSegmentIndex];

                if (segmentInfo == undefined) {
                    // current segment loading started, but mediainfo hasn't received yet
                    // wait for the metadata loaded, then seek to expected position
                    this._pendingSeekTime = milliseconds;
                } else {
                    var keyframe = segmentInfo.getNearestKeyframe(milliseconds);
                    this._remuxer.seek(keyframe.milliseconds);
                    this._ioctl.seek(keyframe.fileposition);
                    // Will be resolved in _onRemuxerMediaSegmentArrival()
                    this._pendingResolveSeekPoint = keyframe.milliseconds;
                }
            } else {
                // cross-segment seeking
                var targetSegmentInfo = this._mediaInfo.segments[targetSegmentIndex];

                if (targetSegmentInfo == undefined) {
                    // target segment hasn't been loaded. We need metadata then seek to expected time
                    this._pendingSeekTime = milliseconds;
                    this._internalAbort();
                    this._remuxer.seek();
                    this._remuxer.insertDiscontinuity();
                    this._loadSegment(targetSegmentIndex);
                    // Here we wait for the metadata loaded, then seek to expected position
                } else {
                    // We have target segment's metadata, direct seek to target position
                    var _keyframe = targetSegmentInfo.getNearestKeyframe(milliseconds);
                    this._internalAbort();
                    this._remuxer.seek(milliseconds);
                    this._remuxer.insertDiscontinuity();
                    this._demuxer.resetMediaInfo();
                    this._demuxer.timestampBase = this._mediaDataSource.segments[targetSegmentIndex].timestampBase;
                    this._loadSegment(targetSegmentIndex, _keyframe.fileposition);
                    this._pendingResolveSeekPoint = _keyframe.milliseconds;
                    this._reportSegmentMediaInfo(targetSegmentIndex);
                }
            }

            this._enableStatisticsReporter();
        }
    }, {
        key: '_searchSegmentIndexContains',
        value: function _searchSegmentIndexContains(milliseconds) {
            var segments = this._mediaDataSource.segments;
            var idx = segments.length - 1;

            for (var i = 0; i < segments.length; i++) {
                if (milliseconds < segments[i].timestampBase) {
                    idx = i - 1;
                    break;
                }
            }
            return idx;
        }
    }, {
        key: '_onInitChunkArrival',
        value: function _onInitChunkArrival(data, byteStart) {
            var _this = this;

            var probeData = null;
            var consumed = 0;

            if (byteStart > 0) {
                // IOController seeked immediately after opened, byteStart > 0 callback may received
                this._demuxer.bindDataSource(this._ioctl);
                this._demuxer.timestampBase = this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase;

                consumed = this._demuxer.parseChunks(data, byteStart);
            } else if ((probeData = _flvDemuxer2.default.probe(data)).match) {
                // Always create new FLVDemuxer
                this._demuxer = new _flvDemuxer2.default(probeData, this._config);

                if (!this._remuxer) {
                    this._remuxer = new _mp4Remuxer2.default(this._config);
                }

                var mds = this._mediaDataSource;
                if (mds.duration != undefined && !isNaN(mds.duration)) {
                    this._demuxer.overridedDuration = mds.duration;
                }
                if (typeof mds.hasAudio === 'boolean') {
                    this._demuxer.overridedHasAudio = mds.hasAudio;
                }
                if (typeof mds.hasVideo === 'boolean') {
                    this._demuxer.overridedHasVideo = mds.hasVideo;
                }

                this._demuxer.timestampBase = mds.segments[this._currentSegmentIndex].timestampBase;

                this._demuxer.onError = this._onDemuxException.bind(this);
                this._demuxer.onMediaInfo = this._onMediaInfo.bind(this);

                this._demuxer.onLoadedSei = this._onLoadedSei.bind(this);

                this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl));

                this._remuxer.onInitSegment = this._onRemuxerInitSegmentArrival.bind(this);
                this._remuxer.onMediaSegment = this._onRemuxerMediaSegmentArrival.bind(this);

                consumed = this._demuxer.parseChunks(data, byteStart);
            } else {
                probeData = null;
                _logger2.default.e(this.TAG, 'Non-FLV, Unsupported media type!');
                Promise.resolve().then(function () {
                    _this._internalAbort();
                });
                this._emitter.emit(_transmuxingEvents2.default.DEMUX_ERROR, _demuxErrors2.default.FORMAT_UNSUPPORTED, 'Non-FLV, Unsupported media type');

                consumed = 0;
            }

            return consumed;
        }
    }, {
        key: '_onMediaInfo',
        value: function _onMediaInfo(mediaInfo) {
            var _this2 = this;

            if (this._mediaInfo == null) {
                // Store first segment's mediainfo as global mediaInfo
                this._mediaInfo = Object.assign({}, mediaInfo);
                this._mediaInfo.keyframesIndex = null;
                this._mediaInfo.segments = [];
                this._mediaInfo.segmentCount = this._mediaDataSource.segments.length;
                Object.setPrototypeOf(this._mediaInfo, _mediaInfo2.default.prototype);
            }

            var segmentInfo = Object.assign({}, mediaInfo);
            Object.setPrototypeOf(segmentInfo, _mediaInfo2.default.prototype);
            this._mediaInfo.segments[this._currentSegmentIndex] = segmentInfo;

            // notify mediaInfo update
            this._reportSegmentMediaInfo(this._currentSegmentIndex);

            if (this._pendingSeekTime != null) {
                Promise.resolve().then(function () {
                    var target = _this2._pendingSeekTime;
                    _this2._pendingSeekTime = null;
                    _this2.seek(target);
                });
            }
        }
    }, {
        key: '_onLoadedSei',
        value: function _onLoadedSei(timestamp, data) {
            this._emitter.emit(_transmuxingEvents2.default.LOADED_SEI, timestamp, data);
        }
    }, {
        key: '_onIOSeeked',
        value: function _onIOSeeked() {
            this._remuxer.insertDiscontinuity();
        }
    }, {
        key: '_onIOComplete',
        value: function _onIOComplete(extraData) {
            var segmentIndex = extraData;
            var nextSegmentIndex = segmentIndex + 1;

            if (nextSegmentIndex < this._mediaDataSource.segments.length) {
                this._internalAbort();
                this._remuxer.flushStashedSamples();
                this._loadSegment(nextSegmentIndex);
            } else {
                this._remuxer.flushStashedSamples();
                this._emitter.emit(_transmuxingEvents2.default.LOADING_COMPLETE);
                this._disableStatisticsReporter();
            }
        }
    }, {
        key: '_onIORedirect',
        value: function _onIORedirect(redirectedURL) {
            var segmentIndex = this._ioctl.extraData;
            this._mediaDataSource.segments[segmentIndex].redirectedURL = redirectedURL;
        }
    }, {
        key: '_onIORecoveredEarlyEof',
        value: function _onIORecoveredEarlyEof() {
            this._emitter.emit(_transmuxingEvents2.default.RECOVERED_EARLY_EOF);
        }
    }, {
        key: '_onIOException',
        value: function _onIOException(type, info) {
            _logger2.default.e(this.TAG, 'IOException: type = ' + type + ', code = ' + info.code + ', msg = ' + info.msg);
            this._emitter.emit(_transmuxingEvents2.default.IO_ERROR, type, info);
            this._disableStatisticsReporter();
        }
    }, {
        key: '_onDemuxException',
        value: function _onDemuxException(type, info) {
            _logger2.default.e(this.TAG, 'DemuxException: type = ' + type + ', info = ' + info);
            this._emitter.emit(_transmuxingEvents2.default.DEMUX_ERROR, type, info);
        }
    }, {
        key: '_onRemuxerInitSegmentArrival',
        value: function _onRemuxerInitSegmentArrival(type, initSegment) {
            this._emitter.emit(_transmuxingEvents2.default.INIT_SEGMENT, type, initSegment);
        }
    }, {
        key: '_onRemuxerMediaSegmentArrival',
        value: function _onRemuxerMediaSegmentArrival(type, mediaSegment) {
            if (this._pendingSeekTime != null) {
                // Media segments after new-segment cross-seeking should be dropped.
                return;
            }
            this._emitter.emit(_transmuxingEvents2.default.MEDIA_SEGMENT, type, mediaSegment);

            // Resolve pending seekPoint
            if (this._pendingResolveSeekPoint != null && type === 'video') {
                var syncPoints = mediaSegment.info.syncPoints;
                var seekpoint = this._pendingResolveSeekPoint;
                this._pendingResolveSeekPoint = null;

                // Safari: Pass PTS for recommend_seekpoint
                if (_browser2.default.safari && syncPoints.length > 0 && syncPoints[0].originalDts === seekpoint) {
                    seekpoint = syncPoints[0].pts;
                }
                // else: use original DTS (keyframe.milliseconds)

                this._emitter.emit(_transmuxingEvents2.default.RECOMMEND_SEEKPOINT, seekpoint);
            }
        }
    }, {
        key: '_enableStatisticsReporter',
        value: function _enableStatisticsReporter() {
            if (this._statisticsReporter == null) {
                this._statisticsReporter = self.setInterval(this._reportStatisticsInfo.bind(this), this._config.statisticsInfoReportInterval);
            }
        }
    }, {
        key: '_disableStatisticsReporter',
        value: function _disableStatisticsReporter() {
            if (this._statisticsReporter) {
                self.clearInterval(this._statisticsReporter);
                this._statisticsReporter = null;
            }
        }
    }, {
        key: '_reportSegmentMediaInfo',
        value: function _reportSegmentMediaInfo(segmentIndex) {
            var segmentInfo = this._mediaInfo.segments[segmentIndex];
            var exportInfo = Object.assign({}, segmentInfo);

            exportInfo.duration = this._mediaInfo.duration;
            exportInfo.segmentCount = this._mediaInfo.segmentCount;
            delete exportInfo.segments;
            delete exportInfo.keyframesIndex;

            this._emitter.emit(_transmuxingEvents2.default.MEDIA_INFO, exportInfo);
        }
    }, {
        key: '_reportStatisticsInfo',
        value: function _reportStatisticsInfo() {
            var info = {};

            info.url = this._ioctl.currentURL;
            info.hasRedirect = this._ioctl.hasRedirect;
            if (info.hasRedirect) {
                info.redirectedURL = this._ioctl.currentRedirectedURL;
            }

            info.speed = this._ioctl.currentSpeed;
            info.loaderType = this._ioctl.loaderType;
            info.currentSegmentIndex = this._currentSegmentIndex;
            info.totalSegmentCount = this._mediaDataSource.segments.length;

            this._emitter.emit(_transmuxingEvents2.default.STATISTICS_INFO, info);
        }
    }]);

    return TransmuxingController;
}();

exports.default = TransmuxingController;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/core/transmuxing-events.js":
/*!********************************************!*\
  !*** ./src/flv/core/transmuxing-events.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var TransmuxingEvents = {
  IO_ERROR: 'io_error',
  DEMUX_ERROR: 'demux_error',
  INIT_SEGMENT: 'init_segment',
  MEDIA_SEGMENT: 'media_segment',
  LOADING_COMPLETE: 'loading_complete',
  RECOVERED_EARLY_EOF: 'recovered_early_eof',
  MEDIA_INFO: 'media_info',
  STATISTICS_INFO: 'statistics_info',
  RECOMMEND_SEEKPOINT: 'recommend_seekpoint',
  LOADED_SEI: 'loaded_sei'
};

exports.default = TransmuxingEvents;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/core/transmuxing-worker.js":
/*!********************************************!*\
  !*** ./src/flv/core/transmuxing-worker.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _loggingControl = __webpack_require__(/*! ../utils/logging-control.js */ "./src/flv/utils/logging-control.js");

var _loggingControl2 = _interopRequireDefault(_loggingControl);

var _polyfill = __webpack_require__(/*! ../utils/polyfill.js */ "./src/flv/utils/polyfill.js");

var _polyfill2 = _interopRequireDefault(_polyfill);

var _transmuxingController = __webpack_require__(/*! ./transmuxing-controller.js */ "./src/flv/core/transmuxing-controller.js");

var _transmuxingController2 = _interopRequireDefault(_transmuxingController);

var _transmuxingEvents = __webpack_require__(/*! ./transmuxing-events.js */ "./src/flv/core/transmuxing-events.js");

var _transmuxingEvents2 = _interopRequireDefault(_transmuxingEvents);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* post message to worker:
   data: {
       cmd: string
       param: any
   }

   receive message from worker:
   data: {
       msg: string,
       data: any
   }
 */

var TransmuxingWorker = function TransmuxingWorker(self) {

    var TAG = 'TransmuxingWorker';
    var controller = null;
    var logcatListener = onLogcatCallback.bind(this);

    _polyfill2.default.install();

    self.addEventListener('message', function (e) {
        switch (e.data.cmd) {
            case 'init':
                controller = new _transmuxingController2.default(e.data.param[0], e.data.param[1]);
                controller.on(_transmuxingEvents2.default.IO_ERROR, onIOError.bind(this));
                controller.on(_transmuxingEvents2.default.DEMUX_ERROR, onDemuxError.bind(this));
                controller.on(_transmuxingEvents2.default.INIT_SEGMENT, onInitSegment.bind(this));
                controller.on(_transmuxingEvents2.default.MEDIA_SEGMENT, onMediaSegment.bind(this));
                controller.on(_transmuxingEvents2.default.LOADING_COMPLETE, onLoadingComplete.bind(this));
                controller.on(_transmuxingEvents2.default.RECOVERED_EARLY_EOF, onRecoveredEarlyEof.bind(this));
                controller.on(_transmuxingEvents2.default.MEDIA_INFO, onMediaInfo.bind(this));
                controller.on(_transmuxingEvents2.default.STATISTICS_INFO, onStatisticsInfo.bind(this));
                controller.on(_transmuxingEvents2.default.RECOMMEND_SEEKPOINT, onRecommendSeekpoint.bind(this));
                break;
            case 'destroy':
                if (controller) {
                    controller.destroy();
                    controller = null;
                }
                self.postMessage({ msg: 'destroyed' });
                break;
            case 'start':
                controller.start();
                break;
            case 'stop':
                controller.stop();
                break;
            case 'seek':
                controller.seek(e.data.param);
                break;
            case 'pause':
                controller.pause();
                break;
            case 'resume':
                controller.resume();
                break;
            case 'logging_config':
                {
                    var config = e.data.param;
                    _loggingControl2.default.applyConfig(config);

                    if (config.enableCallback === true) {
                        _loggingControl2.default.addLogListener(logcatListener);
                    } else {
                        _loggingControl2.default.removeLogListener(logcatListener);
                    }
                    break;
                }
        }
    });

    function onInitSegment(type, initSegment) {
        var obj = {
            msg: _transmuxingEvents2.default.INIT_SEGMENT,
            data: {
                type: type,
                data: initSegment
            }
        };
        self.postMessage(obj, [initSegment.data]); // data: ArrayBuffer
    }

    function onMediaSegment(type, mediaSegment) {
        var obj = {
            msg: _transmuxingEvents2.default.MEDIA_SEGMENT,
            data: {
                type: type,
                data: mediaSegment
            }
        };
        self.postMessage(obj, [mediaSegment.data]); // data: ArrayBuffer
    }

    function onLoadingComplete() {
        var obj = {
            msg: _transmuxingEvents2.default.LOADING_COMPLETE
        };
        self.postMessage(obj);
    }

    function onRecoveredEarlyEof() {
        var obj = {
            msg: _transmuxingEvents2.default.RECOVERED_EARLY_EOF
        };
        self.postMessage(obj);
    }

    function onMediaInfo(mediaInfo) {
        var obj = {
            msg: _transmuxingEvents2.default.MEDIA_INFO,
            data: mediaInfo
        };
        self.postMessage(obj);
    }

    function onStatisticsInfo(statInfo) {
        var obj = {
            msg: _transmuxingEvents2.default.STATISTICS_INFO,
            data: statInfo
        };
        self.postMessage(obj);
    }

    function onIOError(type, info) {
        self.postMessage({
            msg: _transmuxingEvents2.default.IO_ERROR,
            data: {
                type: type,
                info: info
            }
        });
    }

    function onDemuxError(type, info) {
        self.postMessage({
            msg: _transmuxingEvents2.default.DEMUX_ERROR,
            data: {
                type: type,
                info: info
            }
        });
    }

    function onRecommendSeekpoint(milliseconds) {
        self.postMessage({
            msg: _transmuxingEvents2.default.RECOMMEND_SEEKPOINT,
            data: milliseconds
        });
    }

    function onLogcatCallback(type, str) {
        self.postMessage({
            msg: 'logcat_callback',
            data: {
                type: type,
                logcat: str
            }
        });
    }
}; /*
    * Copyright (C) 2016 Bilibili. All Rights Reserved.
    *
    * @author zheng qian <xqq@xqq.im>
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *     http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */

exports.default = TransmuxingWorker;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/demux/amf-parser.js":
/*!*************************************!*\
  !*** ./src/flv/demux/amf-parser.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _utf8Conv = __webpack_require__(/*! ../utils/utf8-conv.js */ "./src/flv/utils/utf8-conv.js");

var _utf8Conv2 = _interopRequireDefault(_utf8Conv);

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var le = function () {
    var buf = new ArrayBuffer(2);
    new DataView(buf).setInt16(0, 256, true); // little-endian write
    return new Int16Array(buf)[0] === 256; // platform-spec read, if equal then LE
}();

var AMF = function () {
    function AMF() {
        _classCallCheck(this, AMF);
    }

    _createClass(AMF, null, [{
        key: 'parseScriptData',
        value: function parseScriptData(arrayBuffer, dataOffset, dataSize) {
            var data = {};

            try {
                var name = AMF.parseValue(arrayBuffer, dataOffset, dataSize);
                var value = AMF.parseValue(arrayBuffer, dataOffset + name.size, dataSize - name.size);

                data[name.data] = value.data;
            } catch (e) {
                _logger2.default.e('AMF', e.toString());
            }

            return data;
        }
    }, {
        key: 'parseObject',
        value: function parseObject(arrayBuffer, dataOffset, dataSize) {
            if (dataSize < 3) {
                throw new _exception.IllegalStateException('Data not enough when parse ScriptDataObject');
            }
            var name = AMF.parseString(arrayBuffer, dataOffset, dataSize);
            var value = AMF.parseValue(arrayBuffer, dataOffset + name.size, dataSize - name.size);
            var isObjectEnd = value.objectEnd;

            return {
                data: {
                    name: name.data,
                    value: value.data
                },
                size: name.size + value.size,
                objectEnd: isObjectEnd
            };
        }
    }, {
        key: 'parseVariable',
        value: function parseVariable(arrayBuffer, dataOffset, dataSize) {
            return AMF.parseObject(arrayBuffer, dataOffset, dataSize);
        }
    }, {
        key: 'parseString',
        value: function parseString(arrayBuffer, dataOffset, dataSize) {
            if (dataSize < 2) {
                throw new _exception.IllegalStateException('Data not enough when parse String');
            }
            var v = new DataView(arrayBuffer, dataOffset, dataSize);
            var length = v.getUint16(0, !le);

            var str = void 0;
            if (length > 0) {
                str = (0, _utf8Conv2.default)(new Uint8Array(arrayBuffer, dataOffset + 2, length));
            } else {
                str = '';
            }

            return {
                data: str,
                size: 2 + length
            };
        }
    }, {
        key: 'parseLongString',
        value: function parseLongString(arrayBuffer, dataOffset, dataSize) {
            if (dataSize < 4) {
                throw new _exception.IllegalStateException('Data not enough when parse LongString');
            }
            var v = new DataView(arrayBuffer, dataOffset, dataSize);
            var length = v.getUint32(0, !le);

            var str = void 0;
            if (length > 0) {
                str = (0, _utf8Conv2.default)(new Uint8Array(arrayBuffer, dataOffset + 4, length));
            } else {
                str = '';
            }

            return {
                data: str,
                size: 4 + length
            };
        }
    }, {
        key: 'parseDate',
        value: function parseDate(arrayBuffer, dataOffset, dataSize) {
            if (dataSize < 10) {
                throw new _exception.IllegalStateException('Data size invalid when parse Date');
            }
            var v = new DataView(arrayBuffer, dataOffset, dataSize);
            var timestamp = v.getFloat64(0, !le);
            var localTimeOffset = v.getInt16(8, !le);
            timestamp += localTimeOffset * 60 * 1000; // get UTC time

            return {
                data: new Date(timestamp),
                size: 8 + 2
            };
        }
    }, {
        key: 'parseValue',
        value: function parseValue(arrayBuffer, dataOffset, dataSize) {
            if (dataSize < 1) {
                throw new _exception.IllegalStateException('Data not enough when parse Value');
            }

            var v = new DataView(arrayBuffer, dataOffset, dataSize);

            var offset = 1;
            var type = v.getUint8(0);
            var value = void 0;
            var objectEnd = false;

            try {
                switch (type) {
                    case 0:
                        // Number(Double) type
                        value = v.getFloat64(1, !le);
                        offset += 8;
                        break;
                    case 1:
                        {
                            // Boolean type
                            var b = v.getUint8(1);
                            value = b ? true : false;
                            offset += 1;
                            break;
                        }
                    case 2:
                        {
                            // String type
                            var amfstr = AMF.parseString(arrayBuffer, dataOffset + 1, dataSize - 1);
                            value = amfstr.data;
                            offset += amfstr.size;
                            break;
                        }
                    case 3:
                        {
                            // Object(s) type
                            value = {};
                            var terminal = 0; // workaround for malformed Objects which has missing ScriptDataObjectEnd
                            if ((v.getUint32(dataSize - 4, !le) & 0x00FFFFFF) === 9) {
                                terminal = 3;
                            }
                            var maxLoop = 10000;
                            while (offset < dataSize - 4 && maxLoop-- > 0) {
                                // 4 === type(UI8) + ScriptDataObjectEnd(UI24)
                                var amfobj = AMF.parseObject(arrayBuffer, dataOffset + offset, dataSize - offset - terminal);
                                if (amfobj.objectEnd) break;
                                value[amfobj.data.name] = amfobj.data.value;
                                offset += amfobj.size;
                            }
                            if (offset <= dataSize - 3) {
                                var marker = v.getUint32(offset - 1, !le) & 0x00FFFFFF;
                                if (marker === 9) {
                                    offset += 3;
                                }
                            }
                            break;
                        }
                    case 8:
                        {
                            // ECMA array type (Mixed array)
                            value = {};
                            offset += 4; // ECMAArrayLength(UI32)
                            var _terminal = 0; // workaround for malformed MixedArrays which has missing ScriptDataObjectEnd
                            if ((v.getUint32(dataSize - 4, !le) & 0x00FFFFFF) === 9) {
                                _terminal = 3;
                            }

                            var _maxLoop = 10000;
                            while (offset < dataSize - 8 && _maxLoop-- > 0) {
                                // 8 === type(UI8) + ECMAArrayLength(UI32) + ScriptDataVariableEnd(UI24)
                                var amfvar = AMF.parseVariable(arrayBuffer, dataOffset + offset, dataSize - offset - _terminal);
                                if (amfvar.objectEnd) break;
                                value[amfvar.data.name] = amfvar.data.value;
                                offset += amfvar.size;
                            }
                            if (offset <= dataSize - 3) {
                                var _marker = v.getUint32(offset - 1, !le) & 0x00FFFFFF;
                                if (_marker === 9) {
                                    offset += 3;
                                }
                            }
                            break;
                        }
                    case 9:
                        // ScriptDataObjectEnd
                        value = undefined;
                        offset = 1;
                        objectEnd = true;
                        break;
                    case 10:
                        {
                            // Strict array type
                            // ScriptDataValue[n]. NOTE: according to video_file_format_spec_v10_1.pdf
                            value = [];
                            var strictArrayLength = v.getUint32(1, !le);
                            offset += 4;
                            for (var i = 0; i < strictArrayLength; i++) {
                                var val = AMF.parseValue(arrayBuffer, dataOffset + offset, dataSize - offset);
                                value.push(val.data);
                                offset += val.size;
                            }
                            break;
                        }
                    case 11:
                        {
                            // Date type
                            var date = AMF.parseDate(arrayBuffer, dataOffset + 1, dataSize - 1);
                            value = date.data;
                            offset += date.size;
                            break;
                        }
                    case 12:
                        {
                            // Long string type
                            var amfLongStr = AMF.parseString(arrayBuffer, dataOffset + 1, dataSize - 1);
                            value = amfLongStr.data;
                            offset += amfLongStr.size;
                            break;
                        }
                    default:
                        // ignore and skip
                        offset = dataSize;
                        _logger2.default.w('AMF', 'Unsupported AMF value type ' + type);
                }
            } catch (e) {
                _logger2.default.e('AMF', e.toString());
            }

            return {
                data: value,
                size: offset,
                objectEnd: objectEnd
            };
        }
    }]);

    return AMF;
}();

exports.default = AMF;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/demux/demux-errors.js":
/*!***************************************!*\
  !*** ./src/flv/demux/demux-errors.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var DemuxErrors = {
  OK: 'OK',
  FORMAT_ERROR: 'FormatError',
  FORMAT_UNSUPPORTED: 'FormatUnsupported',
  CODEC_UNSUPPORTED: 'CodecUnsupported'
};

exports.default = DemuxErrors;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/demux/exp-golomb.js":
/*!*************************************!*\
  !*** ./src/flv/demux/exp-golomb.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// Exponential-Golomb buffer decoder
var ExpGolomb = function () {
    function ExpGolomb(uint8array) {
        _classCallCheck(this, ExpGolomb);

        this.TAG = 'ExpGolomb';

        this._buffer = uint8array;
        this._buffer_index = 0;
        this._total_bytes = uint8array.byteLength;
        this._total_bits = uint8array.byteLength * 8;
        this._current_word = 0;
        this._current_word_bits_left = 0;
    }

    _createClass(ExpGolomb, [{
        key: 'destroy',
        value: function destroy() {
            this._buffer = null;
        }
    }, {
        key: '_fillCurrentWord',
        value: function _fillCurrentWord() {
            var buffer_bytes_left = this._total_bytes - this._buffer_index;
            if (buffer_bytes_left <= 0) throw new _exception.IllegalStateException('ExpGolomb: _fillCurrentWord() but no bytes available');

            var bytes_read = Math.min(4, buffer_bytes_left);
            var word = new Uint8Array(4);
            word.set(this._buffer.subarray(this._buffer_index, this._buffer_index + bytes_read));
            this._current_word = new DataView(word.buffer).getUint32(0, false);

            this._buffer_index += bytes_read;
            this._current_word_bits_left = bytes_read * 8;
        }
    }, {
        key: 'readBits',
        value: function readBits(bits) {
            if (bits > 32) throw new _exception.InvalidArgumentException('ExpGolomb: readBits() bits exceeded max 32bits!');

            if (bits <= this._current_word_bits_left) {
                var _result = this._current_word >>> 32 - bits;
                this._current_word <<= bits;
                this._current_word_bits_left -= bits;
                return _result;
            }

            var result = this._current_word_bits_left ? this._current_word : 0;
            result = result >>> 32 - this._current_word_bits_left;
            var bits_need_left = bits - this._current_word_bits_left;

            this._fillCurrentWord();
            var bits_read_next = Math.min(bits_need_left, this._current_word_bits_left);

            var result2 = this._current_word >>> 32 - bits_read_next;
            this._current_word <<= bits_read_next;
            this._current_word_bits_left -= bits_read_next;

            result = result << bits_read_next | result2;
            return result;
        }
    }, {
        key: 'readBool',
        value: function readBool() {
            return this.readBits(1) === 1;
        }
    }, {
        key: 'readByte',
        value: function readByte() {
            return this.readBits(8);
        }
    }, {
        key: '_skipLeadingZero',
        value: function _skipLeadingZero() {
            var zero_count = void 0;
            for (zero_count = 0; zero_count < this._current_word_bits_left; zero_count++) {
                if (0 !== (this._current_word & 0x80000000 >>> zero_count)) {
                    this._current_word <<= zero_count;
                    this._current_word_bits_left -= zero_count;
                    return zero_count;
                }
            }
            this._fillCurrentWord();
            return zero_count + this._skipLeadingZero();
        }
    }, {
        key: 'readUEG',
        value: function readUEG() {
            // unsigned exponential golomb
            var leading_zeros = this._skipLeadingZero();
            return this.readBits(leading_zeros + 1) - 1;
        }
    }, {
        key: 'readSEG',
        value: function readSEG() {
            // signed exponential golomb
            var value = this.readUEG();
            if (value & 0x01) {
                return value + 1 >>> 1;
            } else {
                return -1 * (value >>> 1);
            }
        }
    }]);

    return ExpGolomb;
}();

exports.default = ExpGolomb;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/demux/flv-demuxer.js":
/*!**************************************!*\
  !*** ./src/flv/demux/flv-demuxer.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _amfParser = __webpack_require__(/*! ./amf-parser.js */ "./src/flv/demux/amf-parser.js");

var _amfParser2 = _interopRequireDefault(_amfParser);

var _spsParser = __webpack_require__(/*! ./sps-parser.js */ "./src/flv/demux/sps-parser.js");

var _spsParser2 = _interopRequireDefault(_spsParser);

var _demuxErrors = __webpack_require__(/*! ./demux-errors.js */ "./src/flv/demux/demux-errors.js");

var _demuxErrors2 = _interopRequireDefault(_demuxErrors);

var _mediaInfo = __webpack_require__(/*! ../core/media-info.js */ "./src/flv/core/media-info.js");

var _mediaInfo2 = _interopRequireDefault(_mediaInfo);

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

var _events = __webpack_require__(/*! events */ "./node_modules/events/events.js");

var _events2 = _interopRequireDefault(_events);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function Swap16(src) {
    return src >>> 8 & 0xFF | (src & 0xFF) << 8;
}

function Swap32(src) {
    return (src & 0xFF000000) >>> 24 | (src & 0x00FF0000) >>> 8 | (src & 0x0000FF00) << 8 | (src & 0x000000FF) << 24;
}

function ReadBig32(array, index) {
    return array[index] << 24 | array[index + 1] << 16 | array[index + 2] << 8 | array[index + 3];
}

var FLVDemuxer = function () {
    function FLVDemuxer(probeData, config) {
        _classCallCheck(this, FLVDemuxer);

        this.TAG = 'FLVDemuxer';

        this._emitter = new _events2.default();

        this._config = config;

        this._onError = null;
        this._onMediaInfo = null;
        this._onTrackMetadata = null;
        this._onDataAvailable = null;

        this._dataOffset = probeData.dataOffset;
        this._firstParse = true;
        this._dispatch = false;

        this._hasAudio = probeData.hasAudioTrack;
        this._hasVideo = probeData.hasVideoTrack;

        this._hasAudioFlagOverrided = false;
        this._hasVideoFlagOverrided = false;

        this._audioInitialMetadataDispatched = false;
        this._videoInitialMetadataDispatched = false;

        this._mediaInfo = new _mediaInfo2.default();
        this._mediaInfo.hasAudio = this._hasAudio;
        this._mediaInfo.hasVideo = this._hasVideo;
        this._metadata = null;
        this._audioMetadata = null;
        this._videoMetadata = null;

        this._naluLengthSize = 4;
        this._timestampBase = 0; // int32, in milliseconds
        this._timescale = 1000;
        this._duration = 0; // int32, in milliseconds
        this._durationOverrided = false;
        this._referenceFrameRate = {
            fixed: true,
            fps: 23.976,
            fps_num: 23976,
            fps_den: 1000
        };

        this._flvSoundRateTable = [5500, 11025, 22050, 44100, 48000];

        this._mpegSamplingRates = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];

        this._mpegAudioV10SampleRateTable = [44100, 48000, 32000, 0];
        this._mpegAudioV20SampleRateTable = [22050, 24000, 16000, 0];
        this._mpegAudioV25SampleRateTable = [11025, 12000, 8000, 0];

        this._mpegAudioL1BitRateTable = [0, 32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448, -1];
        this._mpegAudioL2BitRateTable = [0, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384, -1];
        this._mpegAudioL3BitRateTable = [0, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, -1];

        this._videoTrack = { type: 'video', id: 1, sequenceNumber: 0, samples: [], length: 0 };
        this._audioTrack = { type: 'audio', id: 2, sequenceNumber: 0, samples: [], length: 0 };

        this._littleEndian = function () {
            var buf = new ArrayBuffer(2);
            new DataView(buf).setInt16(0, 256, true); // little-endian write
            return new Int16Array(buf)[0] === 256; // platform-spec read, if equal then LE
        }();
    }

    _createClass(FLVDemuxer, [{
        key: 'destroy',
        value: function destroy() {
            this._mediaInfo = null;
            this._metadata = null;
            this._audioMetadata = null;
            this._videoMetadata = null;
            this._videoTrack = null;
            this._audioTrack = null;

            this._onError = null;
            this._onMediaInfo = null;
            this._onTrackMetadata = null;
            this._onDataAvailable = null;

            this._emitter.removeAllListeners();
            this._emitter = null;
        }
    }, {
        key: 'bindDataSource',
        value: function bindDataSource(loader) {
            loader.onDataArrival = this.parseChunks.bind(this);
            return this;
        }

        // prototype: function(type: string, metadata: any): void

    }, {
        key: 'resetMediaInfo',
        value: function resetMediaInfo() {
            this._mediaInfo = new _mediaInfo2.default();
        }
    }, {
        key: '_isInitialMetadataDispatched',
        value: function _isInitialMetadataDispatched() {
            if (this._hasAudio && this._hasVideo) {
                // both audio & video
                return this._audioInitialMetadataDispatched && this._videoInitialMetadataDispatched;
            }
            if (this._hasAudio && !this._hasVideo) {
                // audio only
                return this._audioInitialMetadataDispatched;
            }
            if (!this._hasAudio && this._hasVideo) {
                // video only
                return this._videoInitialMetadataDispatched;
            }
            return false;
        }

        // function parseChunks(chunk: ArrayBuffer, byteStart: number): number;

    }, {
        key: 'parseChunks',
        value: function parseChunks(chunk, byteStart) {
            if (!this._onError || !this._onMediaInfo || !this._onTrackMetadata || !this._onDataAvailable) {
                throw new _exception.IllegalStateException('Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified');
            }

            var offset = 0;
            var le = this._littleEndian;

            if (byteStart === 0) {
                // buffer with FLV header
                if (chunk.byteLength > 13) {
                    var probeData = FLVDemuxer.probe(chunk);
                    offset = probeData.dataOffset;
                } else {
                    return 0;
                }
            }

            if (this._firstParse) {
                // handle PreviousTagSize0 before Tag1
                this._firstParse = false;
                if (byteStart + offset !== this._dataOffset) {
                    _logger2.default.w(this.TAG, 'First time parsing but chunk byteStart invalid!');
                }

                var v = new DataView(chunk, offset);
                var prevTagSize0 = v.getUint32(0, !le);
                if (prevTagSize0 !== 0) {
                    _logger2.default.w(this.TAG, 'PrevTagSize0 !== 0 !!!');
                }
                offset += 4;
            }

            while (offset < chunk.byteLength) {
                this._dispatch = true;

                var _v = new DataView(chunk, offset);

                if (offset + 11 + 4 > chunk.byteLength) {
                    // data not enough for parsing an flv tag
                    break;
                }

                var tagType = _v.getUint8(0);
                var dataSize = _v.getUint32(0, !le) & 0x00FFFFFF;

                if (offset + 11 + dataSize + 4 > chunk.byteLength) {
                    // data not enough for parsing actual data body
                    break;
                }

                if (tagType !== 8 && tagType !== 9 && tagType !== 18) {
                    _logger2.default.w(this.TAG, 'Unsupported tag type ' + tagType + ', skipped');
                    // consume the whole tag (skip it)
                    offset += 11 + dataSize + 4;
                    continue;
                }

                var ts2 = _v.getUint8(4);
                var ts1 = _v.getUint8(5);
                var ts0 = _v.getUint8(6);
                var ts3 = _v.getUint8(7);

                var timestamp = ts0 | ts1 << 8 | ts2 << 16 | ts3 << 24;

                var streamId = _v.getUint32(7, !le) & 0x00FFFFFF;
                if (streamId !== 0) {
                    _logger2.default.w(this.TAG, 'Meet tag which has StreamID != 0!');
                }

                var dataOffset = offset + 11;

                switch (tagType) {
                    case 8:
                        // Audio
                        this._parseAudioData(chunk, dataOffset, dataSize, timestamp);
                        break;
                    case 9:
                        // Video
                        this._parseVideoData(chunk, dataOffset, dataSize, timestamp, byteStart + offset);
                        break;
                    case 18:
                        // ScriptDataObject
                        this._parseScriptData(chunk, dataOffset, dataSize);
                        break;
                }

                var prevTagSize = _v.getUint32(11 + dataSize, !le);
                if (prevTagSize !== 11 + dataSize) {
                    _logger2.default.w(this.TAG, 'Invalid PrevTagSize ' + prevTagSize);
                }

                offset += 11 + dataSize + 4; // tagBody + dataSize + prevTagSize
            }

            // dispatch parsed frames to consumer (typically, the remuxer)
            if (this._isInitialMetadataDispatched()) {
                if (this._dispatch && (this._audioTrack.length || this._videoTrack.length)) {
                    this._onDataAvailable(this._audioTrack, this._videoTrack);
                }
            }

            return offset; // consumed bytes, just equals latest offset index
        }
    }, {
        key: '_parseScriptData',
        value: function _parseScriptData(arrayBuffer, dataOffset, dataSize) {
            var scriptData = _amfParser2.default.parseScriptData(arrayBuffer, dataOffset, dataSize);

            if (scriptData.hasOwnProperty('onMetaData')) {
                if (scriptData.onMetaData == null || _typeof(scriptData.onMetaData) !== 'object') {
                    _logger2.default.w(this.TAG, 'Invalid onMetaData structure!');
                    return;
                }
                if (this._metadata) {
                    _logger2.default.w(this.TAG, 'Found another onMetaData tag!');
                }
                this._metadata = scriptData;
                var onMetaData = this._metadata.onMetaData;
                this._emitter.emit('metadata_arrived', onMetaData);

                if (typeof onMetaData.hasAudio === 'boolean') {
                    // hasAudio
                    if (this._hasAudioFlagOverrided === false) {
                        this._hasAudio = onMetaData.hasAudio;
                        this._mediaInfo.hasAudio = this._hasAudio;
                    }
                }
                if (typeof onMetaData.hasVideo === 'boolean') {
                    // hasVideo
                    if (this._hasVideoFlagOverrided === false) {
                        this._hasVideo = onMetaData.hasVideo;
                        this._mediaInfo.hasVideo = this._hasVideo;
                    }
                }
                if (typeof onMetaData.audiodatarate === 'number') {
                    // audiodatarate
                    this._mediaInfo.audioDataRate = onMetaData.audiodatarate;
                }
                if (typeof onMetaData.videodatarate === 'number') {
                    // videodatarate
                    this._mediaInfo.videoDataRate = onMetaData.videodatarate;
                }
                if (typeof onMetaData.width === 'number') {
                    // width
                    this._mediaInfo.width = onMetaData.width;
                }
                if (typeof onMetaData.height === 'number') {
                    // height
                    this._mediaInfo.height = onMetaData.height;
                }
                if (typeof onMetaData.duration === 'number') {
                    // duration
                    if (!this._durationOverrided) {
                        var duration = Math.floor(onMetaData.duration * this._timescale);
                        this._duration = duration;
                        this._mediaInfo.duration = duration;
                    }
                } else {
                    this._mediaInfo.duration = 0;
                }
                if (typeof onMetaData.framerate === 'number') {
                    // framerate
                    var fps_num = Math.floor(onMetaData.framerate * 1000);
                    if (fps_num > 0) {
                        var fps = fps_num / 1000;
                        this._referenceFrameRate.fixed = true;
                        this._referenceFrameRate.fps = fps;
                        this._referenceFrameRate.fps_num = fps_num;
                        this._referenceFrameRate.fps_den = 1000;
                        this._mediaInfo.fps = fps;
                    }
                }
                if (_typeof(onMetaData.keyframes) === 'object') {
                    // keyframes
                    this._mediaInfo.hasKeyframesIndex = true;
                    var keyframes = onMetaData.keyframes;
                    this._mediaInfo.keyframesIndex = this._parseKeyframesIndex(keyframes);
                    onMetaData.keyframes = null; // keyframes has been extracted, remove it
                } else {
                    this._mediaInfo.hasKeyframesIndex = false;
                }
                this._dispatch = false;
                this._mediaInfo.metadata = onMetaData;
                _logger2.default.v(this.TAG, 'Parsed onMetaData');
                if (this._mediaInfo.isComplete()) {
                    this._onMediaInfo(this._mediaInfo);
                }
            }
        }
    }, {
        key: '_parseKeyframesIndex',
        value: function _parseKeyframesIndex(keyframes) {
            var times = [];
            var filepositions = [];

            // ignore first keyframe which is actually AVC Sequence Header (AVCDecoderConfigurationRecord)
            for (var i = 1; i < keyframes.times.length; i++) {
                var time = this._timestampBase + Math.floor(keyframes.times[i] * 1000);
                times.push(time);
                filepositions.push(keyframes.filepositions[i]);
            }

            return {
                times: times,
                filepositions: filepositions
            };
        }
    }, {
        key: '_parseAudioData',
        value: function _parseAudioData(arrayBuffer, dataOffset, dataSize, tagTimestamp) {
            if (dataSize <= 1) {
                _logger2.default.w(this.TAG, 'Flv: Invalid audio packet, missing SoundData payload!');
                return;
            }

            if (this._hasAudioFlagOverrided === true && this._hasAudio === false) {
                // If hasAudio: false indicated explicitly in MediaDataSource,
                // Ignore all the audio packets
                return;
            }

            var le = this._littleEndian;
            var v = new DataView(arrayBuffer, dataOffset, dataSize);

            var soundSpec = v.getUint8(0);

            var soundFormat = soundSpec >>> 4;
            if (soundFormat !== 2 && soundFormat !== 10) {
                // MP3 or AAC
                this._onError(_demuxErrors2.default.CODEC_UNSUPPORTED, 'Flv: Unsupported audio codec idx: ' + soundFormat);
                return;
            }

            var soundRate = 0;
            var soundRateIndex = (soundSpec & 12) >>> 2;
            if (soundRateIndex >= 0 && soundRateIndex <= 4) {
                soundRate = this._flvSoundRateTable[soundRateIndex];
            } else {
                this._onError(_demuxErrors2.default.FORMAT_ERROR, 'Flv: Invalid audio sample rate idx: ' + soundRateIndex);
                return;
            }

            var soundSize = (soundSpec & 2) >>> 1; // unused
            var soundType = soundSpec & 1;

            var meta = this._audioMetadata;
            var track = this._audioTrack;

            if (!meta) {
                if (this._hasAudio === false && this._hasAudioFlagOverrided === false) {
                    this._hasAudio = true;
                    this._mediaInfo.hasAudio = true;
                }

                // initial metadata
                meta = this._audioMetadata = {};
                meta.type = 'audio';
                meta.id = track.id;
                meta.timescale = this._timescale;
                meta.duration = this._duration;
                meta.audioSampleRate = soundRate;
                meta.channelCount = soundType === 0 ? 1 : 2;
            }

            if (soundFormat === 10) {
                // AAC
                var aacData = this._parseAACAudioData(arrayBuffer, dataOffset + 1, dataSize - 1);
                if (aacData == undefined) {
                    return;
                }

                if (aacData.packetType === 0) {
                    // AAC sequence header (AudioSpecificConfig)
                    if (meta.config) {
                        _logger2.default.w(this.TAG, 'Found another AudioSpecificConfig!');
                    }
                    var misc = aacData.data;
                    meta.audioSampleRate = misc.samplingRate;
                    meta.channelCount = misc.channelCount;
                    meta.codec = misc.codec;
                    meta.originalCodec = misc.originalCodec;
                    meta.config = misc.config;
                    // The decode result of an aac sample is 1024 PCM samples
                    meta.refSampleDuration = 1024 / meta.audioSampleRate * meta.timescale;
                    _logger2.default.v(this.TAG, 'Parsed AudioSpecificConfig');

                    if (this._isInitialMetadataDispatched()) {
                        // Non-initial metadata, force dispatch (or flush) parsed frames to remuxer
                        if (this._dispatch && (this._audioTrack.length || this._videoTrack.length)) {
                            this._onDataAvailable(this._audioTrack, this._videoTrack);
                        }
                    } else {
                        this._audioInitialMetadataDispatched = true;
                    }
                    // then notify new metadata
                    this._dispatch = false;
                    this._onTrackMetadata('audio', meta);

                    var mi = this._mediaInfo;
                    mi.audioCodec = meta.originalCodec;
                    mi.audioSampleRate = meta.audioSampleRate;
                    mi.audioChannelCount = meta.channelCount;
                    if (mi.hasVideo) {
                        if (mi.videoCodec != null) {
                            mi.mimeType = 'video/x-flv; codecs="' + mi.videoCodec + ',' + mi.audioCodec + '"';
                        }
                    } else {
                        mi.mimeType = 'video/x-flv; codecs="' + mi.audioCodec + '"';
                    }
                    if (mi.isComplete()) {
                        this._onMediaInfo(mi);
                    }
                } else if (aacData.packetType === 1) {
                    // AAC raw frame data
                    var dts = this._timestampBase + tagTimestamp;
                    var aacSample = { unit: aacData.data, length: aacData.data.byteLength, dts: dts, pts: dts };
                    track.samples.push(aacSample);
                    track.length += aacData.data.length;
                } else {
                    _logger2.default.e(this.TAG, 'Flv: Unsupported AAC data type ' + aacData.packetType);
                }
            } else if (soundFormat === 2) {
                // MP3
                if (!meta.codec) {
                    // We need metadata for mp3 audio track, extract info from frame header
                    var _misc = this._parseMP3AudioData(arrayBuffer, dataOffset + 1, dataSize - 1, true);
                    if (_misc == undefined) {
                        return;
                    }
                    meta.audioSampleRate = _misc.samplingRate;
                    meta.channelCount = _misc.channelCount;
                    meta.codec = _misc.codec;
                    meta.originalCodec = _misc.originalCodec;
                    // The decode result of an mp3 sample is 1152 PCM samples
                    meta.refSampleDuration = 1152 / meta.audioSampleRate * meta.timescale;
                    _logger2.default.v(this.TAG, 'Parsed MPEG Audio Frame Header');

                    this._audioInitialMetadataDispatched = true;
                    this._onTrackMetadata('audio', meta);

                    var _mi = this._mediaInfo;
                    _mi.audioCodec = meta.codec;
                    _mi.audioSampleRate = meta.audioSampleRate;
                    _mi.audioChannelCount = meta.channelCount;
                    _mi.audioDataRate = _misc.bitRate;
                    if (_mi.hasVideo) {
                        if (_mi.videoCodec != null) {
                            _mi.mimeType = 'video/x-flv; codecs="' + _mi.videoCodec + ',' + _mi.audioCodec + '"';
                        }
                    } else {
                        _mi.mimeType = 'video/x-flv; codecs="' + _mi.audioCodec + '"';
                    }
                    if (_mi.isComplete()) {
                        this._onMediaInfo(_mi);
                    }
                }

                // This packet is always a valid audio packet, extract it
                var data = this._parseMP3AudioData(arrayBuffer, dataOffset + 1, dataSize - 1, false);
                if (data == undefined) {
                    return;
                }
                var _dts = this._timestampBase + tagTimestamp;
                var mp3Sample = { unit: data, length: data.byteLength, dts: _dts, pts: _dts };
                track.samples.push(mp3Sample);
                track.length += data.length;
            }
        }
    }, {
        key: '_parseAACAudioData',
        value: function _parseAACAudioData(arrayBuffer, dataOffset, dataSize) {
            if (dataSize <= 1) {
                _logger2.default.w(this.TAG, 'Flv: Invalid AAC packet, missing AACPacketType or/and Data!');
                return;
            }

            var result = {};
            var array = new Uint8Array(arrayBuffer, dataOffset, dataSize);

            result.packetType = array[0];

            if (array[0] === 0) {
                result.data = this._parseAACAudioSpecificConfig(arrayBuffer, dataOffset + 1, dataSize - 1);
            } else {
                result.data = array.subarray(1);
            }

            return result;
        }
    }, {
        key: '_parseAACAudioSpecificConfig',
        value: function _parseAACAudioSpecificConfig(arrayBuffer, dataOffset, dataSize) {
            var array = new Uint8Array(arrayBuffer, dataOffset, dataSize);
            var config = null;

            /* Audio Object Type:
               0: Null
               1: AAC Main
               2: AAC LC
               3: AAC SSR (Scalable Sample Rate)
               4: AAC LTP (Long Term Prediction)
               5: HE-AAC / SBR (Spectral Band Replication)
               6: AAC Scalable
            */

            var audioObjectType = 0;
            var originalAudioObjectType = 0;
            var audioExtensionObjectType = null;
            var samplingIndex = 0;
            var extensionSamplingIndex = null;

            // 5 bits
            audioObjectType = originalAudioObjectType = array[0] >>> 3;
            // 4 bits
            samplingIndex = (array[0] & 0x07) << 1 | array[1] >>> 7;
            if (samplingIndex < 0 || samplingIndex >= this._mpegSamplingRates.length) {
                this._onError(_demuxErrors2.default.FORMAT_ERROR, 'Flv: AAC invalid sampling frequency index!');
                return;
            }

            var samplingFrequence = this._mpegSamplingRates[samplingIndex];

            // 4 bits
            var channelConfig = (array[1] & 0x78) >>> 3;
            if (channelConfig < 0 || channelConfig >= 8) {
                this._onError(_demuxErrors2.default.FORMAT_ERROR, 'Flv: AAC invalid channel configuration');
                return;
            }

            if (audioObjectType === 5) {
                // HE-AAC?
                // 4 bits
                extensionSamplingIndex = (array[1] & 0x07) << 1 | array[2] >>> 7;
                // 5 bits
                audioExtensionObjectType = (array[2] & 0x7C) >>> 2;
            }

            // workarounds for various browsers
            var userAgent = self.navigator.userAgent.toLowerCase();

            if (userAgent.indexOf('firefox') !== -1) {
                // firefox: use SBR (HE-AAC) if freq less than 24kHz
                if (samplingIndex >= 6) {
                    audioObjectType = 5;
                    config = new Array(4);
                    extensionSamplingIndex = samplingIndex - 3;
                } else {
                    // use LC-AAC
                    audioObjectType = 2;
                    config = new Array(2);
                    extensionSamplingIndex = samplingIndex;
                }
            } else if (userAgent.indexOf('android') !== -1) {
                // android: always use LC-AAC
                audioObjectType = 2;
                config = new Array(2);
                extensionSamplingIndex = samplingIndex;
            } else {
                // for other browsers, e.g. chrome...
                // Always use HE-AAC to make it easier to switch aac codec profile
                audioObjectType = 5;
                extensionSamplingIndex = samplingIndex;
                config = new Array(4);

                if (samplingIndex >= 6) {
                    extensionSamplingIndex = samplingIndex - 3;
                } else if (channelConfig === 1) {
                    // Mono channel
                    audioObjectType = 2;
                    config = new Array(2);
                    extensionSamplingIndex = samplingIndex;
                }
            }

            config[0] = audioObjectType << 3;
            config[0] |= (samplingIndex & 0x0F) >>> 1;
            config[1] = (samplingIndex & 0x0F) << 7;
            config[1] |= (channelConfig & 0x0F) << 3;
            if (audioObjectType === 5) {
                config[1] |= (extensionSamplingIndex & 0x0F) >>> 1;
                config[2] = (extensionSamplingIndex & 0x01) << 7;
                // extended audio object type: force to 2 (LC-AAC)
                config[2] |= 2 << 2;
                config[3] = 0;
            }

            return {
                config: config,
                samplingRate: samplingFrequence,
                channelCount: channelConfig,
                codec: 'mp4a.40.' + audioObjectType,
                originalCodec: 'mp4a.40.' + originalAudioObjectType
            };
        }
    }, {
        key: '_parseMP3AudioData',
        value: function _parseMP3AudioData(arrayBuffer, dataOffset, dataSize, requestHeader) {
            if (dataSize < 4) {
                _logger2.default.w(this.TAG, 'Flv: Invalid MP3 packet, header missing!');
                return;
            }

            var le = this._littleEndian;
            var array = new Uint8Array(arrayBuffer, dataOffset, dataSize);
            var result = null;

            if (requestHeader) {
                if (array[0] !== 0xFF) {
                    return;
                }
                var ver = array[1] >>> 3 & 0x03;
                var layer = (array[1] & 0x06) >> 1;

                var bitrate_index = (array[2] & 0xF0) >>> 4;
                var sampling_freq_index = (array[2] & 0x0C) >>> 2;

                var channel_mode = array[3] >>> 6 & 0x03;
                var channel_count = channel_mode !== 3 ? 2 : 1;

                var sample_rate = 0;
                var bit_rate = 0;
                var object_type = 34; // Layer-3, listed in MPEG-4 Audio Object Types

                var codec = 'mp3';

                switch (ver) {
                    case 0:
                        // MPEG 2.5
                        sample_rate = this._mpegAudioV25SampleRateTable[sampling_freq_index];
                        break;
                    case 2:
                        // MPEG 2
                        sample_rate = this._mpegAudioV20SampleRateTable[sampling_freq_index];
                        break;
                    case 3:
                        // MPEG 1
                        sample_rate = this._mpegAudioV10SampleRateTable[sampling_freq_index];
                        break;
                }

                switch (layer) {
                    case 1:
                        // Layer 3
                        object_type = 34;
                        if (bitrate_index < this._mpegAudioL3BitRateTable.length) {
                            bit_rate = this._mpegAudioL3BitRateTable[bitrate_index];
                        }
                        break;
                    case 2:
                        // Layer 2
                        object_type = 33;
                        if (bitrate_index < this._mpegAudioL2BitRateTable.length) {
                            bit_rate = this._mpegAudioL2BitRateTable[bitrate_index];
                        }
                        break;
                    case 3:
                        // Layer 1
                        object_type = 32;
                        if (bitrate_index < this._mpegAudioL1BitRateTable.length) {
                            bit_rate = this._mpegAudioL1BitRateTable[bitrate_index];
                        }
                        break;
                }

                result = {
                    bitRate: bit_rate,
                    samplingRate: sample_rate,
                    channelCount: channel_count,
                    codec: codec,
                    originalCodec: codec
                };
            } else {
                result = array;
            }

            return result;
        }
    }, {
        key: '_parseVideoData',
        value: function _parseVideoData(arrayBuffer, dataOffset, dataSize, tagTimestamp, tagPosition) {
            if (dataSize <= 1) {
                _logger2.default.w(this.TAG, 'Flv: Invalid video packet, missing VideoData payload!');
                return;
            }

            if (this._hasVideoFlagOverrided === true && this._hasVideo === false) {
                // If hasVideo: false indicated explicitly in MediaDataSource,
                // Ignore all the video packets
                return;
            }

            var spec = new Uint8Array(arrayBuffer, dataOffset, dataSize)[0];

            var frameType = (spec & 240) >>> 4;
            var codecId = spec & 15;

            if (codecId !== 7) {
                this._onError(_demuxErrors2.default.CODEC_UNSUPPORTED, 'Flv: Unsupported codec in video frame: ' + codecId);
                return;
            }

            this._parseAVCVideoPacket(arrayBuffer, dataOffset + 1, dataSize - 1, tagTimestamp, tagPosition, frameType);
        }
    }, {
        key: '_parseAVCVideoPacket',
        value: function _parseAVCVideoPacket(arrayBuffer, dataOffset, dataSize, tagTimestamp, tagPosition, frameType) {
            if (dataSize < 4) {
                _logger2.default.w(this.TAG, 'Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime');
                return;
            }

            var le = this._littleEndian;
            var v = new DataView(arrayBuffer, dataOffset, dataSize);

            var packetType = v.getUint8(0);
            var cts_unsigned = v.getUint32(0, !le) & 0x00FFFFFF;
            var cts = cts_unsigned << 8 >> 8; // convert to 24-bit signed int

            if (packetType === 0) {
                // AVCDecoderConfigurationRecord
                this._parseAVCDecoderConfigurationRecord(arrayBuffer, dataOffset + 4, dataSize - 4);
            } else if (packetType === 1) {
                // One or more Nalus
                this._parseAVCVideoData(arrayBuffer, dataOffset + 4, dataSize - 4, tagTimestamp, tagPosition, frameType, cts);
            } else if (packetType === 2) {
                // empty, AVC end of sequence
            } else {
                this._onError(_demuxErrors2.default.FORMAT_ERROR, 'Flv: Invalid video packet type ' + packetType);
                return;
            }
        }
    }, {
        key: '_parseAVCDecoderConfigurationRecord',
        value: function _parseAVCDecoderConfigurationRecord(arrayBuffer, dataOffset, dataSize) {
            if (dataSize < 7) {
                _logger2.default.w(this.TAG, 'Flv: Invalid AVCDecoderConfigurationRecord, lack of data!');
                return;
            }

            var meta = this._videoMetadata;
            var track = this._videoTrack;
            var le = this._littleEndian;
            var v = new DataView(arrayBuffer, dataOffset, dataSize);

            if (!meta) {
                if (this._hasVideo === false && this._hasVideoFlagOverrided === false) {
                    this._hasVideo = true;
                    this._mediaInfo.hasVideo = true;
                }

                meta = this._videoMetadata = {};
                meta.type = 'video';
                meta.id = track.id;
                meta.timescale = this._timescale;
                meta.duration = this._duration;
            } else {
                if (typeof meta.avcc !== 'undefined') {
                    _logger2.default.w(this.TAG, 'Found another AVCDecoderConfigurationRecord!');
                }
            }

            var version = v.getUint8(0); // configurationVersion
            var avcProfile = v.getUint8(1); // avcProfileIndication
            var profileCompatibility = v.getUint8(2); // profile_compatibility
            var avcLevel = v.getUint8(3); // AVCLevelIndication

            if (version !== 1 || avcProfile === 0) {
                this._onError(_demuxErrors2.default.FORMAT_ERROR, 'Flv: Invalid AVCDecoderConfigurationRecord');
                return;
            }

            this._naluLengthSize = (v.getUint8(4) & 3) + 1; // lengthSizeMinusOne
            if (this._naluLengthSize !== 3 && this._naluLengthSize !== 4) {
                // holy shit!!!
                this._onError(_demuxErrors2.default.FORMAT_ERROR, 'Flv: Strange NaluLengthSizeMinusOne: ' + (this._naluLengthSize - 1));
                return;
            }

            var spsCount = v.getUint8(5) & 31; // numOfSequenceParameterSets
            if (spsCount === 0) {
                this._onError(_demuxErrors2.default.FORMAT_ERROR, 'Flv: Invalid AVCDecoderConfigurationRecord: No SPS');
                return;
            } else if (spsCount > 1) {
                _logger2.default.w(this.TAG, 'Flv: Strange AVCDecoderConfigurationRecord: SPS Count = ' + spsCount);
            }

            var offset = 6;

            for (var i = 0; i < spsCount; i++) {
                var len = v.getUint16(offset, !le); // sequenceParameterSetLength
                offset += 2;

                if (len === 0) {
                    continue;
                }

                // Notice: Nalu without startcode header (00 00 00 01)
                var sps = new Uint8Array(arrayBuffer, dataOffset + offset, len);
                offset += len;

                var config = _spsParser2.default.parseSPS(sps);
                if (i !== 0) {
                    // ignore other sps's config
                    continue;
                }

                meta.codecWidth = config.codec_size.width;
                meta.codecHeight = config.codec_size.height;
                meta.presentWidth = config.present_size.width;
                meta.presentHeight = config.present_size.height;

                meta.profile = config.profile_string;
                meta.level = config.level_string;
                meta.bitDepth = config.bit_depth;
                meta.chromaFormat = config.chroma_format;
                meta.sarRatio = config.sar_ratio;
                meta.frameRate = config.frame_rate;

                if (config.frame_rate.fixed === false || config.frame_rate.fps_num === 0 || config.frame_rate.fps_den === 0) {
                    meta.frameRate = this._referenceFrameRate;
                }

                var fps_den = meta.frameRate.fps_den;
                var fps_num = meta.frameRate.fps_num;
                meta.refSampleDuration = meta.timescale * (fps_den / fps_num);

                var codecArray = sps.subarray(1, 4);
                var codecString = 'avc1.';
                for (var j = 0; j < 3; j++) {
                    var h = codecArray[j].toString(16);
                    if (h.length < 2) {
                        h = '0' + h;
                    }
                    codecString += h;
                }
                meta.codec = codecString;

                var mi = this._mediaInfo;
                mi.width = meta.codecWidth;
                mi.height = meta.codecHeight;
                mi.fps = meta.frameRate.fps;
                mi.profile = meta.profile;
                mi.level = meta.level;
                mi.refFrames = config.ref_frames;
                mi.chromaFormat = config.chroma_format_string;
                mi.sarNum = meta.sarRatio.width;
                mi.sarDen = meta.sarRatio.height;
                mi.videoCodec = codecString;

                if (mi.hasAudio) {
                    if (mi.audioCodec != null) {
                        mi.mimeType = 'video/x-flv; codecs="' + mi.videoCodec + ',' + mi.audioCodec + '"';
                    }
                } else {
                    mi.mimeType = 'video/x-flv; codecs="' + mi.videoCodec + '"';
                }
                if (mi.isComplete()) {
                    this._onMediaInfo(mi);
                }
            }

            var ppsCount = v.getUint8(offset); // numOfPictureParameterSets
            if (ppsCount === 0) {
                this._onError(_demuxErrors2.default.FORMAT_ERROR, 'Flv: Invalid AVCDecoderConfigurationRecord: No PPS');
                return;
            } else if (ppsCount > 1) {
                _logger2.default.w(this.TAG, 'Flv: Strange AVCDecoderConfigurationRecord: PPS Count = ' + ppsCount);
            }

            offset++;

            for (var _i = 0; _i < ppsCount; _i++) {
                var _len = v.getUint16(offset, !le); // pictureParameterSetLength
                offset += 2;

                if (_len === 0) {
                    continue;
                }

                // pps is useless for extracting video information
                offset += _len;
            }

            meta.avcc = new Uint8Array(dataSize);
            meta.avcc.set(new Uint8Array(arrayBuffer, dataOffset, dataSize), 0);
            _logger2.default.v(this.TAG, 'Parsed AVCDecoderConfigurationRecord');

            if (this._isInitialMetadataDispatched()) {
                // flush parsed frames
                if (this._dispatch && (this._audioTrack.length || this._videoTrack.length)) {
                    this._onDataAvailable(this._audioTrack, this._videoTrack);
                }
            } else {
                this._videoInitialMetadataDispatched = true;
            }
            // notify new metadata
            this._dispatch = false;
            this._onTrackMetadata('video', meta);
        }
    }, {
        key: '_parseAVCVideoData',
        value: function _parseAVCVideoData(arrayBuffer, dataOffset, dataSize, tagTimestamp, tagPosition, frameType, cts) {
            var le = this._littleEndian;
            var v = new DataView(arrayBuffer, dataOffset, dataSize);

            var units = [],
                length = 0;

            var offset = 0;
            var lengthSize = this._naluLengthSize;
            var dts = this._timestampBase + tagTimestamp;
            var keyframe = frameType === 1; // from FLV Frame Type constants

            while (offset < dataSize) {
                if (offset + 4 >= dataSize) {
                    _logger2.default.w(this.TAG, 'Malformed Nalu near timestamp ' + dts + ', offset = ' + offset + ', dataSize = ' + dataSize);
                    break; // data not enough for next Nalu
                }
                // Nalu with length-header (AVC1)
                var naluSize = v.getUint32(offset, !le); // Big-Endian read
                if (lengthSize === 3) {
                    naluSize >>>= 8;
                }
                if (naluSize > dataSize - lengthSize) {
                    _logger2.default.w(this.TAG, 'Malformed Nalus near timestamp ' + dts + ', NaluSize > DataSize!');
                    return;
                }

                var unitType = v.getUint8(offset + lengthSize) & 0x1F;

                if (unitType === 5) {
                    // IDR
                    keyframe = true;
                }

                var data = new Uint8Array(arrayBuffer, dataOffset + offset, lengthSize + naluSize);
                var unit = { type: unitType, data: data };
                units.push(unit);
                length += data.byteLength;

                offset += lengthSize + naluSize;
            }

            if (units.length) {
                var track = this._videoTrack;
                var avcSample = {
                    units: units,
                    length: length,
                    isKeyframe: keyframe,
                    dts: dts,
                    cts: cts,
                    pts: dts + cts
                };
                if (keyframe) {
                    avcSample.fileposition = tagPosition;
                }
                track.samples.push(avcSample);
                track.length += length;
            }
        }
    }, {
        key: 'onTrackMetadata',
        get: function get() {
            return this._onTrackMetadata;
        },
        set: function set(callback) {
            this._onTrackMetadata = callback;
        }

        // prototype: function(mediaInfo: MediaInfo): void

    }, {
        key: 'onMediaInfo',
        get: function get() {
            return this._onMediaInfo;
        },
        set: function set(callback) {
            this._onMediaInfo = callback;
        }

        // prototype: function(type: number, info: string): void

    }, {
        key: 'onError',
        get: function get() {
            return this._onError;
        },
        set: function set(callback) {
            this._onError = callback;
        }

        // prototype: function(videoTrack: any, audioTrack: any): void

    }, {
        key: 'onDataAvailable',
        get: function get() {
            return this._onDataAvailable;
        },
        set: function set(callback) {
            this._onDataAvailable = callback;
        }

        // timestamp base for output samples, must be in milliseconds

    }, {
        key: 'timestampBase',
        get: function get() {
            return this._timestampBase;
        },
        set: function set(base) {
            this._timestampBase = base;
        }
    }, {
        key: 'overridedDuration',
        get: function get() {
            return this._duration;
        }

        // Force-override media duration. Must be in milliseconds, int32
        ,
        set: function set(duration) {
            this._durationOverrided = true;
            this._duration = duration;
            this._mediaInfo.duration = duration;
        }

        // Force-override audio track present flag, boolean

    }, {
        key: 'overridedHasAudio',
        set: function set(hasAudio) {
            this._hasAudioFlagOverrided = true;
            this._hasAudio = hasAudio;
            this._mediaInfo.hasAudio = hasAudio;
        }

        // Force-override video track present flag, boolean

    }, {
        key: 'overridedHasVideo',
        set: function set(hasVideo) {
            this._hasVideoFlagOverrided = true;
            this._hasVideo = hasVideo;
            this._mediaInfo.hasVideo = hasVideo;
        }
    }], [{
        key: 'probe',
        value: function probe(buffer) {
            var data = new Uint8Array(buffer);
            var mismatch = { match: false };

            if (data[0] !== 0x46 || data[1] !== 0x4C || data[2] !== 0x56 || data[3] !== 0x01) {
                return mismatch;
            }

            var hasAudio = (data[4] & 4) >>> 2 !== 0;
            var hasVideo = (data[4] & 1) !== 0;

            var offset = ReadBig32(data, 5);

            if (offset < 9) {
                return mismatch;
            }

            return {
                match: true,
                consumed: offset,
                dataOffset: offset,
                hasAudioTrack: hasAudio,
                hasVideoTrack: hasVideo
            };
        }
    }]);

    return FLVDemuxer;
}();

exports.default = FLVDemuxer;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/demux/sps-parser.js":
/*!*************************************!*\
  !*** ./src/flv/demux/sps-parser.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _expGolomb = __webpack_require__(/*! ./exp-golomb.js */ "./src/flv/demux/exp-golomb.js");

var _expGolomb2 = _interopRequireDefault(_expGolomb);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var SPSParser = function () {
    function SPSParser() {
        _classCallCheck(this, SPSParser);
    }

    _createClass(SPSParser, null, [{
        key: '_ebsp2rbsp',
        value: function _ebsp2rbsp(uint8array) {
            var src = uint8array;
            var src_length = src.byteLength;
            var dst = new Uint8Array(src_length);
            var dst_idx = 0;

            for (var i = 0; i < src_length; i++) {
                if (i >= 2) {
                    // Unescape: Skip 0x03 after 00 00
                    if (src[i] === 0x03 && src[i - 1] === 0x00 && src[i - 2] === 0x00) {
                        continue;
                    }
                }
                dst[dst_idx] = src[i];
                dst_idx++;
            }

            return new Uint8Array(dst.buffer, 0, dst_idx);
        }
    }, {
        key: 'parseSPS',
        value: function parseSPS(uint8array) {
            var rbsp = SPSParser._ebsp2rbsp(uint8array);
            var gb = new _expGolomb2.default(rbsp);

            gb.readByte();
            var profile_idc = gb.readByte(); // profile_idc
            gb.readByte(); // constraint_set_flags[5] + reserved_zero[3]
            var level_idc = gb.readByte(); // level_idc
            gb.readUEG(); // seq_parameter_set_id

            var profile_string = SPSParser.getProfileString(profile_idc);
            var level_string = SPSParser.getLevelString(level_idc);
            var chroma_format_idc = 1;
            var chroma_format = 420;
            var chroma_format_table = [0, 420, 422, 444];
            var bit_depth = 8;

            if (profile_idc === 100 || profile_idc === 110 || profile_idc === 122 || profile_idc === 244 || profile_idc === 44 || profile_idc === 83 || profile_idc === 86 || profile_idc === 118 || profile_idc === 128 || profile_idc === 138 || profile_idc === 144) {

                chroma_format_idc = gb.readUEG();
                if (chroma_format_idc === 3) {
                    gb.readBits(1); // separate_colour_plane_flag
                }
                if (chroma_format_idc <= 3) {
                    chroma_format = chroma_format_table[chroma_format_idc];
                }

                bit_depth = gb.readUEG() + 8; // bit_depth_luma_minus8
                gb.readUEG(); // bit_depth_chroma_minus8
                gb.readBits(1); // qpprime_y_zero_transform_bypass_flag
                if (gb.readBool()) {
                    // seq_scaling_matrix_present_flag
                    var scaling_list_count = chroma_format_idc !== 3 ? 8 : 12;
                    for (var i = 0; i < scaling_list_count; i++) {
                        if (gb.readBool()) {
                            // seq_scaling_list_present_flag
                            if (i < 6) {
                                SPSParser._skipScalingList(gb, 16);
                            } else {
                                SPSParser._skipScalingList(gb, 64);
                            }
                        }
                    }
                }
            }
            gb.readUEG(); // log2_max_frame_num_minus4
            var pic_order_cnt_type = gb.readUEG();
            if (pic_order_cnt_type === 0) {
                gb.readUEG(); // log2_max_pic_order_cnt_lsb_minus_4
            } else if (pic_order_cnt_type === 1) {
                gb.readBits(1); // delta_pic_order_always_zero_flag
                gb.readSEG(); // offset_for_non_ref_pic
                gb.readSEG(); // offset_for_top_to_bottom_field
                var num_ref_frames_in_pic_order_cnt_cycle = gb.readUEG();
                for (var _i = 0; _i < num_ref_frames_in_pic_order_cnt_cycle; _i++) {
                    gb.readSEG(); // offset_for_ref_frame
                }
            }
            var ref_frames = gb.readUEG(); // max_num_ref_frames
            gb.readBits(1); // gaps_in_frame_num_value_allowed_flag

            var pic_width_in_mbs_minus1 = gb.readUEG();
            var pic_height_in_map_units_minus1 = gb.readUEG();

            var frame_mbs_only_flag = gb.readBits(1);
            if (frame_mbs_only_flag === 0) {
                gb.readBits(1); // mb_adaptive_frame_field_flag
            }
            gb.readBits(1); // direct_8x8_inference_flag

            var frame_crop_left_offset = 0;
            var frame_crop_right_offset = 0;
            var frame_crop_top_offset = 0;
            var frame_crop_bottom_offset = 0;

            var frame_cropping_flag = gb.readBool();
            if (frame_cropping_flag) {
                frame_crop_left_offset = gb.readUEG();
                frame_crop_right_offset = gb.readUEG();
                frame_crop_top_offset = gb.readUEG();
                frame_crop_bottom_offset = gb.readUEG();
            }

            var sar_width = 1,
                sar_height = 1;
            var fps = 0,
                fps_fixed = true,
                fps_num = 0,
                fps_den = 0;

            var vui_parameters_present_flag = gb.readBool();
            if (vui_parameters_present_flag) {
                if (gb.readBool()) {
                    // aspect_ratio_info_present_flag
                    var aspect_ratio_idc = gb.readByte();
                    var sar_w_table = [1, 12, 10, 16, 40, 24, 20, 32, 80, 18, 15, 64, 160, 4, 3, 2];
                    var sar_h_table = [1, 11, 11, 11, 33, 11, 11, 11, 33, 11, 11, 33, 99, 3, 2, 1];

                    if (aspect_ratio_idc > 0 && aspect_ratio_idc < 16) {
                        sar_width = sar_w_table[aspect_ratio_idc - 1];
                        sar_height = sar_h_table[aspect_ratio_idc - 1];
                    } else if (aspect_ratio_idc === 255) {
                        sar_width = gb.readByte() << 8 | gb.readByte();
                        sar_height = gb.readByte() << 8 | gb.readByte();
                    }
                }

                if (gb.readBool()) {
                    // overscan_info_present_flag
                    gb.readBool(); // overscan_appropriate_flag
                }
                if (gb.readBool()) {
                    // video_signal_type_present_flag
                    gb.readBits(4); // video_format & video_full_range_flag
                    if (gb.readBool()) {
                        // colour_description_present_flag
                        gb.readBits(24); // colour_primaries & transfer_characteristics & matrix_coefficients
                    }
                }
                if (gb.readBool()) {
                    // chroma_loc_info_present_flag
                    gb.readUEG(); // chroma_sample_loc_type_top_field
                    gb.readUEG(); // chroma_sample_loc_type_bottom_field
                }
                if (gb.readBool()) {
                    // timing_info_present_flag
                    var num_units_in_tick = gb.readBits(32);
                    var time_scale = gb.readBits(32);
                    fps_fixed = gb.readBool(); // fixed_frame_rate_flag

                    fps_num = time_scale;
                    fps_den = num_units_in_tick * 2;
                    fps = fps_num / fps_den;
                }
            }

            var sarScale = 1;
            if (sar_width !== 1 || sar_height !== 1) {
                sarScale = sar_width / sar_height;
            }

            var crop_unit_x = 0,
                crop_unit_y = 0;
            if (chroma_format_idc === 0) {
                crop_unit_x = 1;
                crop_unit_y = 2 - frame_mbs_only_flag;
            } else {
                var sub_wc = chroma_format_idc === 3 ? 1 : 2;
                var sub_hc = chroma_format_idc === 1 ? 2 : 1;
                crop_unit_x = sub_wc;
                crop_unit_y = sub_hc * (2 - frame_mbs_only_flag);
            }

            var codec_width = (pic_width_in_mbs_minus1 + 1) * 16;
            var codec_height = (2 - frame_mbs_only_flag) * ((pic_height_in_map_units_minus1 + 1) * 16);

            codec_width -= (frame_crop_left_offset + frame_crop_right_offset) * crop_unit_x;
            codec_height -= (frame_crop_top_offset + frame_crop_bottom_offset) * crop_unit_y;

            var present_width = Math.ceil(codec_width * sarScale);

            gb.destroy();
            gb = null;

            return {
                profile_string: profile_string, // baseline, high, high10, ...
                level_string: level_string, // 3, 3.1, 4, 4.1, 5, 5.1, ...
                bit_depth: bit_depth, // 8bit, 10bit, ...
                ref_frames: ref_frames,
                chroma_format: chroma_format, // 4:2:0, 4:2:2, ...
                chroma_format_string: SPSParser.getChromaFormatString(chroma_format),

                frame_rate: {
                    fixed: fps_fixed,
                    fps: fps,
                    fps_den: fps_den,
                    fps_num: fps_num
                },

                sar_ratio: {
                    width: sar_width,
                    height: sar_height
                },

                codec_size: {
                    width: codec_width,
                    height: codec_height
                },

                present_size: {
                    width: present_width,
                    height: codec_height
                }
            };
        }
    }, {
        key: '_skipScalingList',
        value: function _skipScalingList(gb, count) {
            var last_scale = 8,
                next_scale = 8;
            var delta_scale = 0;
            for (var i = 0; i < count; i++) {
                if (next_scale !== 0) {
                    delta_scale = gb.readSEG();
                    next_scale = (last_scale + delta_scale + 256) % 256;
                }
                last_scale = next_scale === 0 ? last_scale : next_scale;
            }
        }
    }, {
        key: 'getProfileString',
        value: function getProfileString(profile_idc) {
            switch (profile_idc) {
                case 66:
                    return 'Baseline';
                case 77:
                    return 'Main';
                case 88:
                    return 'Extended';
                case 100:
                    return 'High';
                case 110:
                    return 'High10';
                case 122:
                    return 'High422';
                case 244:
                    return 'High444';
                default:
                    return 'Unknown';
            }
        }
    }, {
        key: 'getLevelString',
        value: function getLevelString(level_idc) {
            return (level_idc / 10).toFixed(1);
        }
    }, {
        key: 'getChromaFormatString',
        value: function getChromaFormatString(chroma) {
            switch (chroma) {
                case 420:
                    return '4:2:0';
                case 422:
                    return '4:2:2';
                case 444:
                    return '4:4:4';
                default:
                    return 'Unknown';
            }
        }
    }]);

    return SPSParser;
}();

exports.default = SPSParser;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/flv.js":
/*!************************!*\
  !*** ./src/flv/flv.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; /*
                                                                                                                                                                                                                                                                               * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                               *
                                                                                                                                                                                                                                                                               * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                               *
                                                                                                                                                                                                                                                                               * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                               * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                               * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                               *
                                                                                                                                                                                                                                                                               *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                               *
                                                                                                                                                                                                                                                                               * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                               * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                               * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                               * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                               * limitations under the License.
                                                                                                                                                                                                                                                                               */

var _polyfill = __webpack_require__(/*! ./utils/polyfill.js */ "./src/flv/utils/polyfill.js");

var _polyfill2 = _interopRequireDefault(_polyfill);

var _features = __webpack_require__(/*! ./core/features.js */ "./src/flv/core/features.js");

var _features2 = _interopRequireDefault(_features);

var _flvPlayer = __webpack_require__(/*! ./player/flv-player.js */ "./src/flv/player/flv-player.js");

var _flvPlayer2 = _interopRequireDefault(_flvPlayer);

var _nativePlayer = __webpack_require__(/*! ./player/native-player.js */ "./src/flv/player/native-player.js");

var _nativePlayer2 = _interopRequireDefault(_nativePlayer);

var _playerEvents = __webpack_require__(/*! ./player/player-events.js */ "./src/flv/player/player-events.js");

var _playerEvents2 = _interopRequireDefault(_playerEvents);

var _playerErrors = __webpack_require__(/*! ./player/player-errors.js */ "./src/flv/player/player-errors.js");

var _loggingControl = __webpack_require__(/*! ./utils/logging-control.js */ "./src/flv/utils/logging-control.js");

var _loggingControl2 = _interopRequireDefault(_loggingControl);

var _exception = __webpack_require__(/*! ./utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// here are all the interfaces

// install polyfills
_polyfill2.default.install();

// factory method
function createPlayer(mediaDataSource, optionalConfig) {
    var mds = mediaDataSource;
    if (mds == null || (typeof mds === 'undefined' ? 'undefined' : _typeof(mds)) !== 'object') {
        throw new _exception.InvalidArgumentException('MediaDataSource must be an javascript object!');
    }

    if (!mds.hasOwnProperty('type')) {
        throw new _exception.InvalidArgumentException('MediaDataSource must has type field to indicate video file type!');
    }

    switch (mds.type) {
        case 'flv':
            return new _flvPlayer2.default(mds, optionalConfig);
        default:
            return new _nativePlayer2.default(mds, optionalConfig);
    }
}

// feature detection
function isSupported() {
    return _features2.default.supportMSEH264Playback();
}

function getFeatureList() {
    return _features2.default.getFeatureList();
}

// interfaces
var flvjs = {};

flvjs.createPlayer = createPlayer;
flvjs.isSupported = isSupported;
flvjs.getFeatureList = getFeatureList;

flvjs.Events = _playerEvents2.default;
flvjs.ErrorTypes = _playerErrors.ErrorTypes;
flvjs.ErrorDetails = _playerErrors.ErrorDetails;

flvjs.FlvPlayer = _flvPlayer2.default;
flvjs.NativePlayer = _nativePlayer2.default;
flvjs.LoggingControl = _loggingControl2.default;

Object.defineProperty(flvjs, 'version', {
    enumerable: true,
    get: function get() {
        // replaced by browserify-versionify transform
        return '__VERSION__';
    }
});

exports.default = flvjs;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/io/fetch-stream-loader.js":
/*!*******************************************!*\
  !*** ./src/flv/io/fetch-stream-loader.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _browser = __webpack_require__(/*! ../utils/browser.js */ "./src/flv/utils/browser.js");

var _browser2 = _interopRequireDefault(_browser);

var _loader = __webpack_require__(/*! ./loader.js */ "./src/flv/io/loader.js");

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/* fetch + stream IO loader. Currently working on chrome 43+.
 * fetch provides a better alternative http API to XMLHttpRequest
 *
 * fetch spec   https://fetch.spec.whatwg.org/
 * stream spec  https://streams.spec.whatwg.org/
 */
var FetchStreamLoader = function (_BaseLoader) {
    _inherits(FetchStreamLoader, _BaseLoader);

    _createClass(FetchStreamLoader, null, [{
        key: 'isSupported',
        value: function isSupported() {
            try {
                // fetch + stream is broken on Microsoft Edge. Disable before build 15048.
                // see https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8196907/
                // Fixed in Jan 10, 2017. Build 15048+ removed from blacklist.
                var isWorkWellEdge = _browser2.default.msedge && _browser2.default.version.minor >= 15048;
                var browserNotBlacklisted = _browser2.default.msedge ? isWorkWellEdge : true;
                return self.fetch && self.ReadableStream && browserNotBlacklisted;
            } catch (e) {
                return false;
            }
        }
    }]);

    function FetchStreamLoader(seekHandler, config) {
        _classCallCheck(this, FetchStreamLoader);

        var _this = _possibleConstructorReturn(this, (FetchStreamLoader.__proto__ || Object.getPrototypeOf(FetchStreamLoader)).call(this, 'fetch-stream-loader'));

        _this.TAG = 'FetchStreamLoader';

        _this._seekHandler = seekHandler;
        _this._config = config;
        _this._needStash = true;

        _this._requestAbort = false;
        _this._contentLength = null;
        _this._receivedLength = 0;
        return _this;
    }

    _createClass(FetchStreamLoader, [{
        key: 'destroy',
        value: function destroy() {
            if (this.isWorking()) {
                this.abort();
            }
            _get(FetchStreamLoader.prototype.__proto__ || Object.getPrototypeOf(FetchStreamLoader.prototype), 'destroy', this).call(this);
        }
    }, {
        key: 'open',
        value: function open(dataSource, range) {
            var _this2 = this;

            this._dataSource = dataSource;
            this._range = range;

            var sourceURL = dataSource.url;
            if (this._config.reuseRedirectedURL && dataSource.redirectedURL != undefined) {
                sourceURL = dataSource.redirectedURL;
            }

            var seekConfig = this._seekHandler.getConfig(sourceURL, range);

            var headers = new self.Headers();

            if (_typeof(seekConfig.headers) === 'object') {
                var configHeaders = seekConfig.headers;
                for (var key in configHeaders) {
                    if (configHeaders.hasOwnProperty(key)) {
                        headers.append(key, configHeaders[key]);
                    }
                }
            }

            var params = {
                method: 'GET',
                headers: headers,
                mode: 'cors',
                cache: 'default',
                // The default policy of Fetch API in the whatwg standard
                // Safari incorrectly indicates 'no-referrer' as default policy, fuck it
                referrerPolicy: 'no-referrer-when-downgrade'
            };

            // cors is enabled by default
            if (dataSource.cors === false) {
                // no-cors means 'disregard cors policy', which can only be used in ServiceWorker
                params.mode = 'same-origin';
            }

            // withCredentials is disabled by default
            if (dataSource.withCredentials) {
                params.credentials = 'include';
            }

            // referrerPolicy from config
            if (dataSource.referrerPolicy) {
                params.referrerPolicy = dataSource.referrerPolicy;
            }

            this._status = _loader.LoaderStatus.kConnecting;
            self.fetch(seekConfig.url, params).then(function (res) {
                if (_this2._requestAbort) {
                    _this2._requestAbort = false;
                    _this2._status = _loader.LoaderStatus.kIdle;
                    return;
                }
                if (res.ok && res.status >= 200 && res.status <= 299) {
                    if (res.url !== seekConfig.url) {
                        if (_this2._onURLRedirect) {
                            var redirectedURL = _this2._seekHandler.removeURLParameters(res.url);
                            _this2._onURLRedirect(redirectedURL);
                        }
                    }

                    var lengthHeader = res.headers.get('Content-Length');
                    if (lengthHeader != null) {
                        _this2._contentLength = parseInt(lengthHeader);
                        if (_this2._contentLength !== 0) {
                            if (_this2._onContentLengthKnown) {
                                _this2._onContentLengthKnown(_this2._contentLength);
                            }
                        }
                    }

                    return _this2._pump.call(_this2, res.body.getReader());
                } else {
                    _this2._status = _loader.LoaderStatus.kError;
                    if (_this2._onError) {
                        _this2._onError(_loader.LoaderErrors.HTTP_STATUS_CODE_INVALID, { code: res.status, msg: res.statusText });
                    } else {
                        throw new _exception.RuntimeException('FetchStreamLoader: Http code invalid, ' + res.status + ' ' + res.statusText);
                    }
                }
            }).catch(function (e) {
                _this2._status = _loader.LoaderStatus.kError;
                if (_this2._onError) {
                    _this2._onError(_loader.LoaderErrors.EXCEPTION, { code: -1, msg: e.message });
                } else {
                    throw e;
                }
            });
        }
    }, {
        key: 'abort',
        value: function abort() {
            this._requestAbort = true;
        }
    }, {
        key: '_pump',
        value: function _pump(reader) {
            var _this3 = this;

            // ReadableStreamReader
            return reader.read().then(function (result) {
                if (result.done) {
                    // First check received length
                    if (_this3._contentLength !== null && _this3._receivedLength < _this3._contentLength) {
                        // Report Early-EOF
                        _this3._status = _loader.LoaderStatus.kError;
                        var type = _loader.LoaderErrors.EARLY_EOF;
                        var info = { code: -1, msg: 'Fetch stream meet Early-EOF' };
                        if (_this3._onError) {
                            _this3._onError(type, info);
                        } else {
                            throw new _exception.RuntimeException(info.msg);
                        }
                    } else {
                        // OK. Download complete
                        _this3._status = _loader.LoaderStatus.kComplete;
                        if (_this3._onComplete) {
                            _this3._onComplete(_this3._range.from, _this3._range.from + _this3._receivedLength - 1);
                        }
                    }
                } else {
                    if (_this3._requestAbort === true) {
                        _this3._requestAbort = false;
                        _this3._status = _loader.LoaderStatus.kComplete;
                        return reader.cancel();
                    }

                    _this3._status = _loader.LoaderStatus.kBuffering;

                    var chunk = result.value.buffer;
                    var byteStart = _this3._range.from + _this3._receivedLength;
                    _this3._receivedLength += chunk.byteLength;

                    if (_this3._onDataArrival) {
                        _this3._onDataArrival(chunk, byteStart, _this3._receivedLength);
                    }

                    _this3._pump(reader);
                }
            }).catch(function (e) {
                if (e.code === 11 && _browser2.default.msedge) {
                    // InvalidStateError on Microsoft Edge
                    // Workaround: Edge may throw InvalidStateError after ReadableStreamReader.cancel() call
                    // Ignore the unknown exception.
                    // Related issue: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11265202/
                    return;
                }

                _this3._status = _loader.LoaderStatus.kError;
                var type = 0;
                var info = null;

                if ((e.code === 19 || e.message === 'network error') && ( // NETWORK_ERR
                _this3._contentLength === null || _this3._contentLength !== null && _this3._receivedLength < _this3._contentLength)) {
                    type = _loader.LoaderErrors.EARLY_EOF;
                    info = { code: e.code, msg: 'Fetch stream meet Early-EOF' };
                } else {
                    type = _loader.LoaderErrors.EXCEPTION;
                    info = { code: e.code, msg: e.message };
                }

                if (_this3._onError) {
                    _this3._onError(type, info);
                } else {
                    throw new _exception.RuntimeException(info.msg);
                }
            });
        }
    }]);

    return FetchStreamLoader;
}(_loader.BaseLoader);

exports.default = FetchStreamLoader;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/io/io-controller.js":
/*!*************************************!*\
  !*** ./src/flv/io/io-controller.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _speedSampler = __webpack_require__(/*! ./speed-sampler.js */ "./src/flv/io/speed-sampler.js");

var _speedSampler2 = _interopRequireDefault(_speedSampler);

var _loader = __webpack_require__(/*! ./loader.js */ "./src/flv/io/loader.js");

var _fetchStreamLoader = __webpack_require__(/*! ./fetch-stream-loader.js */ "./src/flv/io/fetch-stream-loader.js");

var _fetchStreamLoader2 = _interopRequireDefault(_fetchStreamLoader);

var _xhrMozChunkedLoader = __webpack_require__(/*! ./xhr-moz-chunked-loader.js */ "./src/flv/io/xhr-moz-chunked-loader.js");

var _xhrMozChunkedLoader2 = _interopRequireDefault(_xhrMozChunkedLoader);

var _xhrMsstreamLoader = __webpack_require__(/*! ./xhr-msstream-loader.js */ "./src/flv/io/xhr-msstream-loader.js");

var _xhrMsstreamLoader2 = _interopRequireDefault(_xhrMsstreamLoader);

var _xhrRangeLoader = __webpack_require__(/*! ./xhr-range-loader.js */ "./src/flv/io/xhr-range-loader.js");

var _xhrRangeLoader2 = _interopRequireDefault(_xhrRangeLoader);

var _websocketLoader = __webpack_require__(/*! ./websocket-loader.js */ "./src/flv/io/websocket-loader.js");

var _websocketLoader2 = _interopRequireDefault(_websocketLoader);

var _rangeSeekHandler = __webpack_require__(/*! ./range-seek-handler.js */ "./src/flv/io/range-seek-handler.js");

var _rangeSeekHandler2 = _interopRequireDefault(_rangeSeekHandler);

var _paramSeekHandler = __webpack_require__(/*! ./param-seek-handler.js */ "./src/flv/io/param-seek-handler.js");

var _paramSeekHandler2 = _interopRequireDefault(_paramSeekHandler);

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * DataSource: {
 *     url: string,
 *     filesize: number,
 *     cors: boolean,
 *     withCredentials: boolean
 * }
 * 
 */

// Manage IO Loaders
var IOController = function () {
    function IOController(dataSource, config, extraData) {
        _classCallCheck(this, IOController);

        this.TAG = 'IOController';

        this._config = config;
        this._extraData = extraData;

        this._stashInitialSize = 1024 * 384; // default initial size: 384KB
        if (config.stashInitialSize != undefined && config.stashInitialSize > 0) {
            // apply from config
            this._stashInitialSize = config.stashInitialSize;
        }

        this._stashUsed = 0;
        this._stashSize = this._stashInitialSize;
        this._bufferSize = 1024 * 1024 * 3; // initial size: 3MB
        this._stashBuffer = new ArrayBuffer(this._bufferSize);
        this._stashByteStart = 0;
        this._enableStash = true;
        if (config.enableStashBuffer === false) {
            this._enableStash = false;
        }

        this._loader = null;
        this._loaderClass = null;
        this._seekHandler = null;

        this._dataSource = dataSource;
        this._isWebSocketURL = /wss?:\/\/(.+?)/.test(dataSource.url);
        this._refTotalLength = dataSource.filesize ? dataSource.filesize : null;
        this._totalLength = this._refTotalLength;
        this._fullRequestFlag = false;
        this._currentRange = null;
        this._redirectedURL = null;

        this._speedNormalized = 0;
        this._speedSampler = new _speedSampler2.default();
        this._speedNormalizeList = [64, 128, 256, 384, 512, 768, 1024, 1536, 2048, 3072, 4096];

        this._isEarlyEofReconnecting = false;

        this._paused = false;
        this._resumeFrom = 0;

        this._onDataArrival = null;
        this._onSeeked = null;
        this._onError = null;
        this._onComplete = null;
        this._onRedirect = null;
        this._onRecoveredEarlyEof = null;

        this._selectSeekHandler();
        this._selectLoader();
        this._createLoader();
    }

    _createClass(IOController, [{
        key: 'destroy',
        value: function destroy() {
            if (this._loader.isWorking()) {
                this._loader.abort();
            }
            this._loader.destroy();
            this._loader = null;
            this._loaderClass = null;
            this._dataSource = null;
            this._stashBuffer = null;
            this._stashUsed = this._stashSize = this._bufferSize = this._stashByteStart = 0;
            this._currentRange = null;
            this._speedSampler = null;

            this._isEarlyEofReconnecting = false;

            this._onDataArrival = null;
            this._onSeeked = null;
            this._onError = null;
            this._onComplete = null;
            this._onRedirect = null;
            this._onRecoveredEarlyEof = null;

            this._extraData = null;
        }
    }, {
        key: 'isWorking',
        value: function isWorking() {
            return this._loader && this._loader.isWorking() && !this._paused;
        }
    }, {
        key: 'isPaused',
        value: function isPaused() {
            return this._paused;
        }
    }, {
        key: '_selectSeekHandler',
        value: function _selectSeekHandler() {
            var config = this._config;

            if (config.seekType === 'range') {
                this._seekHandler = new _rangeSeekHandler2.default(this._config.rangeLoadZeroStart);
            } else if (config.seekType === 'param') {
                var paramStart = config.seekParamStart || 'bstart';
                var paramEnd = config.seekParamEnd || 'bend';

                this._seekHandler = new _paramSeekHandler2.default(paramStart, paramEnd);
            } else if (config.seekType === 'custom') {
                if (typeof config.customSeekHandler !== 'function') {
                    throw new _exception.InvalidArgumentException('Custom seekType specified in config but invalid customSeekHandler!');
                }
                this._seekHandler = new config.customSeekHandler();
            } else {
                throw new _exception.InvalidArgumentException('Invalid seekType in config: ' + config.seekType);
            }
        }
    }, {
        key: '_selectLoader',
        value: function _selectLoader() {
            if (this._isWebSocketURL) {
                this._loaderClass = _websocketLoader2.default;
            } else if (_fetchStreamLoader2.default.isSupported()) {
                this._loaderClass = _fetchStreamLoader2.default;
            } else if (_xhrMozChunkedLoader2.default.isSupported()) {
                this._loaderClass = _xhrMozChunkedLoader2.default;
            } else if (_xhrRangeLoader2.default.isSupported()) {
                this._loaderClass = _xhrRangeLoader2.default;
            } else {
                throw new _exception.RuntimeException('Your browser doesn\'t support xhr with arraybuffer responseType!');
            }
        }
    }, {
        key: '_createLoader',
        value: function _createLoader() {
            this._loader = new this._loaderClass(this._seekHandler, this._config);
            if (this._loader.needStashBuffer === false) {
                this._enableStash = false;
            }
            this._loader.onContentLengthKnown = this._onContentLengthKnown.bind(this);
            this._loader.onURLRedirect = this._onURLRedirect.bind(this);
            this._loader.onDataArrival = this._onLoaderChunkArrival.bind(this);
            this._loader.onComplete = this._onLoaderComplete.bind(this);
            this._loader.onError = this._onLoaderError.bind(this);
        }
    }, {
        key: 'open',
        value: function open(optionalFrom) {
            this._currentRange = { from: 0, to: -1 };
            if (optionalFrom) {
                this._currentRange.from = optionalFrom;
            }

            this._speedSampler.reset();
            if (!optionalFrom) {
                this._fullRequestFlag = true;
            }

            this._loader.open(this._dataSource, Object.assign({}, this._currentRange));
        }
    }, {
        key: 'abort',
        value: function abort() {
            this._loader.abort();

            if (this._paused) {
                this._paused = false;
                this._resumeFrom = 0;
            }
        }
    }, {
        key: 'pause',
        value: function pause() {
            if (this.isWorking()) {
                this._loader.abort();

                if (this._stashUsed !== 0) {
                    this._resumeFrom = this._stashByteStart;
                    this._currentRange.to = this._stashByteStart - 1;
                } else {
                    this._resumeFrom = this._currentRange.to + 1;
                }
                this._stashUsed = 0;
                this._stashByteStart = 0;
                this._paused = true;
            }
        }
    }, {
        key: 'resume',
        value: function resume() {
            if (this._paused) {
                this._paused = false;
                var bytes = this._resumeFrom;
                this._resumeFrom = 0;
                this._internalSeek(bytes, true);
            }
        }
    }, {
        key: 'seek',
        value: function seek(bytes) {
            this._paused = false;
            this._stashUsed = 0;
            this._stashByteStart = 0;
            this._internalSeek(bytes, true);
        }

        /**
         * When seeking request is from media seeking, unconsumed stash data should be dropped
         * However, stash data shouldn't be dropped if seeking requested from http reconnection
         *
         * @dropUnconsumed: Ignore and discard all unconsumed data in stash buffer
         */

    }, {
        key: '_internalSeek',
        value: function _internalSeek(bytes, dropUnconsumed) {
            if (this._loader.isWorking()) {
                this._loader.abort();
            }

            // dispatch & flush stash buffer before seek
            this._flushStashBuffer(dropUnconsumed);

            this._loader.destroy();
            this._loader = null;

            var requestRange = { from: bytes, to: -1 };
            this._currentRange = { from: requestRange.from, to: -1 };

            this._speedSampler.reset();
            this._stashSize = this._stashInitialSize;
            this._createLoader();
            this._loader.open(this._dataSource, requestRange);

            if (this._onSeeked) {
                this._onSeeked();
            }
        }
    }, {
        key: 'updateUrl',
        value: function updateUrl(url) {
            if (!url || typeof url !== 'string' || url.length === 0) {
                throw new _exception.InvalidArgumentException('Url must be a non-empty string!');
            }

            this._dataSource.url = url;

            // TODO: replace with new url
        }
    }, {
        key: '_expandBuffer',
        value: function _expandBuffer(expectedBytes) {
            var bufferNewSize = this._stashSize;
            while (bufferNewSize + 1024 * 1024 * 1 < expectedBytes) {
                bufferNewSize *= 2;
            }

            bufferNewSize += 1024 * 1024 * 1; // bufferSize = stashSize + 1MB
            if (bufferNewSize === this._bufferSize) {
                return;
            }

            var newBuffer = new ArrayBuffer(bufferNewSize);

            if (this._stashUsed > 0) {
                // copy existing data into new buffer
                var stashOldArray = new Uint8Array(this._stashBuffer, 0, this._stashUsed);
                var stashNewArray = new Uint8Array(newBuffer, 0, bufferNewSize);
                stashNewArray.set(stashOldArray, 0);
            }

            this._stashBuffer = newBuffer;
            this._bufferSize = bufferNewSize;
        }
    }, {
        key: '_normalizeSpeed',
        value: function _normalizeSpeed(input) {
            var list = this._speedNormalizeList;
            var last = list.length - 1;
            var mid = 0;
            var lbound = 0;
            var ubound = last;

            if (input < list[0]) {
                return list[0];
            }

            // binary search
            while (lbound <= ubound) {
                mid = lbound + Math.floor((ubound - lbound) / 2);
                if (mid === last || input >= list[mid] && input < list[mid + 1]) {
                    return list[mid];
                } else if (list[mid] < input) {
                    lbound = mid + 1;
                } else {
                    ubound = mid - 1;
                }
            }
        }
    }, {
        key: '_adjustStashSize',
        value: function _adjustStashSize(normalized) {
            var stashSizeKB = 0;

            if (this._config.isLive) {
                // live stream: always use single normalized speed for size of stashSizeKB
                stashSizeKB = normalized;
            } else {
                if (normalized < 512) {
                    stashSizeKB = normalized;
                } else if (normalized >= 512 && normalized <= 1024) {
                    stashSizeKB = Math.floor(normalized * 1.5);
                } else {
                    stashSizeKB = normalized * 2;
                }
            }

            if (stashSizeKB > 8192) {
                stashSizeKB = 8192;
            }

            var bufferSize = stashSizeKB * 1024 + 1024 * 1024 * 1; // stashSize + 1MB
            if (this._bufferSize < bufferSize) {
                this._expandBuffer(bufferSize);
            }
            this._stashSize = stashSizeKB * 1024;
        }
    }, {
        key: '_dispatchChunks',
        value: function _dispatchChunks(chunks, byteStart) {
            this._currentRange.to = byteStart + chunks.byteLength - 1;
            return this._onDataArrival(chunks, byteStart);
        }
    }, {
        key: '_onURLRedirect',
        value: function _onURLRedirect(redirectedURL) {
            this._redirectedURL = redirectedURL;
            if (this._onRedirect) {
                this._onRedirect(redirectedURL);
            }
        }
    }, {
        key: '_onContentLengthKnown',
        value: function _onContentLengthKnown(contentLength) {
            if (contentLength && this._fullRequestFlag) {
                this._totalLength = contentLength;
                this._fullRequestFlag = false;
            }
        }
    }, {
        key: '_onLoaderChunkArrival',
        value: function _onLoaderChunkArrival(chunk, byteStart, receivedLength) {
            if (!this._onDataArrival) {
                throw new _exception.IllegalStateException('IOController: No existing consumer (onDataArrival) callback!');
            }
            if (this._paused) {
                return;
            }
            if (this._isEarlyEofReconnecting) {
                // Auto-reconnect for EarlyEof succeed, notify to upper-layer by callback
                this._isEarlyEofReconnecting = false;
                if (this._onRecoveredEarlyEof) {
                    this._onRecoveredEarlyEof();
                }
            }

            this._speedSampler.addBytes(chunk.byteLength);

            // adjust stash buffer size according to network speed dynamically
            var KBps = this._speedSampler.lastSecondKBps;
            if (KBps !== 0) {
                var normalized = this._normalizeSpeed(KBps);
                if (this._speedNormalized !== normalized) {
                    this._speedNormalized = normalized;
                    this._adjustStashSize(normalized);
                }
            }

            if (!this._enableStash) {
                // disable stash
                if (this._stashUsed === 0) {
                    // dispatch chunk directly to consumer;
                    // check ret value (consumed bytes) and stash unconsumed to stashBuffer
                    var consumed = this._dispatchChunks(chunk, byteStart);
                    if (consumed < chunk.byteLength) {
                        // unconsumed data remain.
                        var remain = chunk.byteLength - consumed;
                        if (remain > this._bufferSize) {
                            this._expandBuffer(remain);
                        }
                        var stashArray = new Uint8Array(this._stashBuffer, 0, this._bufferSize);
                        stashArray.set(new Uint8Array(chunk, consumed), 0);
                        this._stashUsed += remain;
                        this._stashByteStart = byteStart + consumed;
                    }
                } else {
                    // else: Merge chunk into stashBuffer, and dispatch stashBuffer to consumer.
                    if (this._stashUsed + chunk.byteLength > this._bufferSize) {
                        this._expandBuffer(this._stashUsed + chunk.byteLength);
                    }
                    var _stashArray = new Uint8Array(this._stashBuffer, 0, this._bufferSize);
                    _stashArray.set(new Uint8Array(chunk), this._stashUsed);
                    this._stashUsed += chunk.byteLength;
                    var _consumed = this._dispatchChunks(this._stashBuffer.slice(0, this._stashUsed), this._stashByteStart);
                    if (_consumed < this._stashUsed && _consumed > 0) {
                        // unconsumed data remain
                        var remainArray = new Uint8Array(this._stashBuffer, _consumed);
                        _stashArray.set(remainArray, 0);
                    }
                    this._stashUsed -= _consumed;
                    this._stashByteStart += _consumed;
                }
            } else {
                // enable stash
                if (this._stashUsed === 0 && this._stashByteStart === 0) {
                    // seeked? or init chunk?
                    // This is the first chunk after seek action
                    this._stashByteStart = byteStart;
                }
                if (this._stashUsed + chunk.byteLength <= this._stashSize) {
                    // just stash
                    var _stashArray2 = new Uint8Array(this._stashBuffer, 0, this._stashSize);
                    _stashArray2.set(new Uint8Array(chunk), this._stashUsed);
                    this._stashUsed += chunk.byteLength;
                } else {
                    // stashUsed + chunkSize > stashSize, size limit exceeded
                    var _stashArray3 = new Uint8Array(this._stashBuffer, 0, this._bufferSize);
                    if (this._stashUsed > 0) {
                        // There're stash datas in buffer
                        // dispatch the whole stashBuffer, and stash remain data
                        // then append chunk to stashBuffer (stash)
                        var buffer = this._stashBuffer.slice(0, this._stashUsed);
                        var _consumed2 = this._dispatchChunks(buffer, this._stashByteStart);
                        if (_consumed2 < buffer.byteLength) {
                            if (_consumed2 > 0) {
                                var _remainArray = new Uint8Array(buffer, _consumed2);
                                _stashArray3.set(_remainArray, 0);
                                this._stashUsed = _remainArray.byteLength;
                                this._stashByteStart += _consumed2;
                            }
                        } else {
                            this._stashUsed = 0;
                            this._stashByteStart += _consumed2;
                        }
                        if (this._stashUsed + chunk.byteLength > this._bufferSize) {
                            this._expandBuffer(this._stashUsed + chunk.byteLength);
                            _stashArray3 = new Uint8Array(this._stashBuffer, 0, this._bufferSize);
                        }
                        _stashArray3.set(new Uint8Array(chunk), this._stashUsed);
                        this._stashUsed += chunk.byteLength;
                    } else {
                        // stash buffer empty, but chunkSize > stashSize (oh, holy shit)
                        // dispatch chunk directly and stash remain data
                        var _consumed3 = this._dispatchChunks(chunk, byteStart);
                        if (_consumed3 < chunk.byteLength) {
                            var _remain = chunk.byteLength - _consumed3;
                            if (_remain > this._bufferSize) {
                                this._expandBuffer(_remain);
                                _stashArray3 = new Uint8Array(this._stashBuffer, 0, this._bufferSize);
                            }
                            _stashArray3.set(new Uint8Array(chunk, _consumed3), 0);
                            this._stashUsed += _remain;
                            this._stashByteStart = byteStart + _consumed3;
                        }
                    }
                }
            }
        }
    }, {
        key: '_flushStashBuffer',
        value: function _flushStashBuffer(dropUnconsumed) {
            if (this._stashUsed > 0) {
                var buffer = this._stashBuffer.slice(0, this._stashUsed);
                var consumed = this._dispatchChunks(buffer, this._stashByteStart);
                var remain = buffer.byteLength - consumed;

                if (consumed < buffer.byteLength) {
                    if (dropUnconsumed) {
                        _logger2.default.w(this.TAG, remain + ' bytes unconsumed data remain when flush buffer, dropped');
                    } else {
                        if (consumed > 0) {
                            var stashArray = new Uint8Array(this._stashBuffer, 0, this._bufferSize);
                            var remainArray = new Uint8Array(buffer, consumed);
                            stashArray.set(remainArray, 0);
                            this._stashUsed = remainArray.byteLength;
                            this._stashByteStart += consumed;
                        }
                        return 0;
                    }
                }
                this._stashUsed = 0;
                this._stashByteStart = 0;
                return remain;
            }
            return 0;
        }
    }, {
        key: '_onLoaderComplete',
        value: function _onLoaderComplete(from, to) {
            // Force-flush stash buffer, and drop unconsumed data
            this._flushStashBuffer(true);

            if (this._onComplete) {
                this._onComplete(this._extraData);
            }
        }
    }, {
        key: '_onLoaderError',
        value: function _onLoaderError(type, data) {
            _logger2.default.e(this.TAG, 'Loader error, code = ' + data.code + ', msg = ' + data.msg);

            this._flushStashBuffer(false);

            if (this._isEarlyEofReconnecting) {
                // Auto-reconnect for EarlyEof failed, throw UnrecoverableEarlyEof error to upper-layer
                this._isEarlyEofReconnecting = false;
                type = _loader.LoaderErrors.UNRECOVERABLE_EARLY_EOF;
            }

            switch (type) {
                case _loader.LoaderErrors.EARLY_EOF:
                    {
                        if (!this._config.isLive) {
                            // Do internal http reconnect if not live stream
                            if (this._totalLength) {
                                var nextFrom = this._currentRange.to + 1;
                                if (nextFrom < this._totalLength) {
                                    _logger2.default.w(this.TAG, 'Connection lost, trying reconnect...');
                                    this._isEarlyEofReconnecting = true;
                                    this._internalSeek(nextFrom, false);
                                }
                                return;
                            }
                            // else: We don't know totalLength, throw UnrecoverableEarlyEof
                        }
                        // live stream: throw UnrecoverableEarlyEof error to upper-layer
                        type = _loader.LoaderErrors.UNRECOVERABLE_EARLY_EOF;
                        break;
                    }
                case _loader.LoaderErrors.UNRECOVERABLE_EARLY_EOF:
                case _loader.LoaderErrors.CONNECTING_TIMEOUT:
                case _loader.LoaderErrors.HTTP_STATUS_CODE_INVALID:
                case _loader.LoaderErrors.EXCEPTION:
                    break;
            }

            if (this._onError) {
                this._onError(type, data);
            } else {
                throw new _exception.RuntimeException('IOException: ' + data.msg);
            }
        }
    }, {
        key: 'status',
        get: function get() {
            return this._loader.status;
        }
    }, {
        key: 'extraData',
        get: function get() {
            return this._extraData;
        },
        set: function set(data) {
            this._extraData = data;
        }

        // prototype: function onDataArrival(chunks: ArrayBuffer, byteStart: number): number

    }, {
        key: 'onDataArrival',
        get: function get() {
            return this._onDataArrival;
        },
        set: function set(callback) {
            this._onDataArrival = callback;
        }
    }, {
        key: 'onSeeked',
        get: function get() {
            return this._onSeeked;
        },
        set: function set(callback) {
            this._onSeeked = callback;
        }

        // prototype: function onError(type: number, info: {code: number, msg: string}): void

    }, {
        key: 'onError',
        get: function get() {
            return this._onError;
        },
        set: function set(callback) {
            this._onError = callback;
        }
    }, {
        key: 'onComplete',
        get: function get() {
            return this._onComplete;
        },
        set: function set(callback) {
            this._onComplete = callback;
        }
    }, {
        key: 'onRedirect',
        get: function get() {
            return this._onRedirect;
        },
        set: function set(callback) {
            this._onRedirect = callback;
        }
    }, {
        key: 'onRecoveredEarlyEof',
        get: function get() {
            return this._onRecoveredEarlyEof;
        },
        set: function set(callback) {
            this._onRecoveredEarlyEof = callback;
        }
    }, {
        key: 'currentURL',
        get: function get() {
            return this._dataSource.url;
        }
    }, {
        key: 'hasRedirect',
        get: function get() {
            return this._redirectedURL != null || this._dataSource.redirectedURL != undefined;
        }
    }, {
        key: 'currentRedirectedURL',
        get: function get() {
            return this._redirectedURL || this._dataSource.redirectedURL;
        }

        // in KB/s

    }, {
        key: 'currentSpeed',
        get: function get() {
            if (this._loaderClass === _xhrRangeLoader2.default) {
                // SpeedSampler is inaccuracy if loader is RangeLoader
                return this._loader.currentSpeed;
            }
            return this._speedSampler.lastSecondKBps;
        }
    }, {
        key: 'loaderType',
        get: function get() {
            return this._loader.type;
        }
    }]);

    return IOController;
}();

exports.default = IOController;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/io/loader.js":
/*!******************************!*\
  !*** ./src/flv/io/loader.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.BaseLoader = exports.LoaderErrors = exports.LoaderStatus = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var LoaderStatus = exports.LoaderStatus = {
    kIdle: 0,
    kConnecting: 1,
    kBuffering: 2,
    kError: 3,
    kComplete: 4
};

var LoaderErrors = exports.LoaderErrors = {
    OK: 'OK',
    EXCEPTION: 'Exception',
    HTTP_STATUS_CODE_INVALID: 'HttpStatusCodeInvalid',
    CONNECTING_TIMEOUT: 'ConnectingTimeout',
    EARLY_EOF: 'EarlyEof',
    UNRECOVERABLE_EARLY_EOF: 'UnrecoverableEarlyEof'
};

/* Loader has callbacks which have following prototypes:
 *     function onContentLengthKnown(contentLength: number): void
 *     function onURLRedirect(url: string): void
 *     function onDataArrival(chunk: ArrayBuffer, byteStart: number, receivedLength: number): void
 *     function onError(errorType: number, errorInfo: {code: number, msg: string}): void
 *     function onComplete(rangeFrom: number, rangeTo: number): void
 */

var BaseLoader = exports.BaseLoader = function () {
    function BaseLoader(typeName) {
        _classCallCheck(this, BaseLoader);

        this._type = typeName || 'undefined';
        this._status = LoaderStatus.kIdle;
        this._needStash = false;
        // callbacks
        this._onContentLengthKnown = null;
        this._onURLRedirect = null;
        this._onDataArrival = null;
        this._onError = null;
        this._onComplete = null;
    }

    _createClass(BaseLoader, [{
        key: 'destroy',
        value: function destroy() {
            this._status = LoaderStatus.kIdle;
            this._onContentLengthKnown = null;
            this._onURLRedirect = null;
            this._onDataArrival = null;
            this._onError = null;
            this._onComplete = null;
        }
    }, {
        key: 'isWorking',
        value: function isWorking() {
            return this._status === LoaderStatus.kConnecting || this._status === LoaderStatus.kBuffering;
        }
    }, {
        key: 'open',


        // pure virtual
        value: function open(dataSource, range) {
            throw new _exception.NotImplementedException('Unimplemented abstract function!');
        }
    }, {
        key: 'abort',
        value: function abort() {
            throw new _exception.NotImplementedException('Unimplemented abstract function!');
        }
    }, {
        key: 'type',
        get: function get() {
            return this._type;
        }
    }, {
        key: 'status',
        get: function get() {
            return this._status;
        }
    }, {
        key: 'needStashBuffer',
        get: function get() {
            return this._needStash;
        }
    }, {
        key: 'onContentLengthKnown',
        get: function get() {
            return this._onContentLengthKnown;
        },
        set: function set(callback) {
            this._onContentLengthKnown = callback;
        }
    }, {
        key: 'onURLRedirect',
        get: function get() {
            return this._onURLRedirect;
        },
        set: function set(callback) {
            this._onURLRedirect = callback;
        }
    }, {
        key: 'onDataArrival',
        get: function get() {
            return this._onDataArrival;
        },
        set: function set(callback) {
            this._onDataArrival = callback;
        }
    }, {
        key: 'onError',
        get: function get() {
            return this._onError;
        },
        set: function set(callback) {
            this._onError = callback;
        }
    }, {
        key: 'onComplete',
        get: function get() {
            return this._onComplete;
        },
        set: function set(callback) {
            this._onComplete = callback;
        }
    }]);

    return BaseLoader;
}();

/***/ }),

/***/ "./src/flv/io/param-seek-handler.js":
/*!******************************************!*\
  !*** ./src/flv/io/param-seek-handler.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var ParamSeekHandler = function () {
    function ParamSeekHandler(paramStart, paramEnd) {
        _classCallCheck(this, ParamSeekHandler);

        this._startName = paramStart;
        this._endName = paramEnd;
    }

    _createClass(ParamSeekHandler, [{
        key: 'getConfig',
        value: function getConfig(baseUrl, range) {
            var url = baseUrl;

            if (range.from !== 0 || range.to !== -1) {
                var needAnd = true;
                if (url.indexOf('?') === -1) {
                    url += '?';
                    needAnd = false;
                }

                if (needAnd) {
                    url += '&';
                }

                url += this._startName + '=' + range.from.toString();

                if (range.to !== -1) {
                    url += '&' + this._endName + '=' + range.to.toString();
                }
            }

            return {
                url: url,
                headers: {}
            };
        }
    }, {
        key: 'removeURLParameters',
        value: function removeURLParameters(seekedURL) {
            var baseURL = seekedURL.split('?')[0];
            var params = undefined;

            var queryIndex = seekedURL.indexOf('?');
            if (queryIndex !== -1) {
                params = seekedURL.substring(queryIndex + 1);
            }

            var resultParams = '';

            if (params != undefined && params.length > 0) {
                var pairs = params.split('&');

                for (var i = 0; i < pairs.length; i++) {
                    var pair = pairs[i].split('=');
                    var requireAnd = i > 0;

                    if (pair[0] !== this._startName && pair[0] !== this._endName) {
                        if (requireAnd) {
                            resultParams += '&';
                        }
                        resultParams += pairs[i];
                    }
                }
            }

            return resultParams.length === 0 ? baseURL : baseURL + '?' + resultParams;
        }
    }]);

    return ParamSeekHandler;
}();

exports.default = ParamSeekHandler;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/io/range-seek-handler.js":
/*!******************************************!*\
  !*** ./src/flv/io/range-seek-handler.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var RangeSeekHandler = function () {
    function RangeSeekHandler(zeroStart) {
        _classCallCheck(this, RangeSeekHandler);

        this._zeroStart = zeroStart || false;
    }

    _createClass(RangeSeekHandler, [{
        key: 'getConfig',
        value: function getConfig(url, range) {
            var headers = {};

            if (range.from !== 0 || range.to !== -1) {
                var param = void 0;
                if (range.to !== -1) {
                    param = 'bytes=' + range.from.toString() + '-' + range.to.toString();
                } else {
                    param = 'bytes=' + range.from.toString() + '-';
                }
                headers['Range'] = param;
            } else if (this._zeroStart) {
                headers['Range'] = 'bytes=0-';
            }

            return {
                url: url,
                headers: headers
            };
        }
    }, {
        key: 'removeURLParameters',
        value: function removeURLParameters(seekedURL) {
            return seekedURL;
        }
    }]);

    return RangeSeekHandler;
}();

exports.default = RangeSeekHandler;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/io/speed-sampler.js":
/*!*************************************!*\
  !*** ./src/flv/io/speed-sampler.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

// Utility class to calculate realtime network I/O speed
var SpeedSampler = function () {
    function SpeedSampler() {
        _classCallCheck(this, SpeedSampler);

        // milliseconds
        this._firstCheckpoint = 0;
        this._lastCheckpoint = 0;
        this._intervalBytes = 0;
        this._totalBytes = 0;
        this._lastSecondBytes = 0;

        // compatibility detection
        if (self.performance && self.performance.now) {
            this._now = self.performance.now.bind(self.performance);
        } else {
            this._now = Date.now;
        }
    }

    _createClass(SpeedSampler, [{
        key: "reset",
        value: function reset() {
            this._firstCheckpoint = this._lastCheckpoint = 0;
            this._totalBytes = this._intervalBytes = 0;
            this._lastSecondBytes = 0;
        }
    }, {
        key: "addBytes",
        value: function addBytes(bytes) {
            if (this._firstCheckpoint === 0) {
                this._firstCheckpoint = this._now();
                this._lastCheckpoint = this._firstCheckpoint;
                this._intervalBytes += bytes;
                this._totalBytes += bytes;
            } else if (this._now() - this._lastCheckpoint < 1000) {
                this._intervalBytes += bytes;
                this._totalBytes += bytes;
            } else {
                // duration >= 1000
                this._lastSecondBytes = this._intervalBytes;
                this._intervalBytes = bytes;
                this._totalBytes += bytes;
                this._lastCheckpoint = this._now();
            }
        }
    }, {
        key: "currentKBps",
        get: function get() {
            this.addBytes(0);

            var durationSeconds = (this._now() - this._lastCheckpoint) / 1000;
            if (durationSeconds == 0) durationSeconds = 1;
            return this._intervalBytes / durationSeconds / 1024;
        }
    }, {
        key: "lastSecondKBps",
        get: function get() {
            this.addBytes(0);

            if (this._lastSecondBytes !== 0) {
                return this._lastSecondBytes / 1024;
            } else {
                // lastSecondBytes === 0
                if (this._now() - this._lastCheckpoint >= 500) {
                    // if time interval since last checkpoint has exceeded 500ms
                    // the speed is nearly accurate
                    return this.currentKBps;
                } else {
                    // We don't know
                    return 0;
                }
            }
        }
    }, {
        key: "averageKBps",
        get: function get() {
            var durationSeconds = (this._now() - this._firstCheckpoint) / 1000;
            return this._totalBytes / durationSeconds / 1024;
        }
    }]);

    return SpeedSampler;
}();

exports.default = SpeedSampler;
module.exports = exports["default"];

/***/ }),

/***/ "./src/flv/io/websocket-loader.js":
/*!****************************************!*\
  !*** ./src/flv/io/websocket-loader.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _loader = __webpack_require__(/*! ./loader.js */ "./src/flv/io/loader.js");

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

// For FLV over WebSocket live stream
var WebSocketLoader = function (_BaseLoader) {
    _inherits(WebSocketLoader, _BaseLoader);

    _createClass(WebSocketLoader, null, [{
        key: 'isSupported',
        value: function isSupported() {
            try {
                return typeof self.WebSocket !== 'undefined';
            } catch (e) {
                return false;
            }
        }
    }]);

    function WebSocketLoader() {
        _classCallCheck(this, WebSocketLoader);

        var _this = _possibleConstructorReturn(this, (WebSocketLoader.__proto__ || Object.getPrototypeOf(WebSocketLoader)).call(this, 'websocket-loader'));

        _this.TAG = 'WebSocketLoader';

        _this._needStash = true;

        _this._ws = null;
        _this._requestAbort = false;
        _this._receivedLength = 0;
        return _this;
    }

    _createClass(WebSocketLoader, [{
        key: 'destroy',
        value: function destroy() {
            if (this._ws) {
                this.abort();
            }
            _get(WebSocketLoader.prototype.__proto__ || Object.getPrototypeOf(WebSocketLoader.prototype), 'destroy', this).call(this);
        }
    }, {
        key: 'open',
        value: function open(dataSource) {
            try {
                var ws = this._ws = new self.WebSocket(dataSource.url);
                ws.binaryType = 'arraybuffer';
                ws.onopen = this._onWebSocketOpen.bind(this);
                ws.onclose = this._onWebSocketClose.bind(this);
                ws.onmessage = this._onWebSocketMessage.bind(this);
                ws.onerror = this._onWebSocketError.bind(this);

                this._status = _loader.LoaderStatus.kConnecting;
            } catch (e) {
                this._status = _loader.LoaderStatus.kError;

                var info = { code: e.code, msg: e.message };

                if (this._onError) {
                    this._onError(_loader.LoaderErrors.EXCEPTION, info);
                } else {
                    throw new _exception.RuntimeException(info.msg);
                }
            }
        }
    }, {
        key: 'abort',
        value: function abort() {
            var ws = this._ws;
            if (ws && (ws.readyState === 0 || ws.readyState === 1)) {
                // CONNECTING || OPEN
                this._requestAbort = true;
                ws.close();
            }

            this._ws = null;
            this._status = _loader.LoaderStatus.kComplete;
        }
    }, {
        key: '_onWebSocketOpen',
        value: function _onWebSocketOpen(e) {
            this._status = _loader.LoaderStatus.kBuffering;
        }
    }, {
        key: '_onWebSocketClose',
        value: function _onWebSocketClose(e) {
            if (this._requestAbort === true) {
                this._requestAbort = false;
                return;
            }

            this._status = _loader.LoaderStatus.kComplete;

            if (this._onComplete) {
                this._onComplete(0, this._receivedLength - 1);
            }
        }
    }, {
        key: '_onWebSocketMessage',
        value: function _onWebSocketMessage(e) {
            var _this2 = this;

            if (e.data instanceof ArrayBuffer) {
                this._dispatchArrayBuffer(e.data);
            } else if (e.data instanceof Blob) {
                var reader = new FileReader();
                reader.onload = function () {
                    _this2._dispatchArrayBuffer(reader.result);
                };
                reader.readAsArrayBuffer(e.data);
            } else {
                this._status = _loader.LoaderStatus.kError;
                var info = { code: -1, msg: 'Unsupported WebSocket message type: ' + e.data.constructor.name };

                if (this._onError) {
                    this._onError(_loader.LoaderErrors.EXCEPTION, info);
                } else {
                    throw new _exception.RuntimeException(info.msg);
                }
            }
        }
    }, {
        key: '_dispatchArrayBuffer',
        value: function _dispatchArrayBuffer(arraybuffer) {
            var chunk = arraybuffer;
            var byteStart = this._receivedLength;
            this._receivedLength += chunk.byteLength;

            if (this._onDataArrival) {
                this._onDataArrival(chunk, byteStart, this._receivedLength);
            }
        }
    }, {
        key: '_onWebSocketError',
        value: function _onWebSocketError(e) {
            this._status = _loader.LoaderStatus.kError;

            var info = {
                code: e.code,
                msg: e.message
            };

            if (this._onError) {
                this._onError(_loader.LoaderErrors.EXCEPTION, info);
            } else {
                throw new _exception.RuntimeException(info.msg);
            }
        }
    }]);

    return WebSocketLoader;
}(_loader.BaseLoader);

exports.default = WebSocketLoader;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/io/xhr-moz-chunked-loader.js":
/*!**********************************************!*\
  !*** ./src/flv/io/xhr-moz-chunked-loader.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _loader = __webpack_require__(/*! ./loader.js */ "./src/flv/io/loader.js");

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

// For FireFox browser which supports `xhr.responseType = 'moz-chunked-arraybuffer'`
var MozChunkedLoader = function (_BaseLoader) {
    _inherits(MozChunkedLoader, _BaseLoader);

    _createClass(MozChunkedLoader, null, [{
        key: 'isSupported',
        value: function isSupported() {
            try {
                var xhr = new XMLHttpRequest();
                // Firefox 37- requires .open() to be called before setting responseType
                xhr.open('GET', 'https://example.com', true);
                xhr.responseType = 'moz-chunked-arraybuffer';
                return xhr.responseType === 'moz-chunked-arraybuffer';
            } catch (e) {
                _logger2.default.w('MozChunkedLoader', e.message);
                return false;
            }
        }
    }]);

    function MozChunkedLoader(seekHandler, config) {
        _classCallCheck(this, MozChunkedLoader);

        var _this = _possibleConstructorReturn(this, (MozChunkedLoader.__proto__ || Object.getPrototypeOf(MozChunkedLoader)).call(this, 'xhr-moz-chunked-loader'));

        _this.TAG = 'MozChunkedLoader';

        _this._seekHandler = seekHandler;
        _this._config = config;
        _this._needStash = true;

        _this._xhr = null;
        _this._requestAbort = false;
        _this._contentLength = null;
        _this._receivedLength = 0;
        return _this;
    }

    _createClass(MozChunkedLoader, [{
        key: 'destroy',
        value: function destroy() {
            if (this.isWorking()) {
                this.abort();
            }
            if (this._xhr) {
                this._xhr.onreadystatechange = null;
                this._xhr.onprogress = null;
                this._xhr.onloadend = null;
                this._xhr.onerror = null;
                this._xhr = null;
            }
            _get(MozChunkedLoader.prototype.__proto__ || Object.getPrototypeOf(MozChunkedLoader.prototype), 'destroy', this).call(this);
        }
    }, {
        key: 'open',
        value: function open(dataSource, range) {
            this._dataSource = dataSource;
            this._range = range;

            var sourceURL = dataSource.url;
            if (this._config.reuseRedirectedURL && dataSource.redirectedURL != undefined) {
                sourceURL = dataSource.redirectedURL;
            }

            var seekConfig = this._seekHandler.getConfig(sourceURL, range);
            this._requestURL = seekConfig.url;

            var xhr = this._xhr = new XMLHttpRequest();
            xhr.open('GET', seekConfig.url, true);
            xhr.responseType = 'moz-chunked-arraybuffer';
            xhr.onreadystatechange = this._onReadyStateChange.bind(this);
            xhr.onprogress = this._onProgress.bind(this);
            xhr.onloadend = this._onLoadEnd.bind(this);
            xhr.onerror = this._onXhrError.bind(this);

            // cors is auto detected and enabled by xhr

            // withCredentials is disabled by default
            if (dataSource.withCredentials) {
                xhr.withCredentials = true;
            }

            if (_typeof(seekConfig.headers) === 'object') {
                var headers = seekConfig.headers;

                for (var key in headers) {
                    if (headers.hasOwnProperty(key)) {
                        xhr.setRequestHeader(key, headers[key]);
                    }
                }
            }

            this._status = _loader.LoaderStatus.kConnecting;
            xhr.send();
        }
    }, {
        key: 'abort',
        value: function abort() {
            this._requestAbort = true;
            if (this._xhr) {
                this._xhr.abort();
            }
            this._status = _loader.LoaderStatus.kComplete;
        }
    }, {
        key: '_onReadyStateChange',
        value: function _onReadyStateChange(e) {
            var xhr = e.target;

            if (xhr.readyState === 2) {
                // HEADERS_RECEIVED
                if (xhr.responseURL != undefined && xhr.responseURL !== this._requestURL) {
                    if (this._onURLRedirect) {
                        var redirectedURL = this._seekHandler.removeURLParameters(xhr.responseURL);
                        this._onURLRedirect(redirectedURL);
                    }
                }

                if (xhr.status !== 0 && (xhr.status < 200 || xhr.status > 299)) {
                    this._status = _loader.LoaderStatus.kError;
                    if (this._onError) {
                        this._onError(_loader.LoaderErrors.HTTP_STATUS_CODE_INVALID, { code: xhr.status, msg: xhr.statusText });
                    } else {
                        throw new _exception.RuntimeException('MozChunkedLoader: Http code invalid, ' + xhr.status + ' ' + xhr.statusText);
                    }
                } else {
                    this._status = _loader.LoaderStatus.kBuffering;
                }
            }
        }
    }, {
        key: '_onProgress',
        value: function _onProgress(e) {
            if (this._status === _loader.LoaderStatus.kError) {
                // Ignore error response
                return;
            }

            if (this._contentLength === null) {
                if (e.total !== null && e.total !== 0) {
                    this._contentLength = e.total;
                    if (this._onContentLengthKnown) {
                        this._onContentLengthKnown(this._contentLength);
                    }
                }
            }

            var chunk = e.target.response;
            var byteStart = this._range.from + this._receivedLength;
            this._receivedLength += chunk.byteLength;

            if (this._onDataArrival) {
                this._onDataArrival(chunk, byteStart, this._receivedLength);
            }
        }
    }, {
        key: '_onLoadEnd',
        value: function _onLoadEnd(e) {
            if (this._requestAbort === true) {
                this._requestAbort = false;
                return;
            } else if (this._status === _loader.LoaderStatus.kError) {
                return;
            }

            this._status = _loader.LoaderStatus.kComplete;
            if (this._onComplete) {
                this._onComplete(this._range.from, this._range.from + this._receivedLength - 1);
            }
        }
    }, {
        key: '_onXhrError',
        value: function _onXhrError(e) {
            this._status = _loader.LoaderStatus.kError;
            var type = 0;
            var info = null;

            if (this._contentLength && e.loaded < this._contentLength) {
                type = _loader.LoaderErrors.EARLY_EOF;
                info = { code: -1, msg: 'Moz-Chunked stream meet Early-Eof' };
            } else {
                type = _loader.LoaderErrors.EXCEPTION;
                info = { code: -1, msg: e.constructor.name + ' ' + e.type };
            }

            if (this._onError) {
                this._onError(type, info);
            } else {
                throw new _exception.RuntimeException(info.msg);
            }
        }
    }]);

    return MozChunkedLoader;
}(_loader.BaseLoader);

exports.default = MozChunkedLoader;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/io/xhr-msstream-loader.js":
/*!*******************************************!*\
  !*** ./src/flv/io/xhr-msstream-loader.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _loader = __webpack_require__(/*! ./loader.js */ "./src/flv/io/loader.js");

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/* Notice: ms-stream may cause IE/Edge browser crash if seek too frequently!!!
 * The browser may crash in wininet.dll. Disable for now.
 *
 * For IE11/Edge browser by microsoft which supports `xhr.responseType = 'ms-stream'`
 * Notice that ms-stream API sucks. The buffer is always expanding along with downloading.
 *
 * We need to abort the xhr if buffer size exceeded limit size (e.g. 16 MiB), then do reconnect.
 * in order to release previous ArrayBuffer to avoid memory leak
 *
 * Otherwise, the ArrayBuffer will increase to a terrible size that equals final file size.
 */
var MSStreamLoader = function (_BaseLoader) {
    _inherits(MSStreamLoader, _BaseLoader);

    _createClass(MSStreamLoader, null, [{
        key: 'isSupported',
        value: function isSupported() {
            try {
                if (typeof self.MSStream === 'undefined' || typeof self.MSStreamReader === 'undefined') {
                    return false;
                }

                var xhr = new XMLHttpRequest();
                xhr.open('GET', 'https://example.com', true);
                xhr.responseType = 'ms-stream';
                return xhr.responseType === 'ms-stream';
            } catch (e) {
                _logger2.default.w('MSStreamLoader', e.message);
                return false;
            }
        }
    }]);

    function MSStreamLoader(seekHandler, config) {
        _classCallCheck(this, MSStreamLoader);

        var _this = _possibleConstructorReturn(this, (MSStreamLoader.__proto__ || Object.getPrototypeOf(MSStreamLoader)).call(this, 'xhr-msstream-loader'));

        _this.TAG = 'MSStreamLoader';

        _this._seekHandler = seekHandler;
        _this._config = config;
        _this._needStash = true;

        _this._xhr = null;
        _this._reader = null; // MSStreamReader

        _this._totalRange = null;
        _this._currentRange = null;

        _this._currentRequestURL = null;
        _this._currentRedirectedURL = null;

        _this._contentLength = null;
        _this._receivedLength = 0;

        _this._bufferLimit = 16 * 1024 * 1024; // 16MB
        _this._lastTimeBufferSize = 0;
        _this._isReconnecting = false;
        return _this;
    }

    _createClass(MSStreamLoader, [{
        key: 'destroy',
        value: function destroy() {
            if (this.isWorking()) {
                this.abort();
            }
            if (this._reader) {
                this._reader.onprogress = null;
                this._reader.onload = null;
                this._reader.onerror = null;
                this._reader = null;
            }
            if (this._xhr) {
                this._xhr.onreadystatechange = null;
                this._xhr = null;
            }
            _get(MSStreamLoader.prototype.__proto__ || Object.getPrototypeOf(MSStreamLoader.prototype), 'destroy', this).call(this);
        }
    }, {
        key: 'open',
        value: function open(dataSource, range) {
            this._internalOpen(dataSource, range, false);
        }
    }, {
        key: '_internalOpen',
        value: function _internalOpen(dataSource, range, isSubrange) {
            this._dataSource = dataSource;

            if (!isSubrange) {
                this._totalRange = range;
            } else {
                this._currentRange = range;
            }

            var sourceURL = dataSource.url;
            if (this._config.reuseRedirectedURL) {
                if (this._currentRedirectedURL != undefined) {
                    sourceURL = this._currentRedirectedURL;
                } else if (dataSource.redirectedURL != undefined) {
                    sourceURL = dataSource.redirectedURL;
                }
            }

            var seekConfig = this._seekHandler.getConfig(sourceURL, range);
            this._currentRequestURL = seekConfig.url;

            var reader = this._reader = new self.MSStreamReader();
            reader.onprogress = this._msrOnProgress.bind(this);
            reader.onload = this._msrOnLoad.bind(this);
            reader.onerror = this._msrOnError.bind(this);

            var xhr = this._xhr = new XMLHttpRequest();
            xhr.open('GET', seekConfig.url, true);
            xhr.responseType = 'ms-stream';
            xhr.onreadystatechange = this._xhrOnReadyStateChange.bind(this);
            xhr.onerror = this._xhrOnError.bind(this);

            if (dataSource.withCredentials) {
                xhr.withCredentials = true;
            }

            if (_typeof(seekConfig.headers) === 'object') {
                var headers = seekConfig.headers;

                for (var key in headers) {
                    if (headers.hasOwnProperty(key)) {
                        xhr.setRequestHeader(key, headers[key]);
                    }
                }
            }

            if (this._isReconnecting) {
                this._isReconnecting = false;
            } else {
                this._status = _loader.LoaderStatus.kConnecting;
            }
            xhr.send();
        }
    }, {
        key: 'abort',
        value: function abort() {
            this._internalAbort();
            this._status = _loader.LoaderStatus.kComplete;
        }
    }, {
        key: '_internalAbort',
        value: function _internalAbort() {
            if (this._reader) {
                if (this._reader.readyState === 1) {
                    // LOADING
                    this._reader.abort();
                }
                this._reader.onprogress = null;
                this._reader.onload = null;
                this._reader.onerror = null;
                this._reader = null;
            }
            if (this._xhr) {
                this._xhr.abort();
                this._xhr.onreadystatechange = null;
                this._xhr = null;
            }
        }
    }, {
        key: '_xhrOnReadyStateChange',
        value: function _xhrOnReadyStateChange(e) {
            var xhr = e.target;

            if (xhr.readyState === 2) {
                // HEADERS_RECEIVED
                if (xhr.status >= 200 && xhr.status <= 299) {
                    this._status = _loader.LoaderStatus.kBuffering;

                    if (xhr.responseURL != undefined) {
                        var redirectedURL = this._seekHandler.removeURLParameters(xhr.responseURL);
                        if (xhr.responseURL !== this._currentRequestURL && redirectedURL !== this._currentRedirectedURL) {
                            this._currentRedirectedURL = redirectedURL;
                            if (this._onURLRedirect) {
                                this._onURLRedirect(redirectedURL);
                            }
                        }
                    }

                    var lengthHeader = xhr.getResponseHeader('Content-Length');
                    if (lengthHeader != null && this._contentLength == null) {
                        var length = parseInt(lengthHeader);
                        if (length > 0) {
                            this._contentLength = length;
                            if (this._onContentLengthKnown) {
                                this._onContentLengthKnown(this._contentLength);
                            }
                        }
                    }
                } else {
                    this._status = _loader.LoaderStatus.kError;
                    if (this._onError) {
                        this._onError(_loader.LoaderErrors.HTTP_STATUS_CODE_INVALID, { code: xhr.status, msg: xhr.statusText });
                    } else {
                        throw new _exception.RuntimeException('MSStreamLoader: Http code invalid, ' + xhr.status + ' ' + xhr.statusText);
                    }
                }
            } else if (xhr.readyState === 3) {
                // LOADING
                if (xhr.status >= 200 && xhr.status <= 299) {
                    this._status = _loader.LoaderStatus.kBuffering;

                    var msstream = xhr.response;
                    this._reader.readAsArrayBuffer(msstream);
                }
            }
        }
    }, {
        key: '_xhrOnError',
        value: function _xhrOnError(e) {
            this._status = _loader.LoaderStatus.kError;
            var type = _loader.LoaderErrors.EXCEPTION;
            var info = { code: -1, msg: e.constructor.name + ' ' + e.type };

            if (this._onError) {
                this._onError(type, info);
            } else {
                throw new _exception.RuntimeException(info.msg);
            }
        }
    }, {
        key: '_msrOnProgress',
        value: function _msrOnProgress(e) {
            var reader = e.target;
            var bigbuffer = reader.result;
            if (bigbuffer == null) {
                // result may be null, workaround for buggy M$
                this._doReconnectIfNeeded();
                return;
            }

            var slice = bigbuffer.slice(this._lastTimeBufferSize);
            this._lastTimeBufferSize = bigbuffer.byteLength;
            var byteStart = this._totalRange.from + this._receivedLength;
            this._receivedLength += slice.byteLength;

            if (this._onDataArrival) {
                this._onDataArrival(slice, byteStart, this._receivedLength);
            }

            if (bigbuffer.byteLength >= this._bufferLimit) {
                _logger2.default.v(this.TAG, 'MSStream buffer exceeded max size near ' + (byteStart + slice.byteLength) + ', reconnecting...');
                this._doReconnectIfNeeded();
            }
        }
    }, {
        key: '_doReconnectIfNeeded',
        value: function _doReconnectIfNeeded() {
            if (this._contentLength == null || this._receivedLength < this._contentLength) {
                this._isReconnecting = true;
                this._lastTimeBufferSize = 0;
                this._internalAbort();

                var range = {
                    from: this._totalRange.from + this._receivedLength,
                    to: -1
                };
                this._internalOpen(this._dataSource, range, true);
            }
        }
    }, {
        key: '_msrOnLoad',
        value: function _msrOnLoad(e) {
            // actually it is onComplete event
            this._status = _loader.LoaderStatus.kComplete;
            if (this._onComplete) {
                this._onComplete(this._totalRange.from, this._totalRange.from + this._receivedLength - 1);
            }
        }
    }, {
        key: '_msrOnError',
        value: function _msrOnError(e) {
            this._status = _loader.LoaderStatus.kError;
            var type = 0;
            var info = null;

            if (this._contentLength && this._receivedLength < this._contentLength) {
                type = _loader.LoaderErrors.EARLY_EOF;
                info = { code: -1, msg: 'MSStream meet Early-Eof' };
            } else {
                type = _loader.LoaderErrors.EARLY_EOF;
                info = { code: -1, msg: e.constructor.name + ' ' + e.type };
            }

            if (this._onError) {
                this._onError(type, info);
            } else {
                throw new _exception.RuntimeException(info.msg);
            }
        }
    }]);

    return MSStreamLoader;
}(_loader.BaseLoader);

exports.default = MSStreamLoader;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/io/xhr-range-loader.js":
/*!****************************************!*\
  !*** ./src/flv/io/xhr-range-loader.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _speedSampler = __webpack_require__(/*! ./speed-sampler.js */ "./src/flv/io/speed-sampler.js");

var _speedSampler2 = _interopRequireDefault(_speedSampler);

var _loader = __webpack_require__(/*! ./loader.js */ "./src/flv/io/loader.js");

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

// Universal IO Loader, implemented by adding Range header in xhr's request header
var RangeLoader = function (_BaseLoader) {
    _inherits(RangeLoader, _BaseLoader);

    _createClass(RangeLoader, null, [{
        key: 'isSupported',
        value: function isSupported() {
            try {
                var xhr = new XMLHttpRequest();
                xhr.open('GET', 'https://example.com', true);
                xhr.responseType = 'arraybuffer';
                return xhr.responseType === 'arraybuffer';
            } catch (e) {
                _logger2.default.w('RangeLoader', e.message);
                return false;
            }
        }
    }]);

    function RangeLoader(seekHandler, config) {
        _classCallCheck(this, RangeLoader);

        var _this = _possibleConstructorReturn(this, (RangeLoader.__proto__ || Object.getPrototypeOf(RangeLoader)).call(this, 'xhr-range-loader'));

        _this.TAG = 'RangeLoader';

        _this._seekHandler = seekHandler;
        _this._config = config;
        _this._needStash = false;

        _this._chunkSizeKBList = [128, 256, 384, 512, 768, 1024, 1536, 2048, 3072, 4096, 5120, 6144, 7168, 8192];
        _this._currentChunkSizeKB = 384;
        _this._currentSpeedNormalized = 0;
        _this._zeroSpeedChunkCount = 0;

        _this._xhr = null;
        _this._speedSampler = new _speedSampler2.default();

        _this._requestAbort = false;
        _this._waitForTotalLength = false;
        _this._totalLengthReceived = false;

        _this._currentRequestURL = null;
        _this._currentRedirectedURL = null;
        _this._currentRequestRange = null;
        _this._totalLength = null; // size of the entire file
        _this._contentLength = null; // Content-Length of entire request range
        _this._receivedLength = 0; // total received bytes
        _this._lastTimeLoaded = 0; // received bytes of current request sub-range
        return _this;
    }

    _createClass(RangeLoader, [{
        key: 'destroy',
        value: function destroy() {
            if (this.isWorking()) {
                this.abort();
            }
            if (this._xhr) {
                this._xhr.onreadystatechange = null;
                this._xhr.onprogress = null;
                this._xhr.onload = null;
                this._xhr.onerror = null;
                this._xhr = null;
            }
            _get(RangeLoader.prototype.__proto__ || Object.getPrototypeOf(RangeLoader.prototype), 'destroy', this).call(this);
        }
    }, {
        key: 'open',
        value: function open(dataSource, range) {
            this._dataSource = dataSource;
            this._range = range;
            this._status = _loader.LoaderStatus.kConnecting;

            var useRefTotalLength = false;
            if (this._dataSource.filesize != undefined && this._dataSource.filesize !== 0) {
                useRefTotalLength = true;
                this._totalLength = this._dataSource.filesize;
            }

            if (!this._totalLengthReceived && !useRefTotalLength) {
                // We need total filesize
                this._waitForTotalLength = true;
                this._internalOpen(this._dataSource, { from: 0, to: -1 });
            } else {
                // We have filesize, start loading
                this._openSubRange();
            }
        }
    }, {
        key: '_openSubRange',
        value: function _openSubRange() {
            var chunkSize = this._currentChunkSizeKB * 1024;

            var from = this._range.from + this._receivedLength;
            var to = from + chunkSize;

            if (this._contentLength != null) {
                if (to - this._range.from >= this._contentLength) {
                    to = this._range.from + this._contentLength - 1;
                }
            }

            this._currentRequestRange = { from: from, to: to };
            this._internalOpen(this._dataSource, this._currentRequestRange);
        }
    }, {
        key: '_internalOpen',
        value: function _internalOpen(dataSource, range) {
            this._lastTimeLoaded = 0;

            var sourceURL = dataSource.url;
            if (this._config.reuseRedirectedURL) {
                if (this._currentRedirectedURL != undefined) {
                    sourceURL = this._currentRedirectedURL;
                } else if (dataSource.redirectedURL != undefined) {
                    sourceURL = dataSource.redirectedURL;
                }
            }

            var seekConfig = this._seekHandler.getConfig(sourceURL, range);
            this._currentRequestURL = seekConfig.url;

            var xhr = this._xhr = new XMLHttpRequest();
            xhr.open('GET', seekConfig.url, true);
            xhr.responseType = 'arraybuffer';
            xhr.onreadystatechange = this._onReadyStateChange.bind(this);
            xhr.onprogress = this._onProgress.bind(this);
            xhr.onload = this._onLoad.bind(this);
            xhr.onerror = this._onXhrError.bind(this);

            if (dataSource.withCredentials) {
                xhr.withCredentials = true;
            }

            if (_typeof(seekConfig.headers) === 'object') {
                var headers = seekConfig.headers;

                for (var key in headers) {
                    if (headers.hasOwnProperty(key)) {
                        xhr.setRequestHeader(key, headers[key]);
                    }
                }
            }

            xhr.send();
        }
    }, {
        key: 'abort',
        value: function abort() {
            this._requestAbort = true;
            this._internalAbort();
            this._status = _loader.LoaderStatus.kComplete;
        }
    }, {
        key: '_internalAbort',
        value: function _internalAbort() {
            if (this._xhr) {
                this._xhr.onreadystatechange = null;
                this._xhr.onprogress = null;
                this._xhr.onload = null;
                this._xhr.onerror = null;
                this._xhr.abort();
                this._xhr = null;
            }
        }
    }, {
        key: '_onReadyStateChange',
        value: function _onReadyStateChange(e) {
            var xhr = e.target;

            if (xhr.readyState === 2) {
                // HEADERS_RECEIVED
                if (xhr.responseURL != undefined) {
                    // if the browser support this property
                    var redirectedURL = this._seekHandler.removeURLParameters(xhr.responseURL);
                    if (xhr.responseURL !== this._currentRequestURL && redirectedURL !== this._currentRedirectedURL) {
                        this._currentRedirectedURL = redirectedURL;
                        if (this._onURLRedirect) {
                            this._onURLRedirect(redirectedURL);
                        }
                    }
                }

                if (xhr.status >= 200 && xhr.status <= 299) {
                    if (this._waitForTotalLength) {
                        return;
                    }
                    this._status = _loader.LoaderStatus.kBuffering;
                } else {
                    this._status = _loader.LoaderStatus.kError;
                    if (this._onError) {
                        this._onError(_loader.LoaderErrors.HTTP_STATUS_CODE_INVALID, { code: xhr.status, msg: xhr.statusText });
                    } else {
                        throw new _exception.RuntimeException('RangeLoader: Http code invalid, ' + xhr.status + ' ' + xhr.statusText);
                    }
                }
            }
        }
    }, {
        key: '_onProgress',
        value: function _onProgress(e) {
            if (this._status === _loader.LoaderStatus.kError) {
                // Ignore error response
                return;
            }

            if (this._contentLength === null) {
                var openNextRange = false;

                if (this._waitForTotalLength) {
                    this._waitForTotalLength = false;
                    this._totalLengthReceived = true;
                    openNextRange = true;

                    var total = e.total;
                    this._internalAbort();
                    if (total != null & total !== 0) {
                        this._totalLength = total;
                    }
                }

                // calculate currrent request range's contentLength
                if (this._range.to === -1) {
                    this._contentLength = this._totalLength - this._range.from;
                } else {
                    // to !== -1
                    this._contentLength = this._range.to - this._range.from + 1;
                }

                if (openNextRange) {
                    this._openSubRange();
                    return;
                }
                if (this._onContentLengthKnown) {
                    this._onContentLengthKnown(this._contentLength);
                }
            }

            var delta = e.loaded - this._lastTimeLoaded;
            this._lastTimeLoaded = e.loaded;
            this._speedSampler.addBytes(delta);
        }
    }, {
        key: '_normalizeSpeed',
        value: function _normalizeSpeed(input) {
            var list = this._chunkSizeKBList;
            var last = list.length - 1;
            var mid = 0;
            var lbound = 0;
            var ubound = last;

            if (input < list[0]) {
                return list[0];
            }

            while (lbound <= ubound) {
                mid = lbound + Math.floor((ubound - lbound) / 2);
                if (mid === last || input >= list[mid] && input < list[mid + 1]) {
                    return list[mid];
                } else if (list[mid] < input) {
                    lbound = mid + 1;
                } else {
                    ubound = mid - 1;
                }
            }
        }
    }, {
        key: '_onLoad',
        value: function _onLoad(e) {
            if (this._status === _loader.LoaderStatus.kError) {
                // Ignore error response
                return;
            }

            if (this._waitForTotalLength) {
                this._waitForTotalLength = false;
                return;
            }

            this._lastTimeLoaded = 0;
            var KBps = this._speedSampler.lastSecondKBps;
            if (KBps === 0) {
                this._zeroSpeedChunkCount++;
                if (this._zeroSpeedChunkCount >= 3) {
                    // Try get currentKBps after 3 chunks
                    KBps = this._speedSampler.currentKBps;
                }
            }

            if (KBps !== 0) {
                var normalized = this._normalizeSpeed(KBps);
                if (this._currentSpeedNormalized !== normalized) {
                    this._currentSpeedNormalized = normalized;
                    this._currentChunkSizeKB = normalized;
                }
            }

            var chunk = e.target.response;
            var byteStart = this._range.from + this._receivedLength;
            this._receivedLength += chunk.byteLength;

            var reportComplete = false;

            if (this._contentLength != null && this._receivedLength < this._contentLength) {
                // continue load next chunk
                this._openSubRange();
            } else {
                reportComplete = true;
            }

            // dispatch received chunk
            if (this._onDataArrival) {
                this._onDataArrival(chunk, byteStart, this._receivedLength);
            }

            if (reportComplete) {
                this._status = _loader.LoaderStatus.kComplete;
                if (this._onComplete) {
                    this._onComplete(this._range.from, this._range.from + this._receivedLength - 1);
                }
            }
        }
    }, {
        key: '_onXhrError',
        value: function _onXhrError(e) {
            this._status = _loader.LoaderStatus.kError;
            var type = 0;
            var info = null;

            if (this._contentLength && this._receivedLength > 0 && this._receivedLength < this._contentLength) {
                type = _loader.LoaderErrors.EARLY_EOF;
                info = { code: -1, msg: 'RangeLoader meet Early-Eof' };
            } else {
                type = _loader.LoaderErrors.EXCEPTION;
                info = { code: -1, msg: e.constructor.name + ' ' + e.type };
            }

            if (this._onError) {
                this._onError(type, info);
            } else {
                throw new _exception.RuntimeException(info.msg);
            }
        }
    }, {
        key: 'currentSpeed',
        get: function get() {
            return this._speedSampler.lastSecondKBps;
        }
    }]);

    return RangeLoader;
}(_loader.BaseLoader);

exports.default = RangeLoader;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/player/flv-player.js":
/*!**************************************!*\
  !*** ./src/flv/player/flv-player.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _events = __webpack_require__(/*! events */ "./node_modules/events/events.js");

var _events2 = _interopRequireDefault(_events);

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _browser = __webpack_require__(/*! ../utils/browser.js */ "./src/flv/utils/browser.js");

var _browser2 = _interopRequireDefault(_browser);

var _playerEvents = __webpack_require__(/*! ./player-events.js */ "./src/flv/player/player-events.js");

var _playerEvents2 = _interopRequireDefault(_playerEvents);

var _transmuxer = __webpack_require__(/*! ../core/transmuxer.js */ "./src/flv/core/transmuxer.js");

var _transmuxer2 = _interopRequireDefault(_transmuxer);

var _transmuxingEvents = __webpack_require__(/*! ../core/transmuxing-events.js */ "./src/flv/core/transmuxing-events.js");

var _transmuxingEvents2 = _interopRequireDefault(_transmuxingEvents);

var _mseController = __webpack_require__(/*! ../core/mse-controller.js */ "./src/flv/core/mse-controller.js");

var _mseController2 = _interopRequireDefault(_mseController);

var _mseEvents = __webpack_require__(/*! ../core/mse-events.js */ "./src/flv/core/mse-events.js");

var _mseEvents2 = _interopRequireDefault(_mseEvents);

var _playerErrors = __webpack_require__(/*! ./player-errors.js */ "./src/flv/player/player-errors.js");

var _config = __webpack_require__(/*! ../config.js */ "./src/flv/config.js");

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var FlvPlayer = function () {
    function FlvPlayer(mediaDataSource, config) {
        _classCallCheck(this, FlvPlayer);

        this.TAG = 'FlvPlayer';
        this._type = 'FlvPlayer';
        this._emitter = new _events2.default();

        this._config = (0, _config.createDefaultConfig)();
        if ((typeof config === 'undefined' ? 'undefined' : _typeof(config)) === 'object') {
            Object.assign(this._config, config);
        }

        if (mediaDataSource.type.toLowerCase() !== 'flv') {
            throw new _exception.InvalidArgumentException('FlvPlayer requires an flv MediaDataSource input!');
        }

        if (mediaDataSource.isLive === true) {
            this._config.isLive = true;
        }

        this.e = {
            onvLoadedMetadata: this._onvLoadedMetadata.bind(this),
            onvSeeking: this._onvSeeking.bind(this),
            onvCanPlay: this._onvCanPlay.bind(this),
            onvStalled: this._onvStalled.bind(this),
            onvProgress: this._onvProgress.bind(this)
        };

        if (self.performance && self.performance.now) {
            this._now = self.performance.now.bind(self.performance);
        } else {
            this._now = Date.now;
        }

        this._pendingSeekTime = null; // in seconds
        this._requestSetTime = false;
        this._seekpointRecord = null;
        this._progressChecker = null;

        this._mediaDataSource = mediaDataSource;
        this._mediaElement = null;
        this._msectl = null;
        this._transmuxer = null;

        this._mseSourceOpened = false;
        this._hasPendingLoad = false;
        this._receivedCanPlay = false;

        this._mediaInfo = null;
        this._statisticsInfo = null;

        var chromeNeedIDRFix = _browser2.default.chrome && (_browser2.default.version.major < 50 || _browser2.default.version.major === 50 && _browser2.default.version.build < 2661);
        this._alwaysSeekKeyframe = chromeNeedIDRFix || _browser2.default.msedge || _browser2.default.msie ? true : false;

        if (this._alwaysSeekKeyframe) {
            this._config.accurateSeek = false;
        }
    }

    _createClass(FlvPlayer, [{
        key: 'destroy',
        value: function destroy() {
            if (this._progressChecker != null) {
                window.clearInterval(this._progressChecker);
                this._progressChecker = null;
            }
            if (this._transmuxer) {
                this.unload();
            }
            if (this._mediaElement) {
                this.detachMediaElement();
            }
            this.e = null;
            this._mediaDataSource = null;

            if (this._emitter) {
                this._emitter.removeAllListeners();
            }
            this._emitter = null;
        }
    }, {
        key: 'on',
        value: function on(event, listener) {
            var _this = this;

            if (event === _playerEvents2.default.MEDIA_INFO) {
                if (this._mediaInfo != null) {
                    Promise.resolve().then(function () {
                        _this._emitter.emit(_playerEvents2.default.MEDIA_INFO, _this.mediaInfo);
                    });
                }
            } else if (event === _playerEvents2.default.STATISTICS_INFO) {
                if (this._statisticsInfo != null) {
                    Promise.resolve().then(function () {
                        _this._emitter.emit(_playerEvents2.default.STATISTICS_INFO, _this.statisticsInfo);
                    });
                }
            }
            this._emitter.addListener(event, listener);
        }
    }, {
        key: 'off',
        value: function off(event, listener) {
            this._emitter.removeListener(event, listener);
        }
    }, {
        key: 'attachMediaElement',
        value: function attachMediaElement(mediaElement) {
            var _this2 = this;

            this._mediaElement = mediaElement;
            mediaElement.addEventListener('loadedmetadata', this.e.onvLoadedMetadata);
            mediaElement.addEventListener('seeking', this.e.onvSeeking);
            mediaElement.addEventListener('canplay', this.e.onvCanPlay);
            mediaElement.addEventListener('stalled', this.e.onvStalled);
            mediaElement.addEventListener('progress', this.e.onvProgress);

            this._msectl = new _mseController2.default(this._config);

            this._msectl.on(_mseEvents2.default.UPDATE_END, this._onmseUpdateEnd.bind(this));
            this._msectl.on(_mseEvents2.default.BUFFER_FULL, this._onmseBufferFull.bind(this));
            this._msectl.on(_mseEvents2.default.SOURCE_OPEN, function () {
                _this2._mseSourceOpened = true;
                if (_this2._hasPendingLoad) {
                    _this2._hasPendingLoad = false;
                    _this2.load();
                }
            });
            this._msectl.on(_mseEvents2.default.ERROR, function (info) {
                _this2._emitter.emit(_playerEvents2.default.ERROR, _playerErrors.ErrorTypes.MEDIA_ERROR, _playerErrors.ErrorDetails.MEDIA_MSE_ERROR, info);
            });

            this._msectl.attachMediaElement(mediaElement);

            if (this._pendingSeekTime != null) {
                try {
                    mediaElement.currentTime = this._pendingSeekTime;
                    this._pendingSeekTime = null;
                } catch (e) {
                    // IE11 may throw InvalidStateError if readyState === 0
                    // We can defer set currentTime operation after loadedmetadata
                }
            }
        }
    }, {
        key: 'detachMediaElement',
        value: function detachMediaElement() {
            if (this._mediaElement) {
                this._msectl.detachMediaElement();
                this._mediaElement.removeEventListener('loadedmetadata', this.e.onvLoadedMetadata);
                this._mediaElement.removeEventListener('seeking', this.e.onvSeeking);
                this._mediaElement.removeEventListener('canplay', this.e.onvCanPlay);
                this._mediaElement.removeEventListener('stalled', this.e.onvStalled);
                this._mediaElement.removeEventListener('progress', this.e.onvProgress);
                this._mediaElement = null;
            }
            if (this._msectl) {
                this._msectl.destroy();
                this._msectl = null;
            }
        }
    }, {
        key: 'load',
        value: function load() {
            var _this3 = this;

            if (!this._mediaElement) {
                throw new _exception.IllegalStateException('HTMLMediaElement must be attached before load()!');
            }
            if (this._transmuxer) {
                throw new _exception.IllegalStateException('FlvPlayer.load() has been called, please call unload() first!');
            }
            if (this._hasPendingLoad) {
                return;
            }

            if (this._config.deferLoadAfterSourceOpen && this._mseSourceOpened === false) {
                this._hasPendingLoad = true;
                return;
            }

            if (this._mediaElement.readyState > 0) {
                this._requestSetTime = true;
                // IE11 may throw InvalidStateError if readyState === 0
                this._mediaElement.currentTime = 0;
            }

            this._transmuxer = new _transmuxer2.default(this._mediaDataSource, this._config);

            this._transmuxer.on(_transmuxingEvents2.default.INIT_SEGMENT, function (type, is) {
                _this3._msectl.appendInitSegment(is);
            });
            this._transmuxer.on(_transmuxingEvents2.default.MEDIA_SEGMENT, function (type, ms) {
                _this3._msectl.appendMediaSegment(ms);

                // lazyLoad check
                if (_this3._config.lazyLoad && !_this3._config.isLive) {
                    var currentTime = _this3._mediaElement.currentTime;
                    if (ms.info.endDts >= (currentTime + _this3._config.lazyLoadMaxDuration) * 1000) {
                        if (_this3._progressChecker == null) {
                            _logger2.default.v(_this3.TAG, 'Maximum buffering duration exceeded, suspend transmuxing task');
                            _this3._suspendTransmuxer();
                        }
                    }
                }
            });
            this._transmuxer.on(_transmuxingEvents2.default.LOADING_COMPLETE, function () {
                _this3._msectl.endOfStream();
                _this3._emitter.emit(_playerEvents2.default.LOADING_COMPLETE);
            });
            this._transmuxer.on(_transmuxingEvents2.default.RECOVERED_EARLY_EOF, function () {
                _this3._emitter.emit(_playerEvents2.default.RECOVERED_EARLY_EOF);
            });
            this._transmuxer.on(_transmuxingEvents2.default.IO_ERROR, function (detail, info) {
                _this3._emitter.emit(_playerEvents2.default.ERROR, _playerErrors.ErrorTypes.NETWORK_ERROR, detail, info);
            });
            this._transmuxer.on(_transmuxingEvents2.default.DEMUX_ERROR, function (detail, info) {
                _this3._emitter.emit(_playerEvents2.default.ERROR, _playerErrors.ErrorTypes.MEDIA_ERROR, detail, { code: -1, msg: info });
            });
            this._transmuxer.on(_transmuxingEvents2.default.MEDIA_INFO, function (mediaInfo) {
                _this3._mediaInfo = mediaInfo;
                _this3._emitter.emit(_playerEvents2.default.MEDIA_INFO, Object.assign({}, mediaInfo));
            });
            this._transmuxer.on(_transmuxingEvents2.default.STATISTICS_INFO, function (statInfo) {
                _this3._statisticsInfo = _this3._fillStatisticsInfo(statInfo);
                _this3._emitter.emit(_playerEvents2.default.STATISTICS_INFO, Object.assign({}, _this3._statisticsInfo));
            });
            this._transmuxer.on(_transmuxingEvents2.default.RECOMMEND_SEEKPOINT, function (milliseconds) {
                if (_this3._mediaElement && !_this3._config.accurateSeek) {
                    _this3._requestSetTime = true;
                    _this3._mediaElement.currentTime = milliseconds / 1000;
                }
            });

            this._transmuxer.on(_transmuxingEvents2.default.LOADED_SEI, function (timestamp, data) {
                _this3._emitter.emit(_playerEvents2.default.LOADED_SEI, timestamp, data);
            });

            this._transmuxer.open();
        }
    }, {
        key: 'unload',
        value: function unload() {
            if (this._mediaElement) {
                this._mediaElement.pause();
            }
            if (this._msectl) {
                this._msectl.seek(0);
            }
            if (this._transmuxer) {
                this._transmuxer.close();
                this._transmuxer.destroy();
                this._transmuxer = null;
            }
        }
    }, {
        key: 'play',
        value: function play() {
            var playPromise = this._mediaElement.play();
            if (playPromise !== undefined && playPromise) {
                return playPromise.catch(function () {});
            } else return undefined;
        }
    }, {
        key: 'pause',
        value: function pause() {
            this._mediaElement.pause();
        }
    }, {
        key: '_fillStatisticsInfo',
        value: function _fillStatisticsInfo(statInfo) {
            statInfo.playerType = this._type;

            if (!(this._mediaElement instanceof HTMLVideoElement)) {
                return statInfo;
            }

            var hasQualityInfo = true;
            var decoded = 0;
            var dropped = 0;

            if (this._mediaElement.getVideoPlaybackQuality) {
                var quality = this._mediaElement.getVideoPlaybackQuality();
                decoded = quality.totalVideoFrames;
                dropped = quality.droppedVideoFrames;
            } else if (this._mediaElement.webkitDecodedFrameCount != undefined) {
                decoded = this._mediaElement.webkitDecodedFrameCount;
                dropped = this._mediaElement.webkitDroppedFrameCount;
            } else {
                hasQualityInfo = false;
            }

            if (hasQualityInfo) {
                statInfo.decodedFrames = decoded;
                statInfo.droppedFrames = dropped;
            }

            return statInfo;
        }
    }, {
        key: '_onmseUpdateEnd',
        value: function _onmseUpdateEnd() {
            if (!this._config.lazyLoad || this._config.isLive) {
                return;
            }

            var buffered = this._mediaElement.buffered;
            var currentTime = this._mediaElement.currentTime;
            var currentRangeStart = 0;
            var currentRangeEnd = 0;

            for (var i = 0; i < buffered.length; i++) {
                var start = buffered.start(i);
                var end = buffered.end(i);
                if (start <= currentTime && currentTime < end) {
                    currentRangeStart = start;
                    currentRangeEnd = end;
                    break;
                }
            }

            if (currentRangeEnd >= currentTime + this._config.lazyLoadMaxDuration && this._progressChecker == null) {
                _logger2.default.v(this.TAG, 'Maximum buffering duration exceeded, suspend transmuxing task');
                this._suspendTransmuxer();
            }
        }
    }, {
        key: '_onmseBufferFull',
        value: function _onmseBufferFull() {
            _logger2.default.v(this.TAG, 'MSE SourceBuffer is full, suspend transmuxing task');
            if (this._progressChecker == null) {
                this._suspendTransmuxer();
            }
        }
    }, {
        key: '_suspendTransmuxer',
        value: function _suspendTransmuxer() {
            if (this._transmuxer) {
                this._transmuxer.pause();

                if (this._progressChecker == null) {
                    this._progressChecker = window.setInterval(this._checkProgressAndResume.bind(this), 1000);
                }
            }
        }
    }, {
        key: '_checkProgressAndResume',
        value: function _checkProgressAndResume() {
            var currentTime = this._mediaElement.currentTime;
            var buffered = this._mediaElement.buffered;

            var needResume = false;

            for (var i = 0; i < buffered.length; i++) {
                var from = buffered.start(i);
                var to = buffered.end(i);
                if (currentTime >= from && currentTime < to) {
                    if (currentTime >= to - this._config.lazyLoadRecoverDuration) {
                        needResume = true;
                    }
                    break;
                }
            }

            if (needResume) {
                window.clearInterval(this._progressChecker);
                this._progressChecker = null;
                if (needResume) {
                    _logger2.default.v(this.TAG, 'Continue loading from paused position');
                    this._transmuxer.resume();
                }
            }
        }
    }, {
        key: '_isTimepointBuffered',
        value: function _isTimepointBuffered(seconds) {
            var buffered = this._mediaElement.buffered;

            for (var i = 0; i < buffered.length; i++) {
                var from = buffered.start(i);
                var to = buffered.end(i);
                if (seconds >= from && seconds < to) {
                    return true;
                }
            }
            return false;
        }
    }, {
        key: '_internalSeek',
        value: function _internalSeek(seconds) {
            var directSeek = this._isTimepointBuffered(seconds);

            var directSeekBegin = false;
            var directSeekBeginTime = 0;

            if (seconds < 1.0 && this._mediaElement.buffered.length > 0) {
                var videoBeginTime = this._mediaElement.buffered.start(0);
                if (videoBeginTime < 1.0 && seconds < videoBeginTime || _browser2.default.safari) {
                    directSeekBegin = true;
                    // also workaround for Safari: Seek to 0 may cause video stuck, use 0.1 to avoid
                    directSeekBeginTime = _browser2.default.safari ? 0.1 : videoBeginTime;
                }
            }

            if (directSeekBegin) {
                // seek to video begin, set currentTime directly if beginPTS buffered
                this._requestSetTime = true;
                this._mediaElement.currentTime = directSeekBeginTime;
            } else if (directSeek) {
                // buffered position
                if (!this._alwaysSeekKeyframe) {
                    this._requestSetTime = true;
                    this._mediaElement.currentTime = seconds;
                } else {
                    var idr = this._msectl.getNearestKeyframe(Math.floor(seconds * 1000));
                    this._requestSetTime = true;
                    if (idr != null) {
                        this._mediaElement.currentTime = idr.dts / 1000;
                    } else {
                        this._mediaElement.currentTime = seconds;
                    }
                }
                if (this._progressChecker != null) {
                    this._checkProgressAndResume();
                }
            } else {
                if (this._progressChecker != null) {
                    window.clearInterval(this._progressChecker);
                    this._progressChecker = null;
                }
                this._msectl.seek(seconds);
                this._transmuxer.seek(Math.floor(seconds * 1000)); // in milliseconds
                // no need to set mediaElement.currentTime if non-accurateSeek,
                // just wait for the recommend_seekpoint callback
                if (this._config.accurateSeek) {
                    this._requestSetTime = true;
                    this._mediaElement.currentTime = seconds;
                }
            }
        }
    }, {
        key: '_checkAndApplyUnbufferedSeekpoint',
        value: function _checkAndApplyUnbufferedSeekpoint() {
            if (this._seekpointRecord) {
                if (this._seekpointRecord.recordTime <= this._now() - 100) {
                    var target = this._mediaElement.currentTime;
                    this._seekpointRecord = null;
                    if (!this._isTimepointBuffered(target)) {
                        if (this._progressChecker != null) {
                            window.clearTimeout(this._progressChecker);
                            this._progressChecker = null;
                        }
                        // .currentTime is consists with .buffered timestamp
                        // Chrome/Edge use DTS, while FireFox/Safari use PTS
                        this._msectl.seek(target);
                        this._transmuxer.seek(Math.floor(target * 1000));
                        // set currentTime if accurateSeek, or wait for recommend_seekpoint callback
                        if (this._config.accurateSeek) {
                            this._requestSetTime = true;
                            this._mediaElement.currentTime = target;
                        }
                    }
                } else {
                    window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this), 50);
                }
            }
        }
    }, {
        key: '_checkAndResumeStuckPlayback',
        value: function _checkAndResumeStuckPlayback(stalled) {
            var media = this._mediaElement;
            if (stalled || !this._receivedCanPlay || media.readyState < 2) {
                // HAVE_CURRENT_DATA
                var buffered = media.buffered;
                if (buffered.length > 0 && media.currentTime < buffered.start(0)) {
                    _logger2.default.w(this.TAG, 'Playback seems stuck at ' + media.currentTime + ', seek to ' + buffered.start(0));
                    this._requestSetTime = true;
                    this._mediaElement.currentTime = buffered.start(0);
                    this._mediaElement.removeEventListener('progress', this.e.onvProgress);
                }
            } else {
                // Playback didn't stuck, remove progress event listener
                this._mediaElement.removeEventListener('progress', this.e.onvProgress);
            }
        }
    }, {
        key: '_onvLoadedMetadata',
        value: function _onvLoadedMetadata(e) {
            if (this._pendingSeekTime != null) {
                this._mediaElement.currentTime = this._pendingSeekTime;
                this._pendingSeekTime = null;
            }
        }
    }, {
        key: '_onvSeeking',
        value: function _onvSeeking(e) {
            // handle seeking request from browser's progress bar
            var target = this._mediaElement.currentTime;
            var buffered = this._mediaElement.buffered;

            if (this._requestSetTime) {
                this._requestSetTime = false;
                return;
            }

            if (target < 1.0 && buffered.length > 0) {
                // seek to video begin, set currentTime directly if beginPTS buffered
                var videoBeginTime = buffered.start(0);
                if (videoBeginTime < 1.0 && target < videoBeginTime || _browser2.default.safari) {
                    this._requestSetTime = true;
                    // also workaround for Safari: Seek to 0 may cause video stuck, use 0.1 to avoid
                    this._mediaElement.currentTime = _browser2.default.safari ? 0.1 : videoBeginTime;
                    return;
                }
            }

            if (this._isTimepointBuffered(target)) {
                if (this._alwaysSeekKeyframe) {
                    var idr = this._msectl.getNearestKeyframe(Math.floor(target * 1000));
                    if (idr != null) {
                        this._requestSetTime = true;
                        this._mediaElement.currentTime = idr.dts / 1000;
                    }
                }
                if (this._progressChecker != null) {
                    this._checkProgressAndResume();
                }
                return;
            }

            this._seekpointRecord = {
                seekPoint: target,
                recordTime: this._now()
            };
            window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this), 50);
        }
    }, {
        key: '_onvCanPlay',
        value: function _onvCanPlay(e) {
            this._receivedCanPlay = true;
            this._mediaElement.removeEventListener('canplay', this.e.onvCanPlay);
        }
    }, {
        key: '_onvStalled',
        value: function _onvStalled(e) {
            this._checkAndResumeStuckPlayback(true);
        }
    }, {
        key: '_onvProgress',
        value: function _onvProgress(e) {
            this._checkAndResumeStuckPlayback();
        }
    }, {
        key: 'type',
        get: function get() {
            return this._type;
        }
    }, {
        key: 'buffered',
        get: function get() {
            return this._mediaElement.buffered;
        }
    }, {
        key: 'duration',
        get: function get() {
            return this._mediaElement.duration;
        }
    }, {
        key: 'volume',
        get: function get() {
            return this._mediaElement.volume;
        },
        set: function set(value) {
            this._mediaElement.volume = value;
        }
    }, {
        key: 'muted',
        get: function get() {
            return this._mediaElement.muted;
        },
        set: function set(muted) {
            this._mediaElement.muted = muted;
        }
    }, {
        key: 'currentTime',
        get: function get() {
            if (this._mediaElement) {
                return this._mediaElement.currentTime;
            }
            return 0;
        },
        set: function set(seconds) {
            if (this._mediaElement) {
                this._internalSeek(seconds);
            } else {
                this._pendingSeekTime = seconds;
            }
        }
    }, {
        key: 'mediaInfo',
        get: function get() {
            return Object.assign({}, this._mediaInfo);
        }
    }, {
        key: 'statisticsInfo',
        get: function get() {
            if (this._statisticsInfo == null) {
                this._statisticsInfo = {};
            }
            this._statisticsInfo = this._fillStatisticsInfo(this._statisticsInfo);
            return Object.assign({}, this._statisticsInfo);
        }
    }]);

    return FlvPlayer;
}();

exports.default = FlvPlayer;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/player/native-player.js":
/*!*****************************************!*\
  !*** ./src/flv/player/native-player.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _events = __webpack_require__(/*! events */ "./node_modules/events/events.js");

var _events2 = _interopRequireDefault(_events);

var _playerEvents = __webpack_require__(/*! ./player-events.js */ "./src/flv/player/player-events.js");

var _playerEvents2 = _interopRequireDefault(_playerEvents);

var _config = __webpack_require__(/*! ../config.js */ "./src/flv/config.js");

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// Player wrapper for browser's native player (HTMLVideoElement) without MediaSource src.
var NativePlayer = function () {
    function NativePlayer(mediaDataSource, config) {
        _classCallCheck(this, NativePlayer);

        this.TAG = 'NativePlayer';
        this._type = 'NativePlayer';
        this._emitter = new _events2.default();

        this._config = (0, _config.createDefaultConfig)();
        if ((typeof config === 'undefined' ? 'undefined' : _typeof(config)) === 'object') {
            Object.assign(this._config, config);
        }

        if (mediaDataSource.type.toLowerCase() === 'flv') {
            throw new _exception.InvalidArgumentException('NativePlayer does\'t support flv MediaDataSource input!');
        }
        if (mediaDataSource.hasOwnProperty('segments')) {
            throw new _exception.InvalidArgumentException('NativePlayer(' + mediaDataSource.type + ') doesn\'t support multipart playback!');
        }

        this.e = {
            onvLoadedMetadata: this._onvLoadedMetadata.bind(this)
        };

        this._pendingSeekTime = null;
        this._statisticsReporter = null;

        this._mediaDataSource = mediaDataSource;
        this._mediaElement = null;
    }

    _createClass(NativePlayer, [{
        key: 'destroy',
        value: function destroy() {
            if (this._mediaElement) {
                this.unload();
                this.detachMediaElement();
            }
            this.e = null;
            this._mediaDataSource = null;
            this._emitter.removeAllListeners();
            this._emitter = null;
        }
    }, {
        key: 'on',
        value: function on(event, listener) {
            var _this = this;

            if (event === _playerEvents2.default.MEDIA_INFO) {
                if (this._mediaElement != null && this._mediaElement.readyState !== 0) {
                    // HAVE_NOTHING
                    Promise.resolve().then(function () {
                        _this._emitter.emit(_playerEvents2.default.MEDIA_INFO, _this.mediaInfo);
                    });
                }
            } else if (event === _playerEvents2.default.STATISTICS_INFO) {
                if (this._mediaElement != null && this._mediaElement.readyState !== 0) {
                    Promise.resolve().then(function () {
                        _this._emitter.emit(_playerEvents2.default.STATISTICS_INFO, _this.statisticsInfo);
                    });
                }
            }
            this._emitter.addListener(event, listener);
        }
    }, {
        key: 'off',
        value: function off(event, listener) {
            this._emitter.removeListener(event, listener);
        }
    }, {
        key: 'attachMediaElement',
        value: function attachMediaElement(mediaElement) {
            this._mediaElement = mediaElement;
            mediaElement.addEventListener('loadedmetadata', this.e.onvLoadedMetadata);

            if (this._pendingSeekTime != null) {
                try {
                    mediaElement.currentTime = this._pendingSeekTime;
                    this._pendingSeekTime = null;
                } catch (e) {
                    // IE11 may throw InvalidStateError if readyState === 0
                    // Defer set currentTime operation after loadedmetadata
                }
            }
        }
    }, {
        key: 'detachMediaElement',
        value: function detachMediaElement() {
            if (this._mediaElement) {
                this._mediaElement.src = '';
                this._mediaElement.removeAttribute('src');
                this._mediaElement.removeEventListener('loadedmetadata', this.e.onvLoadedMetadata);
                this._mediaElement = null;
            }
            if (this._statisticsReporter != null) {
                window.clearInterval(this._statisticsReporter);
                this._statisticsReporter = null;
            }
        }
    }, {
        key: 'load',
        value: function load() {
            if (!this._mediaElement) {
                throw new _exception.IllegalStateException('HTMLMediaElement must be attached before load()!');
            }
            this._mediaElement.src = this._mediaDataSource.url;

            if (this._mediaElement.readyState > 0) {
                this._mediaElement.currentTime = 0;
            }

            this._mediaElement.preload = 'auto';
            this._mediaElement.load();
            this._statisticsReporter = window.setInterval(this._reportStatisticsInfo.bind(this), this._config.statisticsInfoReportInterval);
        }
    }, {
        key: 'unload',
        value: function unload() {
            if (this._mediaElement) {
                this._mediaElement.src = '';
                this._mediaElement.removeAttribute('src');
            }
            if (this._statisticsReporter != null) {
                window.clearInterval(this._statisticsReporter);
                this._statisticsReporter = null;
            }
        }
    }, {
        key: 'play',
        value: function play() {
            var playPromise = this._mediaElement.play();
            if (playPromise !== undefined && playPromise) {
                return playPromise.catch(function () {});
            } else return undefined;
        }
    }, {
        key: 'pause',
        value: function pause() {
            this._mediaElement.pause();
        }
    }, {
        key: '_onvLoadedMetadata',
        value: function _onvLoadedMetadata(e) {
            if (this._pendingSeekTime != null) {
                this._mediaElement.currentTime = this._pendingSeekTime;
                this._pendingSeekTime = null;
            }
            this._emitter.emit(_playerEvents2.default.MEDIA_INFO, this.mediaInfo);
        }
    }, {
        key: '_reportStatisticsInfo',
        value: function _reportStatisticsInfo() {
            this._emitter.emit(_playerEvents2.default.STATISTICS_INFO, this.statisticsInfo);
        }
    }, {
        key: 'type',
        get: function get() {
            return this._type;
        }
    }, {
        key: 'buffered',
        get: function get() {
            return this._mediaElement.buffered;
        }
    }, {
        key: 'duration',
        get: function get() {
            return this._mediaElement.duration;
        }
    }, {
        key: 'volume',
        get: function get() {
            return this._mediaElement.volume;
        },
        set: function set(value) {
            this._mediaElement.volume = value;
        }
    }, {
        key: 'muted',
        get: function get() {
            return this._mediaElement.muted;
        },
        set: function set(muted) {
            this._mediaElement.muted = muted;
        }
    }, {
        key: 'currentTime',
        get: function get() {
            if (this._mediaElement) {
                return this._mediaElement.currentTime;
            }
            return 0;
        },
        set: function set(seconds) {
            if (this._mediaElement) {
                this._mediaElement.currentTime = seconds;
            } else {
                this._pendingSeekTime = seconds;
            }
        }
    }, {
        key: 'mediaInfo',
        get: function get() {
            var mediaPrefix = this._mediaElement instanceof HTMLAudioElement ? 'audio/' : 'video/';
            var info = {
                mimeType: mediaPrefix + this._mediaDataSource.type
            };
            if (this._mediaElement) {
                info.duration = Math.floor(this._mediaElement.duration * 1000);
                if (this._mediaElement instanceof HTMLVideoElement) {
                    info.width = this._mediaElement.videoWidth;
                    info.height = this._mediaElement.videoHeight;
                }
            }
            return info;
        }
    }, {
        key: 'statisticsInfo',
        get: function get() {
            var info = {
                playerType: this._type,
                url: this._mediaDataSource.url
            };

            if (!(this._mediaElement instanceof HTMLVideoElement)) {
                return info;
            }

            var hasQualityInfo = true;
            var decoded = 0;
            var dropped = 0;

            if (this._mediaElement.getVideoPlaybackQuality) {
                var quality = this._mediaElement.getVideoPlaybackQuality();
                decoded = quality.totalVideoFrames;
                dropped = quality.droppedVideoFrames;
            } else if (this._mediaElement.webkitDecodedFrameCount != undefined) {
                decoded = this._mediaElement.webkitDecodedFrameCount;
                dropped = this._mediaElement.webkitDroppedFrameCount;
            } else {
                hasQualityInfo = false;
            }

            if (hasQualityInfo) {
                info.decodedFrames = decoded;
                info.droppedFrames = dropped;
            }

            return info;
        }
    }]);

    return NativePlayer;
}();

exports.default = NativePlayer;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/player/player-errors.js":
/*!*****************************************!*\
  !*** ./src/flv/player/player-errors.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ErrorDetails = exports.ErrorTypes = undefined;

var _loader = __webpack_require__(/*! ../io/loader.js */ "./src/flv/io/loader.js");

var _demuxErrors = __webpack_require__(/*! ../demux/demux-errors.js */ "./src/flv/demux/demux-errors.js");

var _demuxErrors2 = _interopRequireDefault(_demuxErrors);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var ErrorTypes = exports.ErrorTypes = {
    NETWORK_ERROR: 'NetworkError',
    MEDIA_ERROR: 'MediaError',
    OTHER_ERROR: 'OtherError'
};

var ErrorDetails = exports.ErrorDetails = {
    NETWORK_EXCEPTION: _loader.LoaderErrors.EXCEPTION,
    NETWORK_STATUS_CODE_INVALID: _loader.LoaderErrors.HTTP_STATUS_CODE_INVALID,
    NETWORK_TIMEOUT: _loader.LoaderErrors.CONNECTING_TIMEOUT,
    NETWORK_UNRECOVERABLE_EARLY_EOF: _loader.LoaderErrors.UNRECOVERABLE_EARLY_EOF,

    MEDIA_MSE_ERROR: 'MediaMSEError',

    MEDIA_FORMAT_ERROR: _demuxErrors2.default.FORMAT_ERROR,
    MEDIA_FORMAT_UNSUPPORTED: _demuxErrors2.default.FORMAT_UNSUPPORTED,
    MEDIA_CODEC_UNSUPPORTED: _demuxErrors2.default.CODEC_UNSUPPORTED
};

/***/ }),

/***/ "./src/flv/player/player-events.js":
/*!*****************************************!*\
  !*** ./src/flv/player/player-events.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var PlayerEvents = {
  ERROR: 'error',
  LOADING_COMPLETE: 'loading_complete',
  RECOVERED_EARLY_EOF: 'recovered_early_eof',
  MEDIA_INFO: 'media_info',
  STATISTICS_INFO: 'statistics_info',
  LOADED_SEI: 'loaded_sei'
};

exports.default = PlayerEvents;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/remux/aac-silent.js":
/*!*************************************!*\
  !*** ./src/flv/remux/aac-silent.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * This file is modified from dailymotion's hls.js library (hls.js/src/helper/aac.js)
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var AAC = function () {
    function AAC() {
        _classCallCheck(this, AAC);
    }

    _createClass(AAC, null, [{
        key: 'getSilentFrame',
        value: function getSilentFrame(codec, channelCount) {
            if (codec === 'mp4a.40.2') {
                // handle LC-AAC
                if (channelCount === 1) {
                    return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x23, 0x80]);
                } else if (channelCount === 2) {
                    return new Uint8Array([0x21, 0x00, 0x49, 0x90, 0x02, 0x19, 0x00, 0x23, 0x80]);
                } else if (channelCount === 3) {
                    return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x8e]);
                } else if (channelCount === 4) {
                    return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x80, 0x2c, 0x80, 0x08, 0x02, 0x38]);
                } else if (channelCount === 5) {
                    return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x82, 0x30, 0x04, 0x99, 0x00, 0x21, 0x90, 0x02, 0x38]);
                } else if (channelCount === 6) {
                    return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x82, 0x30, 0x04, 0x99, 0x00, 0x21, 0x90, 0x02, 0x00, 0xb2, 0x00, 0x20, 0x08, 0xe0]);
                }
            } else {
                // handle HE-AAC (mp4a.40.5 / mp4a.40.29)
                if (channelCount === 1) {
                    // ffmpeg -y -f lavfi -i "aevalsrc=0:d=0.05" -c:a libfdk_aac -profile:a aac_he -b:a 4k output.aac && hexdump -v -e '16/1 "0x%x," "\n"' -v output.aac
                    return new Uint8Array([0x1, 0x40, 0x22, 0x80, 0xa3, 0x4e, 0xe6, 0x80, 0xba, 0x8, 0x0, 0x0, 0x0, 0x1c, 0x6, 0xf1, 0xc1, 0xa, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5e]);
                } else if (channelCount === 2) {
                    // ffmpeg -y -f lavfi -i "aevalsrc=0|0:d=0.05" -c:a libfdk_aac -profile:a aac_he_v2 -b:a 4k output.aac && hexdump -v -e '16/1 "0x%x," "\n"' -v output.aac
                    return new Uint8Array([0x1, 0x40, 0x22, 0x80, 0xa3, 0x5e, 0xe6, 0x80, 0xba, 0x8, 0x0, 0x0, 0x0, 0x0, 0x95, 0x0, 0x6, 0xf1, 0xa1, 0xa, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5e]);
                } else if (channelCount === 3) {
                    // ffmpeg -y -f lavfi -i "aevalsrc=0|0|0:d=0.05" -c:a libfdk_aac -profile:a aac_he_v2 -b:a 4k output.aac && hexdump -v -e '16/1 "0x%x," "\n"' -v output.aac
                    return new Uint8Array([0x1, 0x40, 0x22, 0x80, 0xa3, 0x5e, 0xe6, 0x80, 0xba, 0x8, 0x0, 0x0, 0x0, 0x0, 0x95, 0x0, 0x6, 0xf1, 0xa1, 0xa, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5e]);
                }
            }
            return null;
        }
    }]);

    return AAC;
}();

exports.default = AAC;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/remux/mp4-generator.js":
/*!****************************************!*\
  !*** ./src/flv/remux/mp4-generator.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * This file is derived from dailymotion's hls.js library (hls.js/src/remux/mp4-generator.js)
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

//  MP4 boxes generator for ISO BMFF (ISO Base Media File Format, defined in ISO/IEC 14496-12)
var MP4 = function () {
  function MP4() {
    _classCallCheck(this, MP4);
  }

  _createClass(MP4, null, [{
    key: 'init',
    value: function init() {
      MP4.types = {
        avc1: [],
        avcC: [],
        btrt: [],
        dinf: [],
        dref: [],
        esds: [],
        ftyp: [],
        hdlr: [],
        mdat: [],
        mdhd: [],
        mdia: [],
        mfhd: [],
        minf: [],
        moof: [],
        moov: [],
        mp4a: [],
        mvex: [],
        mvhd: [],
        sdtp: [],
        stbl: [],
        stco: [],
        stsc: [],
        stsd: [],
        stsz: [],
        stts: [],
        tfdt: [],
        tfhd: [],
        traf: [],
        trak: [],
        trun: [],
        trex: [],
        tkhd: [],
        vmhd: [],
        smhd: [],
        '.mp3': []
      };

      for (var name in MP4.types) {
        if (MP4.types.hasOwnProperty(name)) {
          MP4.types[name] = [name.charCodeAt(0), name.charCodeAt(1), name.charCodeAt(2), name.charCodeAt(3)];
        }
      }

      var constants = MP4.constants = {};

      constants.FTYP = new Uint8Array([0x69, 0x73, 0x6F, 0x6D, // major_brand: isom
      0x0, 0x0, 0x0, 0x1, // minor_version: 0x01
      0x69, 0x73, 0x6F, 0x6D, // isom
      0x61, 0x76, 0x63, 0x31 // avc1
      ]);

      constants.STSD_PREFIX = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags
      0x00, 0x00, 0x00, 0x01 // entry_count
      ]);

      constants.STTS = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags
      0x00, 0x00, 0x00, 0x00 // entry_count
      ]);

      constants.STSC = constants.STCO = constants.STTS;

      constants.STSZ = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags
      0x00, 0x00, 0x00, 0x00, // sample_size
      0x00, 0x00, 0x00, 0x00 // sample_count
      ]);

      constants.HDLR_VIDEO = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags
      0x00, 0x00, 0x00, 0x00, // pre_defined
      0x76, 0x69, 0x64, 0x65, // handler_type: 'vide'
      0x00, 0x00, 0x00, 0x00, // reserved: 3 * 4 bytes
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x56, 0x69, 0x64, 0x65, 0x6F, 0x48, 0x61, 0x6E, 0x64, 0x6C, 0x65, 0x72, 0x00 // name: VideoHandler
      ]);

      constants.HDLR_AUDIO = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags
      0x00, 0x00, 0x00, 0x00, // pre_defined
      0x73, 0x6F, 0x75, 0x6E, // handler_type: 'soun'
      0x00, 0x00, 0x00, 0x00, // reserved: 3 * 4 bytes
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x53, 0x6F, 0x75, 0x6E, 0x64, 0x48, 0x61, 0x6E, 0x64, 0x6C, 0x65, 0x72, 0x00 // name: SoundHandler
      ]);

      constants.DREF = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags
      0x00, 0x00, 0x00, 0x01, // entry_count
      0x00, 0x00, 0x00, 0x0C, // entry_size
      0x75, 0x72, 0x6C, 0x20, // type 'url '
      0x00, 0x00, 0x00, 0x01 // version(0) + flags
      ]);

      // Sound media header
      constants.SMHD = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags
      0x00, 0x00, 0x00, 0x00 // balance(2) + reserved(2)
      ]);

      // video media header
      constants.VMHD = new Uint8Array([0x00, 0x00, 0x00, 0x01, // version(0) + flags
      0x00, 0x00, // graphicsmode: 2 bytes
      0x00, 0x00, 0x00, 0x00, // opcolor: 3 * 2 bytes
      0x00, 0x00]);
    }

    // Generate a box

  }, {
    key: 'box',
    value: function box(type) {
      var size = 8;
      var result = null;
      var datas = Array.prototype.slice.call(arguments, 1);
      var arrayCount = datas.length;

      for (var i = 0; i < arrayCount; i++) {
        size += datas[i].byteLength;
      }

      result = new Uint8Array(size);
      result[0] = size >>> 24 & 0xFF; // size
      result[1] = size >>> 16 & 0xFF;
      result[2] = size >>> 8 & 0xFF;
      result[3] = size & 0xFF;

      result.set(type, 4); // type

      var offset = 8;
      for (var _i = 0; _i < arrayCount; _i++) {
        // data body
        result.set(datas[_i], offset);
        offset += datas[_i].byteLength;
      }

      return result;
    }

    // emit ftyp & moov

  }, {
    key: 'generateInitSegment',
    value: function generateInitSegment(meta) {
      var ftyp = MP4.box(MP4.types.ftyp, MP4.constants.FTYP);
      var moov = MP4.moov(meta);

      var result = new Uint8Array(ftyp.byteLength + moov.byteLength);
      result.set(ftyp, 0);
      result.set(moov, ftyp.byteLength);
      return result;
    }

    // Movie metadata box

  }, {
    key: 'moov',
    value: function moov(meta) {
      var mvhd = MP4.mvhd(meta.timescale, meta.duration);
      var trak = MP4.trak(meta);
      var mvex = MP4.mvex(meta);
      return MP4.box(MP4.types.moov, mvhd, trak, mvex);
    }

    // Movie header box

  }, {
    key: 'mvhd',
    value: function mvhd(timescale, duration) {
      return MP4.box(MP4.types.mvhd, new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags
      0x00, 0x00, 0x00, 0x00, // creation_time
      0x00, 0x00, 0x00, 0x00, // modification_time
      timescale >>> 24 & 0xFF, // timescale: 4 bytes
      timescale >>> 16 & 0xFF, timescale >>> 8 & 0xFF, timescale & 0xFF, duration >>> 24 & 0xFF, // duration: 4 bytes
      duration >>> 16 & 0xFF, duration >>> 8 & 0xFF, duration & 0xFF, 0x00, 0x01, 0x00, 0x00, // Preferred rate: 1.0
      0x01, 0x00, 0x00, 0x00, // PreferredVolume(1.0, 2bytes) + reserved(2bytes)
      0x00, 0x00, 0x00, 0x00, // reserved: 4 + 4 bytes
      0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, // ----begin composition matrix----
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, // ----end composition matrix----
      0x00, 0x00, 0x00, 0x00, // ----begin pre_defined 6 * 4 bytes----
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // ----end pre_defined 6 * 4 bytes----
      0xFF, 0xFF, 0xFF, 0xFF // next_track_ID
      ]));
    }

    // Track box

  }, {
    key: 'trak',
    value: function trak(meta) {
      return MP4.box(MP4.types.trak, MP4.tkhd(meta), MP4.mdia(meta));
    }

    // Track header box

  }, {
    key: 'tkhd',
    value: function tkhd(meta) {
      var trackId = meta.id,
          duration = meta.duration;
      var width = meta.presentWidth,
          height = meta.presentHeight;

      return MP4.box(MP4.types.tkhd, new Uint8Array([0x00, 0x00, 0x00, 0x07, // version(0) + flags
      0x00, 0x00, 0x00, 0x00, // creation_time
      0x00, 0x00, 0x00, 0x00, // modification_time
      trackId >>> 24 & 0xFF, // track_ID: 4 bytes
      trackId >>> 16 & 0xFF, trackId >>> 8 & 0xFF, trackId & 0xFF, 0x00, 0x00, 0x00, 0x00, // reserved: 4 bytes
      duration >>> 24 & 0xFF, // duration: 4 bytes
      duration >>> 16 & 0xFF, duration >>> 8 & 0xFF, duration & 0xFF, 0x00, 0x00, 0x00, 0x00, // reserved: 2 * 4 bytes
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // layer(2bytes) + alternate_group(2bytes)
      0x00, 0x00, 0x00, 0x00, // volume(2bytes) + reserved(2bytes)
      0x00, 0x01, 0x00, 0x00, // ----begin composition matrix----
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, // ----end composition matrix----
      width >>> 8 & 0xFF, // width and height
      width & 0xFF, 0x00, 0x00, height >>> 8 & 0xFF, height & 0xFF, 0x00, 0x00]));
    }

    // Media Box

  }, {
    key: 'mdia',
    value: function mdia(meta) {
      return MP4.box(MP4.types.mdia, MP4.mdhd(meta), MP4.hdlr(meta), MP4.minf(meta));
    }

    // Media header box

  }, {
    key: 'mdhd',
    value: function mdhd(meta) {
      var timescale = meta.timescale;
      var duration = meta.duration;
      return MP4.box(MP4.types.mdhd, new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags
      0x00, 0x00, 0x00, 0x00, // creation_time
      0x00, 0x00, 0x00, 0x00, // modification_time
      timescale >>> 24 & 0xFF, // timescale: 4 bytes
      timescale >>> 16 & 0xFF, timescale >>> 8 & 0xFF, timescale & 0xFF, duration >>> 24 & 0xFF, // duration: 4 bytes
      duration >>> 16 & 0xFF, duration >>> 8 & 0xFF, duration & 0xFF, 0x55, 0xC4, // language: und (undetermined)
      0x00, 0x00 // pre_defined = 0
      ]));
    }

    // Media handler reference box

  }, {
    key: 'hdlr',
    value: function hdlr(meta) {
      var data = null;
      if (meta.type === 'audio') {
        data = MP4.constants.HDLR_AUDIO;
      } else {
        data = MP4.constants.HDLR_VIDEO;
      }
      return MP4.box(MP4.types.hdlr, data);
    }

    // Media infomation box

  }, {
    key: 'minf',
    value: function minf(meta) {
      var xmhd = null;
      if (meta.type === 'audio') {
        xmhd = MP4.box(MP4.types.smhd, MP4.constants.SMHD);
      } else {
        xmhd = MP4.box(MP4.types.vmhd, MP4.constants.VMHD);
      }
      return MP4.box(MP4.types.minf, xmhd, MP4.dinf(), MP4.stbl(meta));
    }

    // Data infomation box

  }, {
    key: 'dinf',
    value: function dinf() {
      var result = MP4.box(MP4.types.dinf, MP4.box(MP4.types.dref, MP4.constants.DREF));
      return result;
    }

    // Sample table box

  }, {
    key: 'stbl',
    value: function stbl(meta) {
      var result = MP4.box(MP4.types.stbl, // type: stbl
      MP4.stsd(meta), // Sample Description Table
      MP4.box(MP4.types.stts, MP4.constants.STTS), // Time-To-Sample
      MP4.box(MP4.types.stsc, MP4.constants.STSC), // Sample-To-Chunk
      MP4.box(MP4.types.stsz, MP4.constants.STSZ), // Sample size
      MP4.box(MP4.types.stco, MP4.constants.STCO) // Chunk offset
      );
      return result;
    }

    // Sample description box

  }, {
    key: 'stsd',
    value: function stsd(meta) {
      if (meta.type === 'audio') {
        if (meta.codec === 'mp3') {
          return MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.mp3(meta));
        }
        // else: aac -> mp4a
        return MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.mp4a(meta));
      } else {
        return MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.avc1(meta));
      }
    }
  }, {
    key: 'mp3',
    value: function mp3(meta) {
      var channelCount = meta.channelCount;
      var sampleRate = meta.audioSampleRate;

      var data = new Uint8Array([0x00, 0x00, 0x00, 0x00, // reserved(4)
      0x00, 0x00, 0x00, 0x01, // reserved(2) + data_reference_index(2)
      0x00, 0x00, 0x00, 0x00, // reserved: 2 * 4 bytes
      0x00, 0x00, 0x00, 0x00, 0x00, channelCount, // channelCount(2)
      0x00, 0x10, // sampleSize(2)
      0x00, 0x00, 0x00, 0x00, // reserved(4)
      sampleRate >>> 8 & 0xFF, // Audio sample rate
      sampleRate & 0xFF, 0x00, 0x00]);

      return MP4.box(MP4.types['.mp3'], data);
    }
  }, {
    key: 'mp4a',
    value: function mp4a(meta) {
      var channelCount = meta.channelCount;
      var sampleRate = meta.audioSampleRate;

      var data = new Uint8Array([0x00, 0x00, 0x00, 0x00, // reserved(4)
      0x00, 0x00, 0x00, 0x01, // reserved(2) + data_reference_index(2)
      0x00, 0x00, 0x00, 0x00, // reserved: 2 * 4 bytes
      0x00, 0x00, 0x00, 0x00, 0x00, channelCount, // channelCount(2)
      0x00, 0x10, // sampleSize(2)
      0x00, 0x00, 0x00, 0x00, // reserved(4)
      sampleRate >>> 8 & 0xFF, // Audio sample rate
      sampleRate & 0xFF, 0x00, 0x00]);

      return MP4.box(MP4.types.mp4a, data, MP4.esds(meta));
    }
  }, {
    key: 'esds',
    value: function esds(meta) {
      var config = meta.config || [];
      var configSize = config.length;
      var data = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version 0 + flags

      0x03, // descriptor_type
      0x17 + configSize, // length3
      0x00, 0x01, // es_id
      0x00, // stream_priority

      0x04, // descriptor_type
      0x0F + configSize, // length
      0x40, // codec: mpeg4_audio
      0x15, // stream_type: Audio
      0x00, 0x00, 0x00, // buffer_size
      0x00, 0x00, 0x00, 0x00, // maxBitrate
      0x00, 0x00, 0x00, 0x00, // avgBitrate

      0x05 // descriptor_type
      ].concat([configSize]).concat(config).concat([0x06, 0x01, 0x02 // GASpecificConfig
      ]));
      return MP4.box(MP4.types.esds, data);
    }
  }, {
    key: 'avc1',
    value: function avc1(meta) {
      var avcc = meta.avcc;
      var width = meta.codecWidth,
          height = meta.codecHeight;

      var data = new Uint8Array([0x00, 0x00, 0x00, 0x00, // reserved(4)
      0x00, 0x00, 0x00, 0x01, // reserved(2) + data_reference_index(2)
      0x00, 0x00, 0x00, 0x00, // pre_defined(2) + reserved(2)
      0x00, 0x00, 0x00, 0x00, // pre_defined: 3 * 4 bytes
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, width >>> 8 & 0xFF, // width: 2 bytes
      width & 0xFF, height >>> 8 & 0xFF, // height: 2 bytes
      height & 0xFF, 0x00, 0x48, 0x00, 0x00, // horizresolution: 4 bytes
      0x00, 0x48, 0x00, 0x00, // vertresolution: 4 bytes
      0x00, 0x00, 0x00, 0x00, // reserved: 4 bytes
      0x00, 0x01, // frame_count
      0x0A, // strlen
      0x78, 0x71, 0x71, 0x2F, // compressorname: 32 bytes
      0x66, 0x6C, 0x76, 0x2E, 0x6A, 0x73, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, // depth
      0xFF, 0xFF // pre_defined = -1
      ]);
      return MP4.box(MP4.types.avc1, data, MP4.box(MP4.types.avcC, avcc));
    }

    // Movie Extends box

  }, {
    key: 'mvex',
    value: function mvex(meta) {
      return MP4.box(MP4.types.mvex, MP4.trex(meta));
    }

    // Track Extends box

  }, {
    key: 'trex',
    value: function trex(meta) {
      var trackId = meta.id;
      var data = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags
      trackId >>> 24 & 0xFF, // track_ID
      trackId >>> 16 & 0xFF, trackId >>> 8 & 0xFF, trackId & 0xFF, 0x00, 0x00, 0x00, 0x01, // default_sample_description_index
      0x00, 0x00, 0x00, 0x00, // default_sample_duration
      0x00, 0x00, 0x00, 0x00, // default_sample_size
      0x00, 0x01, 0x00, 0x01 // default_sample_flags
      ]);
      return MP4.box(MP4.types.trex, data);
    }

    // Movie fragment box

  }, {
    key: 'moof',
    value: function moof(track, baseMediaDecodeTime) {
      return MP4.box(MP4.types.moof, MP4.mfhd(track.sequenceNumber), MP4.traf(track, baseMediaDecodeTime));
    }
  }, {
    key: 'mfhd',
    value: function mfhd(sequenceNumber) {
      var data = new Uint8Array([0x00, 0x00, 0x00, 0x00, sequenceNumber >>> 24 & 0xFF, // sequence_number: int32
      sequenceNumber >>> 16 & 0xFF, sequenceNumber >>> 8 & 0xFF, sequenceNumber & 0xFF]);
      return MP4.box(MP4.types.mfhd, data);
    }

    // Track fragment box

  }, {
    key: 'traf',
    value: function traf(track, baseMediaDecodeTime) {
      var trackId = track.id;

      // Track fragment header box
      var tfhd = MP4.box(MP4.types.tfhd, new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) & flags
      trackId >>> 24 & 0xFF, // track_ID
      trackId >>> 16 & 0xFF, trackId >>> 8 & 0xFF, trackId & 0xFF]));
      // Track Fragment Decode Time
      var tfdt = MP4.box(MP4.types.tfdt, new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) & flags
      baseMediaDecodeTime >>> 24 & 0xFF, // baseMediaDecodeTime: int32
      baseMediaDecodeTime >>> 16 & 0xFF, baseMediaDecodeTime >>> 8 & 0xFF, baseMediaDecodeTime & 0xFF]));
      var sdtp = MP4.sdtp(track);
      var trun = MP4.trun(track, sdtp.byteLength + 16 + 16 + 8 + 16 + 8 + 8);
      if (trackId === 1) {
        // console.log(trun)
      }
      return MP4.box(MP4.types.traf, tfhd, tfdt, trun, sdtp);
    }

    // Sample Dependency Type box

  }, {
    key: 'sdtp',
    value: function sdtp(track) {
      var samples = track.samples || [];
      var sampleCount = samples.length;
      var data = new Uint8Array(4 + sampleCount);
      // 0~4 bytes: version(0) & flags
      for (var i = 0; i < sampleCount; i++) {
        var flags = samples[i].flags;
        data[i + 4] = flags.isLeading << 6 | // is_leading: 2 (bit)
        flags.dependsOn << 4 | // sample_depends_on
        flags.isDependedOn << 2 | // sample_is_depended_on
        flags.hasRedundancy; // sample_has_redundancy
      }
      return MP4.box(MP4.types.sdtp, data);
    }

    // Track fragment run box

  }, {
    key: 'trun',
    value: function trun(track, offset) {
      var samples = track.samples || [];
      var sampleCount = samples.length;
      var dataSize = 12 + 16 * sampleCount;
      var data = new Uint8Array(dataSize);
      offset += 8 + dataSize;

      data.set([0x00, 0x00, 0x0F, 0x01, // version(0) & flags
      sampleCount >>> 24 & 0xFF, // sample_count
      sampleCount >>> 16 & 0xFF, sampleCount >>> 8 & 0xFF, sampleCount & 0xFF, offset >>> 24 & 0xFF, // data_offset
      offset >>> 16 & 0xFF, offset >>> 8 & 0xFF, offset & 0xFF], 0);

      for (var i = 0; i < sampleCount; i++) {
        // console.log(samples[i].duration)
        var duration = samples[i].duration;
        var size = samples[i].size;
        var flags = samples[i].flags;
        var cts = samples[i].cts;
        data.set([duration >>> 24 & 0xFF, // sample_duration
        duration >>> 16 & 0xFF, duration >>> 8 & 0xFF, duration & 0xFF, size >>> 24 & 0xFF, // sample_size
        size >>> 16 & 0xFF, size >>> 8 & 0xFF, size & 0xFF, flags.isLeading << 2 | flags.dependsOn, // sample_flags
        flags.isDependedOn << 6 | flags.hasRedundancy << 4 | flags.isNonSync, 0x00, 0x00, // sample_degradation_priority
        cts >>> 24 & 0xFF, // sample_composition_time_offset
        cts >>> 16 & 0xFF, cts >>> 8 & 0xFF, cts & 0xFF], 12 + 16 * i);
      }
      return MP4.box(MP4.types.trun, data);
    }
  }, {
    key: 'mdat',
    value: function mdat(data) {
      return MP4.box(MP4.types.mdat, data);
    }
  }]);

  return MP4;
}();

MP4.init();

exports.default = MP4;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/remux/mp4-remuxer.js":
/*!**************************************!*\
  !*** ./src/flv/remux/mp4-remuxer.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _mp4Generator = __webpack_require__(/*! ./mp4-generator.js */ "./src/flv/remux/mp4-generator.js");

var _mp4Generator2 = _interopRequireDefault(_mp4Generator);

var _aacSilent = __webpack_require__(/*! ./aac-silent.js */ "./src/flv/remux/aac-silent.js");

var _aacSilent2 = _interopRequireDefault(_aacSilent);

var _browser = __webpack_require__(/*! ../utils/browser.js */ "./src/flv/utils/browser.js");

var _browser2 = _interopRequireDefault(_browser);

var _mediaSegmentInfo = __webpack_require__(/*! ../core/media-segment-info.js */ "./src/flv/core/media-segment-info.js");

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// Fragmented mp4 remuxer
var MP4Remuxer = function () {
    function MP4Remuxer(config) {
        _classCallCheck(this, MP4Remuxer);

        this.TAG = 'MP4Remuxer';

        this._config = config;
        this._isLive = config.isLive === true ? true : false;

        this._dtsBase = -1;
        this._dtsBaseInited = false;
        this._audioDtsBase = Infinity;
        this._videoDtsBase = Infinity;
        this._audioNextDts = undefined;
        this._videoNextDts = undefined;
        this._audioStashedLastSample = null;
        this._videoStashedLastSample = null;

        this._audioMeta = null;
        this._videoMeta = null;

        this._audioSegmentInfoList = new _mediaSegmentInfo.MediaSegmentInfoList('audio');
        this._videoSegmentInfoList = new _mediaSegmentInfo.MediaSegmentInfoList('video');

        this._onInitSegment = null;
        this._onMediaSegment = null;

        // Workaround for chrome < 50: Always force first sample as a Random Access Point in media segment
        // see https://bugs.chromium.org/p/chromium/issues/detail?id=229412
        this._forceFirstIDR = _browser2.default.chrome && (_browser2.default.version.major < 50 || _browser2.default.version.major === 50 && _browser2.default.version.build < 2661) ? true : false;

        // Workaround for IE11/Edge: Fill silent aac frame after keyframe-seeking
        // Make audio beginDts equals with video beginDts, in order to fix seek freeze
        this._fillSilentAfterSeek = _browser2.default.msedge || _browser2.default.msie;

        // While only FireFox supports 'audio/mp4, codecs="mp3"', use 'audio/mpeg' for chrome, safari, ...
        this._mp3UseMpegAudio = !_browser2.default.firefox;

        this._fillAudioTimestampGap = this._config.fixAudioTimestampGap;
    }

    _createClass(MP4Remuxer, [{
        key: 'destroy',
        value: function destroy() {
            this._dtsBase = -1;
            this._dtsBaseInited = false;
            this._audioMeta = null;
            this._videoMeta = null;
            this._audioSegmentInfoList.clear();
            this._audioSegmentInfoList = null;
            this._videoSegmentInfoList.clear();
            this._videoSegmentInfoList = null;
            this._onInitSegment = null;
            this._onMediaSegment = null;
        }
    }, {
        key: 'bindDataSource',
        value: function bindDataSource(producer) {
            producer.onDataAvailable = this.remux.bind(this);
            producer.onTrackMetadata = this._onTrackMetadataReceived.bind(this);
            return this;
        }

        /* prototype: function onInitSegment(type: string, initSegment: ArrayBuffer): void
           InitSegment: {
               type: string,
               data: ArrayBuffer,
               codec: string,
               container: string
           }
        */

    }, {
        key: 'insertDiscontinuity',
        value: function insertDiscontinuity() {
            this._audioNextDts = this._videoNextDts = undefined;
        }
    }, {
        key: 'seek',
        value: function seek(originalDts) {
            this._audioStashedLastSample = null;
            this._videoStashedLastSample = null;
            this._videoSegmentInfoList.clear();
            this._audioSegmentInfoList.clear();
        }
    }, {
        key: 'remux',
        value: function remux(audioTrack, videoTrack) {
            if (!this._onMediaSegment) {
                throw new _exception.IllegalStateException('MP4Remuxer: onMediaSegment callback must be specificed!');
            }
            if (!this._dtsBaseInited) {
                this._calculateDtsBase(audioTrack, videoTrack);
            }
            this._remuxVideo(videoTrack);
            this._remuxAudio(audioTrack);
        }
    }, {
        key: '_onTrackMetadataReceived',
        value: function _onTrackMetadataReceived(type, metadata) {
            var metabox = null;

            var container = 'mp4';
            var codec = metadata.codec;

            if (type === 'audio') {
                this._audioMeta = metadata;
                if (metadata.codec === 'mp3' && this._mp3UseMpegAudio) {
                    // 'audio/mpeg' for MP3 audio track
                    container = 'mpeg';
                    codec = '';
                    metabox = new Uint8Array();
                } else {
                    // 'audio/mp4, codecs="codec"'
                    metabox = _mp4Generator2.default.generateInitSegment(metadata);
                }
            } else if (type === 'video') {
                this._videoMeta = metadata;
                metabox = _mp4Generator2.default.generateInitSegment(metadata);
            } else {
                return;
            }

            // dispatch metabox (Initialization Segment)
            if (!this._onInitSegment) {
                throw new _exception.IllegalStateException('MP4Remuxer: onInitSegment callback must be specified!');
            }
            this._onInitSegment(type, {
                type: type,
                data: metabox.buffer,
                codec: codec,
                container: type + '/' + container,
                mediaDuration: metadata.duration // in timescale 1000 (milliseconds)
            });
        }
    }, {
        key: '_calculateDtsBase',
        value: function _calculateDtsBase(audioTrack, videoTrack) {
            if (this._dtsBaseInited) {
                return;
            }

            if (audioTrack.samples && audioTrack.samples.length) {
                this._audioDtsBase = audioTrack.samples[0].dts;
            }
            if (videoTrack.samples && videoTrack.samples.length) {
                this._videoDtsBase = videoTrack.samples[0].dts;
            }

            this._dtsBase = Math.min(this._audioDtsBase, this._videoDtsBase);
            this._dtsBaseInited = true;
        }
    }, {
        key: 'flushStashedSamples',
        value: function flushStashedSamples() {
            var videoSample = this._videoStashedLastSample;
            var audioSample = this._audioStashedLastSample;

            var videoTrack = {
                type: 'video',
                id: 1,
                sequenceNumber: 0,
                samples: [],
                length: 0
            };

            if (videoSample != null) {
                videoTrack.samples.push(videoSample);
                videoTrack.length = videoSample.length;
            }

            var audioTrack = {
                type: 'audio',
                id: 2,
                sequenceNumber: 0,
                samples: [],
                length: 0
            };

            if (audioSample != null) {
                audioTrack.samples.push(audioSample);
                audioTrack.length = audioSample.length;
            }

            this._videoStashedLastSample = null;
            this._audioStashedLastSample = null;

            this._remuxVideo(videoTrack, true);
            this._remuxAudio(audioTrack, true);
        }
    }, {
        key: '_remuxAudio',
        value: function _remuxAudio(audioTrack, force) {
            if (this._audioMeta == null) {
                return;
            }

            var track = audioTrack;
            var samples = track.samples;
            var dtsCorrection = undefined;
            var firstDts = -1,
                lastDts = -1,
                lastPts = -1;
            var refSampleDuration = this._audioMeta.refSampleDuration;

            var mpegRawTrack = this._audioMeta.codec === 'mp3' && this._mp3UseMpegAudio;
            var firstSegmentAfterSeek = this._dtsBaseInited && this._audioNextDts === undefined;

            var insertPrefixSilentFrame = false;

            if (!samples || samples.length === 0) {
                return;
            }
            if (samples.length === 1 && !force) {
                // If [sample count in current batch] === 1 && (force != true)
                // Ignore and keep in demuxer's queue
                return;
            } // else if (force === true) do remux

            var offset = 0;
            var mdatbox = null;
            var mdatBytes = 0;

            // calculate initial mdat size
            if (mpegRawTrack) {
                // for raw mpeg buffer
                offset = 0;
                mdatBytes = track.length;
            } else {
                // for fmp4 mdat box
                offset = 8; // size + type
                mdatBytes = 8 + track.length;
            }

            var lastSample = null;

            // Pop the lastSample and waiting for stash
            if (samples.length > 1) {
                lastSample = samples.pop();
                mdatBytes -= lastSample.length;
            }

            // Insert [stashed lastSample in the previous batch] to the front
            if (this._audioStashedLastSample != null) {
                var sample = this._audioStashedLastSample;
                this._audioStashedLastSample = null;
                samples.unshift(sample);
                mdatBytes += sample.length;
            }

            // Stash the lastSample of current batch, waiting for next batch
            if (lastSample != null) {
                this._audioStashedLastSample = lastSample;
            }

            var firstSampleOriginalDts = samples[0].dts - this._dtsBase;

            // calculate dtsCorrection
            if (this._audioNextDts) {
                dtsCorrection = firstSampleOriginalDts - this._audioNextDts;
            } else {
                // this._audioNextDts == undefined
                if (this._audioSegmentInfoList.isEmpty()) {
                    dtsCorrection = 0;
                    if (this._fillSilentAfterSeek && !this._videoSegmentInfoList.isEmpty()) {
                        if (this._audioMeta.originalCodec !== 'mp3') {
                            insertPrefixSilentFrame = true;
                        }
                    }
                } else {
                    var _lastSample = this._audioSegmentInfoList.getLastSampleBefore(firstSampleOriginalDts);
                    if (_lastSample != null) {
                        var distance = firstSampleOriginalDts - (_lastSample.originalDts + _lastSample.duration);
                        if (distance <= 3) {
                            distance = 0;
                        }
                        var expectedDts = _lastSample.dts + _lastSample.duration + distance;
                        dtsCorrection = firstSampleOriginalDts - expectedDts;
                    } else {
                        // lastSample == null, cannot found
                        dtsCorrection = 0;
                    }
                }
            }

            if (insertPrefixSilentFrame) {
                // align audio segment beginDts to match with current video segment's beginDts
                var firstSampleDts = firstSampleOriginalDts - dtsCorrection;
                var videoSegment = this._videoSegmentInfoList.getLastSegmentBefore(firstSampleOriginalDts);
                if (videoSegment != null && videoSegment.beginDts < firstSampleDts) {
                    var silentUnit = _aacSilent2.default.getSilentFrame(this._audioMeta.originalCodec, this._audioMeta.channelCount);
                    if (silentUnit) {
                        var dts = videoSegment.beginDts;
                        var silentFrameDuration = firstSampleDts - videoSegment.beginDts;
                        _logger2.default.v(this.TAG, 'InsertPrefixSilentAudio: dts: ' + dts + ', duration: ' + silentFrameDuration);
                        samples.unshift({ unit: silentUnit, dts: dts, pts: dts });
                        mdatBytes += silentUnit.byteLength;
                    } // silentUnit == null: Cannot generate, skip
                } else {
                    insertPrefixSilentFrame = false;
                }
            }

            var mp4Samples = [];

            // Correct dts for each sample, and calculate sample duration. Then output to mp4Samples
            for (var i = 0; i < samples.length; i++) {
                var _sample = samples[i];
                var unit = _sample.unit;
                var originalDts = _sample.dts - this._dtsBase;
                var _dts = originalDts;
                var needFillSilentFrames = false;
                var silentFrames = null;
                var sampleDuration = 0;

                if (originalDts < -0.001) {
                    continue; //pass the first sample with the invalid dts
                }

                if (this._audioMeta.codec !== 'mp3') {
                    // for AAC codec, we need to keep dts increase based on refSampleDuration
                    var curRefDts = originalDts;
                    var maxAudioFramesDrift = 3;
                    if (this._audioNextDts) {
                        curRefDts = this._audioNextDts;
                    }

                    dtsCorrection = originalDts - curRefDts;
                    if (dtsCorrection <= -maxAudioFramesDrift * refSampleDuration) {
                        // If we're overlapping by more than maxAudioFramesDrift number of frame, drop this sample
                        _logger2.default.w(this.TAG, 'Dropping 1 audio frame (originalDts: ' + originalDts + ' ms ,curRefDts: ' + curRefDts + ' ms)  due to dtsCorrection: ' + dtsCorrection + ' ms overlap.');
                        continue;
                    } else if (dtsCorrection >= maxAudioFramesDrift * refSampleDuration && this._fillAudioTimestampGap && !_browser2.default.safari) {
                        // Silent frame generation, if large timestamp gap detected && config.fixAudioTimestampGap
                        needFillSilentFrames = true;
                        // We need to insert silent frames to fill timestamp gap
                        var frameCount = Math.floor(dtsCorrection / refSampleDuration);
                        _logger2.default.w(this.TAG, 'Large audio timestamp gap detected, may cause AV sync to drift. ' + 'Silent frames will be generated to avoid unsync.\n' + ('originalDts: ' + originalDts + ' ms, curRefDts: ' + curRefDts + ' ms, ') + ('dtsCorrection: ' + Math.round(dtsCorrection) + ' ms, generate: ' + frameCount + ' frames'));

                        _dts = Math.floor(curRefDts);
                        sampleDuration = Math.floor(curRefDts + refSampleDuration) - _dts;

                        var _silentUnit = _aacSilent2.default.getSilentFrame(this._audioMeta.originalCodec, this._audioMeta.channelCount);
                        if (_silentUnit == null) {
                            _logger2.default.w(this.TAG, 'Unable to generate silent frame for ' + (this._audioMeta.originalCodec + ' with ' + this._audioMeta.channelCount + ' channels, repeat last frame'));
                            // Repeat last frame
                            _silentUnit = unit;
                        }
                        silentFrames = [];

                        for (var j = 0; j < frameCount; j++) {
                            curRefDts = curRefDts + refSampleDuration;
                            var intDts = Math.floor(curRefDts); // change to integer
                            var intDuration = Math.floor(curRefDts + refSampleDuration) - intDts;
                            var frame = {
                                dts: intDts,
                                pts: intDts,
                                cts: 0,
                                unit: _silentUnit,
                                size: _silentUnit.byteLength,
                                duration: intDuration, // wait for next sample
                                originalDts: originalDts,
                                flags: {
                                    isLeading: 0,
                                    dependsOn: 1,
                                    isDependedOn: 0,
                                    hasRedundancy: 0
                                }
                            };
                            silentFrames.push(frame);
                            mdatBytes += unit.byteLength;
                        }

                        this._audioNextDts = curRefDts + refSampleDuration;
                    } else {

                        _dts = Math.floor(curRefDts);
                        sampleDuration = Math.floor(curRefDts + refSampleDuration) - _dts;
                        this._audioNextDts = curRefDts + refSampleDuration;
                    }
                } else {
                    // keep the original dts calculate algorithm for mp3
                    _dts = originalDts - dtsCorrection;

                    if (i !== samples.length - 1) {
                        var nextDts = samples[i + 1].dts - this._dtsBase - dtsCorrection;
                        sampleDuration = nextDts - _dts;
                    } else {
                        // the last sample
                        if (lastSample != null) {
                            // use stashed sample's dts to calculate sample duration
                            var _nextDts = lastSample.dts - this._dtsBase - dtsCorrection;
                            sampleDuration = _nextDts - _dts;
                        } else if (mp4Samples.length >= 1) {
                            // use second last sample duration
                            sampleDuration = mp4Samples[mp4Samples.length - 1].duration;
                        } else {
                            // the only one sample, use reference sample duration
                            sampleDuration = Math.floor(refSampleDuration);
                        }
                    }
                    this._audioNextDts = _dts + sampleDuration;
                }

                if (firstDts === -1) {
                    firstDts = _dts;
                }
                mp4Samples.push({
                    dts: _dts,
                    pts: _dts,
                    cts: 0,
                    unit: _sample.unit,
                    size: _sample.unit.byteLength,
                    duration: sampleDuration,
                    originalDts: originalDts,
                    flags: {
                        isLeading: 0,
                        dependsOn: 1,
                        isDependedOn: 0,
                        hasRedundancy: 0
                    }
                });

                if (needFillSilentFrames) {
                    // Silent frames should be inserted after wrong-duration frame
                    mp4Samples.push.apply(mp4Samples, silentFrames);
                }
            }

            if (mp4Samples.length === 0) {
                //no samples need to remux
                track.samples = [];
                track.length = 0;
                return;
            }

            // allocate mdatbox
            if (mpegRawTrack) {
                // allocate for raw mpeg buffer
                mdatbox = new Uint8Array(mdatBytes);
            } else {
                // allocate for fmp4 mdat box
                mdatbox = new Uint8Array(mdatBytes);
                // size field
                mdatbox[0] = mdatBytes >>> 24 & 0xFF;
                mdatbox[1] = mdatBytes >>> 16 & 0xFF;
                mdatbox[2] = mdatBytes >>> 8 & 0xFF;
                mdatbox[3] = mdatBytes & 0xFF;
                // type field (fourCC)
                mdatbox.set(_mp4Generator2.default.types.mdat, 4);
            }

            // Write samples into mdatbox
            for (var _i = 0; _i < mp4Samples.length; _i++) {
                var _unit = mp4Samples[_i].unit;
                mdatbox.set(_unit, offset);
                offset += _unit.byteLength;
            }

            var latest = mp4Samples[mp4Samples.length - 1];
            lastDts = latest.dts + latest.duration;
            //this._audioNextDts = lastDts;

            // fill media segment info & add to info list
            var info = new _mediaSegmentInfo.MediaSegmentInfo();
            info.beginDts = firstDts;
            info.endDts = lastDts;
            info.beginPts = firstDts;
            info.endPts = lastDts;
            info.originalBeginDts = mp4Samples[0].originalDts;
            info.originalEndDts = latest.originalDts + latest.duration;
            info.firstSample = new _mediaSegmentInfo.SampleInfo(mp4Samples[0].dts, mp4Samples[0].pts, mp4Samples[0].duration, mp4Samples[0].originalDts, false);
            info.lastSample = new _mediaSegmentInfo.SampleInfo(latest.dts, latest.pts, latest.duration, latest.originalDts, false);
            if (!this._isLive) {
                this._audioSegmentInfoList.append(info);
            }

            track.samples = mp4Samples;
            track.sequenceNumber++;

            var moofbox = null;

            if (mpegRawTrack) {
                // Generate empty buffer, because useless for raw mpeg
                moofbox = new Uint8Array();
            } else {
                // Generate moof for fmp4 segment
                moofbox = _mp4Generator2.default.moof(track, firstDts);
            }

            track.samples = [];
            track.length = 0;

            var segment = {
                type: 'audio',
                data: this._mergeBoxes(moofbox, mdatbox).buffer,
                sampleCount: mp4Samples.length,
                info: info
            };

            if (mpegRawTrack && firstSegmentAfterSeek) {
                // For MPEG audio stream in MSE, if seeking occurred, before appending new buffer
                // We need explicitly set timestampOffset to the desired point in timeline for mpeg SourceBuffer.
                segment.timestampOffset = firstDts;
            }

            this._onMediaSegment('audio', segment);
        }
    }, {
        key: '_remuxVideo',
        value: function _remuxVideo(videoTrack, force) {
            if (this._videoMeta == null) {
                return;
            }

            var track = videoTrack;
            var samples = track.samples;
            var dtsCorrection = undefined;
            var firstDts = -1,
                lastDts = -1;
            var firstPts = -1,
                lastPts = -1;

            if (!samples || samples.length === 0) {
                return;
            }
            if (samples.length === 1 && !force) {
                // If [sample count in current batch] === 1 && (force != true)
                // Ignore and keep in demuxer's queue
                return;
            } // else if (force === true) do remux

            var offset = 8;
            var mdatbox = null;
            var mdatBytes = 8 + videoTrack.length;

            var lastSample = null;

            // Pop the lastSample and waiting for stash
            if (samples.length > 1) {
                lastSample = samples.pop();
                mdatBytes -= lastSample.length;
            }

            // Insert [stashed lastSample in the previous batch] to the front
            if (this._videoStashedLastSample != null) {
                var sample = this._videoStashedLastSample;
                this._videoStashedLastSample = null;
                samples.unshift(sample);
                mdatBytes += sample.length;
            }

            // Stash the lastSample of current batch, waiting for next batch
            if (lastSample != null) {
                this._videoStashedLastSample = lastSample;
            }

            var firstSampleOriginalDts = samples[0].dts - this._dtsBase;

            // calculate dtsCorrection
            if (this._videoNextDts) {
                dtsCorrection = firstSampleOriginalDts - this._videoNextDts;
            } else {
                // this._videoNextDts == undefined
                if (this._videoSegmentInfoList.isEmpty()) {
                    dtsCorrection = 0;
                } else {
                    var _lastSample2 = this._videoSegmentInfoList.getLastSampleBefore(firstSampleOriginalDts);
                    if (_lastSample2 != null) {
                        var distance = firstSampleOriginalDts - (_lastSample2.originalDts + _lastSample2.duration);
                        if (distance <= 3) {
                            distance = 0;
                        }
                        var expectedDts = _lastSample2.dts + _lastSample2.duration + distance;
                        dtsCorrection = firstSampleOriginalDts - expectedDts;
                    } else {
                        // lastSample == null, cannot found
                        dtsCorrection = 0;
                    }
                }
            }

            var info = new _mediaSegmentInfo.MediaSegmentInfo();
            var mp4Samples = [];

            // Correct dts for each sample, and calculate sample duration. Then output to mp4Samples
            for (var i = 0; i < samples.length; i++) {
                var _sample2 = samples[i];
                var originalDts = _sample2.dts - this._dtsBase;
                var isKeyframe = _sample2.isKeyframe;
                var dts = originalDts - dtsCorrection;
                var cts = _sample2.cts;
                var pts = dts + cts;

                if (firstDts === -1) {
                    firstDts = dts;
                    firstPts = pts;
                }

                var sampleDuration = 0;

                if (i !== samples.length - 1) {
                    var nextDts = samples[i + 1].dts - this._dtsBase - dtsCorrection;
                    sampleDuration = nextDts - dts;
                } else {
                    // the last sample
                    if (lastSample != null) {
                        // use stashed sample's dts to calculate sample duration
                        var _nextDts2 = lastSample.dts - this._dtsBase - dtsCorrection;
                        sampleDuration = _nextDts2 - dts;
                    } else if (mp4Samples.length >= 1) {
                        // use second last sample duration
                        sampleDuration = mp4Samples[mp4Samples.length - 1].duration;
                    } else {
                        // the only one sample, use reference sample duration
                        sampleDuration = Math.floor(this._videoMeta.refSampleDuration);
                    }
                }

                if (isKeyframe) {
                    var syncPoint = new _mediaSegmentInfo.SampleInfo(dts, pts, sampleDuration, _sample2.dts, true);
                    syncPoint.fileposition = _sample2.fileposition;
                    info.appendSyncPoint(syncPoint);
                }

                mp4Samples.push({
                    dts: dts,
                    pts: pts,
                    cts: cts,
                    units: _sample2.units,
                    size: _sample2.length,
                    isKeyframe: isKeyframe,
                    duration: sampleDuration,
                    originalDts: originalDts,
                    flags: {
                        isLeading: 0,
                        dependsOn: isKeyframe ? 2 : 1,
                        isDependedOn: isKeyframe ? 1 : 0,
                        hasRedundancy: 0,
                        isNonSync: isKeyframe ? 0 : 1
                    }
                });
            }

            // allocate mdatbox
            mdatbox = new Uint8Array(mdatBytes);
            mdatbox[0] = mdatBytes >>> 24 & 0xFF;
            mdatbox[1] = mdatBytes >>> 16 & 0xFF;
            mdatbox[2] = mdatBytes >>> 8 & 0xFF;
            mdatbox[3] = mdatBytes & 0xFF;
            mdatbox.set(_mp4Generator2.default.types.mdat, 4);

            // Write samples into mdatbox
            for (var _i2 = 0; _i2 < mp4Samples.length; _i2++) {
                var units = mp4Samples[_i2].units;
                while (units.length) {
                    var unit = units.shift();
                    var data = unit.data;
                    mdatbox.set(data, offset);
                    offset += data.byteLength;
                }
            }

            var latest = mp4Samples[mp4Samples.length - 1];
            lastDts = latest.dts + latest.duration;
            lastPts = latest.pts + latest.duration;
            this._videoNextDts = lastDts;

            // fill media segment info & add to info list
            info.beginDts = firstDts;
            info.endDts = lastDts;
            info.beginPts = firstPts;
            info.endPts = lastPts;
            info.originalBeginDts = mp4Samples[0].originalDts;
            info.originalEndDts = latest.originalDts + latest.duration;
            info.firstSample = new _mediaSegmentInfo.SampleInfo(mp4Samples[0].dts, mp4Samples[0].pts, mp4Samples[0].duration, mp4Samples[0].originalDts, mp4Samples[0].isKeyframe);
            info.lastSample = new _mediaSegmentInfo.SampleInfo(latest.dts, latest.pts, latest.duration, latest.originalDts, latest.isKeyframe);
            if (!this._isLive) {
                this._videoSegmentInfoList.append(info);
            }

            track.samples = mp4Samples;
            track.sequenceNumber++;

            // workaround for chrome < 50: force first sample as a random access point
            // see https://bugs.chromium.org/p/chromium/issues/detail?id=229412
            if (this._forceFirstIDR) {
                var flags = mp4Samples[0].flags;
                flags.dependsOn = 2;
                flags.isNonSync = 0;
            }

            var moofbox = _mp4Generator2.default.moof(track, firstDts);
            track.samples = [];
            track.length = 0;

            this._onMediaSegment('video', {
                type: 'video',
                data: this._mergeBoxes(moofbox, mdatbox).buffer,
                sampleCount: mp4Samples.length,
                info: info
            });
        }
    }, {
        key: '_mergeBoxes',
        value: function _mergeBoxes(moof, mdat) {
            var result = new Uint8Array(moof.byteLength + mdat.byteLength);
            result.set(moof, 0);
            result.set(mdat, moof.byteLength);
            return result;
        }
    }, {
        key: 'onInitSegment',
        get: function get() {
            return this._onInitSegment;
        },
        set: function set(callback) {
            this._onInitSegment = callback;
        }

        /* prototype: function onMediaSegment(type: string, mediaSegment: MediaSegment): void
           MediaSegment: {
               type: string,
               data: ArrayBuffer,
               sampleCount: int32
               info: MediaSegmentInfo
           }
        */

    }, {
        key: 'onMediaSegment',
        get: function get() {
            return this._onMediaSegment;
        },
        set: function set(callback) {
            this._onMediaSegment = callback;
        }
    }]);

    return MP4Remuxer;
}();

exports.default = MP4Remuxer;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/utils/browser.js":
/*!**********************************!*\
  !*** ./src/flv/utils/browser.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var Browser = {};

function detect() {
    // modified from jquery-browser-plugin

    var ua = self.navigator.userAgent.toLowerCase();

    var match = /(edge)\/([\w.]+)/.exec(ua) || /(opr)[\/]([\w.]+)/.exec(ua) || /(chrome)[ \/]([\w.]+)/.exec(ua) || /(iemobile)[\/]([\w.]+)/.exec(ua) || /(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(ua) || /(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(ua) || /(webkit)[ \/]([\w.]+)/.exec(ua) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua) || /(msie) ([\w.]+)/.exec(ua) || ua.indexOf('trident') >= 0 && /(rv)(?::| )([\w.]+)/.exec(ua) || ua.indexOf('compatible') < 0 && /(firefox)[ \/]([\w.]+)/.exec(ua) || [];

    var platform_match = /(ipad)/.exec(ua) || /(ipod)/.exec(ua) || /(windows phone)/.exec(ua) || /(iphone)/.exec(ua) || /(kindle)/.exec(ua) || /(android)/.exec(ua) || /(windows)/.exec(ua) || /(mac)/.exec(ua) || /(linux)/.exec(ua) || /(cros)/.exec(ua) || [];

    var matched = {
        browser: match[5] || match[3] || match[1] || '',
        version: match[2] || match[4] || '0',
        majorVersion: match[4] || match[2] || '0',
        platform: platform_match[0] || ''
    };

    var browser = {};
    if (matched.browser) {
        browser[matched.browser] = true;

        var versionArray = matched.majorVersion.split('.');
        browser.version = {
            major: parseInt(matched.majorVersion, 10),
            string: matched.version
        };
        if (versionArray.length > 1) {
            browser.version.minor = parseInt(versionArray[1], 10);
        }
        if (versionArray.length > 2) {
            browser.version.build = parseInt(versionArray[2], 10);
        }
    }

    if (matched.platform) {
        browser[matched.platform] = true;
    }

    if (browser.chrome || browser.opr || browser.safari) {
        browser.webkit = true;
    }

    // MSIE. IE11 has 'rv' identifer
    if (browser.rv || browser.iemobile) {
        if (browser.rv) {
            delete browser.rv;
        }
        var msie = 'msie';
        matched.browser = msie;
        browser[msie] = true;
    }

    // Microsoft Edge
    if (browser.edge) {
        delete browser.edge;
        var msedge = 'msedge';
        matched.browser = msedge;
        browser[msedge] = true;
    }

    // Opera 15+
    if (browser.opr) {
        var opera = 'opera';
        matched.browser = opera;
        browser[opera] = true;
    }

    // Stock android browsers are marked as Safari
    if (browser.safari && browser.android) {
        var android = 'android';
        matched.browser = android;
        browser[android] = true;
    }

    browser.name = matched.browser;
    browser.platform = matched.platform;

    for (var key in Browser) {
        if (Browser.hasOwnProperty(key)) {
            delete Browser[key];
        }
    }
    Object.assign(Browser, browser);
}

detect();

exports.default = Browser;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/utils/exception.js":
/*!************************************!*\
  !*** ./src/flv/utils/exception.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var RuntimeException = exports.RuntimeException = function () {
    function RuntimeException(message) {
        _classCallCheck(this, RuntimeException);

        this._message = message;
    }

    _createClass(RuntimeException, [{
        key: 'toString',
        value: function toString() {
            return this.name + ': ' + this.message;
        }
    }, {
        key: 'name',
        get: function get() {
            return 'RuntimeException';
        }
    }, {
        key: 'message',
        get: function get() {
            return this._message;
        }
    }]);

    return RuntimeException;
}();

var IllegalStateException = exports.IllegalStateException = function (_RuntimeException) {
    _inherits(IllegalStateException, _RuntimeException);

    function IllegalStateException(message) {
        _classCallCheck(this, IllegalStateException);

        return _possibleConstructorReturn(this, (IllegalStateException.__proto__ || Object.getPrototypeOf(IllegalStateException)).call(this, message));
    }

    _createClass(IllegalStateException, [{
        key: 'name',
        get: function get() {
            return 'IllegalStateException';
        }
    }]);

    return IllegalStateException;
}(RuntimeException);

var InvalidArgumentException = exports.InvalidArgumentException = function (_RuntimeException2) {
    _inherits(InvalidArgumentException, _RuntimeException2);

    function InvalidArgumentException(message) {
        _classCallCheck(this, InvalidArgumentException);

        return _possibleConstructorReturn(this, (InvalidArgumentException.__proto__ || Object.getPrototypeOf(InvalidArgumentException)).call(this, message));
    }

    _createClass(InvalidArgumentException, [{
        key: 'name',
        get: function get() {
            return 'InvalidArgumentException';
        }
    }]);

    return InvalidArgumentException;
}(RuntimeException);

var NotImplementedException = exports.NotImplementedException = function (_RuntimeException3) {
    _inherits(NotImplementedException, _RuntimeException3);

    function NotImplementedException(message) {
        _classCallCheck(this, NotImplementedException);

        return _possibleConstructorReturn(this, (NotImplementedException.__proto__ || Object.getPrototypeOf(NotImplementedException)).call(this, message));
    }

    _createClass(NotImplementedException, [{
        key: 'name',
        get: function get() {
            return 'NotImplementedException';
        }
    }]);

    return NotImplementedException;
}(RuntimeException);

/***/ }),

/***/ "./src/flv/utils/logger.js":
/*!*********************************!*\
  !*** ./src/flv/utils/logger.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _events = __webpack_require__(/*! events */ "./node_modules/events/events.js");

var _events2 = _interopRequireDefault(_events);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Log = function () {
    function Log() {
        _classCallCheck(this, Log);
    }

    _createClass(Log, null, [{
        key: 'e',
        value: function e(tag, msg) {
            if (!tag || Log.FORCE_GLOBAL_TAG) tag = Log.GLOBAL_TAG;

            var str = '[' + tag + '] > ' + msg;

            if (Log.ENABLE_CALLBACK) {
                Log.emitter.emit('log', 'error', str);
            }

            if (!Log.ENABLE_ERROR) {
                return;
            }
        }
    }, {
        key: 'i',
        value: function i(tag, msg) {
            if (!tag || Log.FORCE_GLOBAL_TAG) tag = Log.GLOBAL_TAG;

            var str = '[' + tag + '] > ' + msg;

            if (Log.ENABLE_CALLBACK) {
                Log.emitter.emit('log', 'info', str);
            }

            if (!Log.ENABLE_INFO) {
                return;
            }
        }
    }, {
        key: 'w',
        value: function w(tag, msg) {
            if (!tag || Log.FORCE_GLOBAL_TAG) tag = Log.GLOBAL_TAG;

            var str = '[' + tag + '] > ' + msg;

            if (Log.ENABLE_CALLBACK) {
                Log.emitter.emit('log', 'warn', str);
            }

            if (!Log.ENABLE_WARN) {
                return;
            }
        }
    }, {
        key: 'd',
        value: function d(tag, msg) {
            if (!tag || Log.FORCE_GLOBAL_TAG) tag = Log.GLOBAL_TAG;

            var str = '[' + tag + '] > ' + msg;

            if (Log.ENABLE_CALLBACK) {
                Log.emitter.emit('log', 'debug', str);
            }

            if (!Log.ENABLE_DEBUG) {
                return;
            }
        }
    }, {
        key: 'v',
        value: function v(tag, msg) {
            if (!tag || Log.FORCE_GLOBAL_TAG) tag = Log.GLOBAL_TAG;

            var str = '[' + tag + '] > ' + msg;

            if (Log.ENABLE_CALLBACK) {
                Log.emitter.emit('log', 'verbose', str);
            }

            if (!Log.ENABLE_VERBOSE) {
                return;
            }
        }
    }]);

    return Log;
}();

Log.GLOBAL_TAG = 'flv.js';
Log.FORCE_GLOBAL_TAG = false;
Log.ENABLE_ERROR = true;
Log.ENABLE_INFO = true;
Log.ENABLE_WARN = true;
Log.ENABLE_DEBUG = true;
Log.ENABLE_VERBOSE = true;

Log.ENABLE_CALLBACK = false;

Log.emitter = new _events2.default();

exports.default = Log;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/utils/logging-control.js":
/*!******************************************!*\
  !*** ./src/flv/utils/logging-control.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _events = __webpack_require__(/*! events */ "./node_modules/events/events.js");

var _events2 = _interopRequireDefault(_events);

var _logger = __webpack_require__(/*! ./logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var LoggingControl = function () {
    function LoggingControl() {
        _classCallCheck(this, LoggingControl);
    }

    _createClass(LoggingControl, null, [{
        key: 'getConfig',
        value: function getConfig() {
            return {
                globalTag: _logger2.default.GLOBAL_TAG,
                forceGlobalTag: _logger2.default.FORCE_GLOBAL_TAG,
                enableVerbose: _logger2.default.ENABLE_VERBOSE,
                enableDebug: _logger2.default.ENABLE_DEBUG,
                enableInfo: _logger2.default.ENABLE_INFO,
                enableWarn: _logger2.default.ENABLE_WARN,
                enableError: _logger2.default.ENABLE_ERROR,
                enableCallback: _logger2.default.ENABLE_CALLBACK
            };
        }
    }, {
        key: 'applyConfig',
        value: function applyConfig(config) {
            _logger2.default.GLOBAL_TAG = config.globalTag;
            _logger2.default.FORCE_GLOBAL_TAG = config.forceGlobalTag;
            _logger2.default.ENABLE_VERBOSE = config.enableVerbose;
            _logger2.default.ENABLE_DEBUG = config.enableDebug;
            _logger2.default.ENABLE_INFO = config.enableInfo;
            _logger2.default.ENABLE_WARN = config.enableWarn;
            _logger2.default.ENABLE_ERROR = config.enableError;
            _logger2.default.ENABLE_CALLBACK = config.enableCallback;
        }
    }, {
        key: '_notifyChange',
        value: function _notifyChange() {
            var emitter = LoggingControl.emitter;

            if (emitter.listenerCount('change') > 0) {
                var config = LoggingControl.getConfig();
                emitter.emit('change', config);
            }
        }
    }, {
        key: 'registerListener',
        value: function registerListener(listener) {
            LoggingControl.emitter.addListener('change', listener);
        }
    }, {
        key: 'removeListener',
        value: function removeListener(listener) {
            LoggingControl.emitter.removeListener('change', listener);
        }
    }, {
        key: 'addLogListener',
        value: function addLogListener(listener) {
            _logger2.default.emitter.addListener('log', listener);
            if (_logger2.default.emitter.listenerCount('log') > 0) {
                _logger2.default.ENABLE_CALLBACK = true;
                LoggingControl._notifyChange();
            }
        }
    }, {
        key: 'removeLogListener',
        value: function removeLogListener(listener) {
            _logger2.default.emitter.removeListener('log', listener);
            if (_logger2.default.emitter.listenerCount('log') === 0) {
                _logger2.default.ENABLE_CALLBACK = false;
                LoggingControl._notifyChange();
            }
        }
    }, {
        key: 'forceGlobalTag',
        get: function get() {
            return _logger2.default.FORCE_GLOBAL_TAG;
        },
        set: function set(enable) {
            _logger2.default.FORCE_GLOBAL_TAG = enable;
            LoggingControl._notifyChange();
        }
    }, {
        key: 'globalTag',
        get: function get() {
            return _logger2.default.GLOBAL_TAG;
        },
        set: function set(tag) {
            _logger2.default.GLOBAL_TAG = tag;
            LoggingControl._notifyChange();
        }
    }, {
        key: 'enableAll',
        get: function get() {
            return _logger2.default.ENABLE_VERBOSE && _logger2.default.ENABLE_DEBUG && _logger2.default.ENABLE_INFO && _logger2.default.ENABLE_WARN && _logger2.default.ENABLE_ERROR;
        },
        set: function set(enable) {
            _logger2.default.ENABLE_VERBOSE = enable;
            _logger2.default.ENABLE_DEBUG = enable;
            _logger2.default.ENABLE_INFO = enable;
            _logger2.default.ENABLE_WARN = enable;
            _logger2.default.ENABLE_ERROR = enable;
            LoggingControl._notifyChange();
        }
    }, {
        key: 'enableDebug',
        get: function get() {
            return _logger2.default.ENABLE_DEBUG;
        },
        set: function set(enable) {
            _logger2.default.ENABLE_DEBUG = enable;
            LoggingControl._notifyChange();
        }
    }, {
        key: 'enableVerbose',
        get: function get() {
            return _logger2.default.ENABLE_VERBOSE;
        },
        set: function set(enable) {
            _logger2.default.ENABLE_VERBOSE = enable;
            LoggingControl._notifyChange();
        }
    }, {
        key: 'enableInfo',
        get: function get() {
            return _logger2.default.ENABLE_INFO;
        },
        set: function set(enable) {
            _logger2.default.ENABLE_INFO = enable;
            LoggingControl._notifyChange();
        }
    }, {
        key: 'enableWarn',
        get: function get() {
            return _logger2.default.ENABLE_WARN;
        },
        set: function set(enable) {
            _logger2.default.ENABLE_WARN = enable;
            LoggingControl._notifyChange();
        }
    }, {
        key: 'enableError',
        get: function get() {
            return _logger2.default.ENABLE_ERROR;
        },
        set: function set(enable) {
            _logger2.default.ENABLE_ERROR = enable;
            LoggingControl._notifyChange();
        }
    }]);

    return LoggingControl;
}();

LoggingControl.emitter = new _events2.default();

exports.default = LoggingControl;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/utils/polyfill.js":
/*!***********************************!*\
  !*** ./src/flv/utils/polyfill.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var Polyfill = function () {
    function Polyfill() {
        _classCallCheck(this, Polyfill);
    }

    _createClass(Polyfill, null, [{
        key: 'install',
        value: function install() {
            // ES6 Object.setPrototypeOf
            Object.setPrototypeOf = Object.setPrototypeOf || function (obj, proto) {
                obj.__proto__ = proto;
                return obj;
            };

            // ES6 Object.assign
            Object.assign = Object.assign || function (target) {
                if (target === undefined || target === null) {
                    throw new TypeError('Cannot convert undefined or null to object');
                }

                var output = Object(target);
                for (var i = 1; i < arguments.length; i++) {
                    var source = arguments[i];
                    if (source !== undefined && source !== null) {
                        for (var key in source) {
                            if (source.hasOwnProperty(key)) {
                                output[key] = source[key];
                            }
                        }
                    }
                }
                return output;
            };

            // ES6 Promise (missing support in IE11)
            if (typeof self.Promise !== 'function') {
                __webpack_require__(/*! es6-promise */ "./node_modules/es6-promise/dist/es6-promise.js").polyfill();
            }
        }
    }]);

    return Polyfill;
}();

Polyfill.install();

exports.default = Polyfill;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/utils/utf8-conv.js":
/*!************************************!*\
  !*** ./src/flv/utils/utf8-conv.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * This file is derived from C++ project libWinTF8 (https://github.com/m13253/libWinTF8)
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function checkContinuation(uint8array, start, checkLength) {
    var array = uint8array;
    if (start + checkLength < array.length) {
        while (checkLength--) {
            if ((array[++start] & 0xC0) !== 0x80) return false;
        }
        return true;
    } else {
        return false;
    }
}

function decodeUTF8(uint8array) {
    var out = [];
    var input = uint8array;
    var i = 0;
    var length = uint8array.length;

    while (i < length) {
        if (input[i] < 0x80) {
            out.push(String.fromCharCode(input[i]));
            ++i;
            continue;
        } else if (input[i] < 0xC0) {
            // fallthrough
        } else if (input[i] < 0xE0) {
            if (checkContinuation(input, i, 1)) {
                var ucs4 = (input[i] & 0x1F) << 6 | input[i + 1] & 0x3F;
                if (ucs4 >= 0x80) {
                    out.push(String.fromCharCode(ucs4 & 0xFFFF));
                    i += 2;
                    continue;
                }
            }
        } else if (input[i] < 0xF0) {
            if (checkContinuation(input, i, 2)) {
                var _ucs = (input[i] & 0xF) << 12 | (input[i + 1] & 0x3F) << 6 | input[i + 2] & 0x3F;
                if (_ucs >= 0x800 && (_ucs & 0xF800) !== 0xD800) {
                    out.push(String.fromCharCode(_ucs & 0xFFFF));
                    i += 3;
                    continue;
                }
            }
        } else if (input[i] < 0xF8) {
            if (checkContinuation(input, i, 3)) {
                var _ucs2 = (input[i] & 0x7) << 18 | (input[i + 1] & 0x3F) << 12 | (input[i + 2] & 0x3F) << 6 | input[i + 3] & 0x3F;
                if (_ucs2 > 0x10000 && _ucs2 < 0x110000) {
                    _ucs2 -= 0x10000;
                    out.push(String.fromCharCode(_ucs2 >>> 10 | 0xD800));
                    out.push(String.fromCharCode(_ucs2 & 0x3FF | 0xDC00));
                    i += 4;
                    continue;
                }
            }
        }
        out.push(String.fromCharCode(0xFFFD));
        ++i;
    }

    return out.join('');
}

exports.default = decodeUTF8;
module.exports = exports['default'];

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _xgplayer = __webpack_require__(/*! xgplayer */ "xgplayer");

var _xgplayer2 = _interopRequireDefault(_xgplayer);

var _flv = __webpack_require__(/*! ./flv/flv */ "./src/flv/flv.js");

var _flv2 = _interopRequireDefault(_flv);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var FlvJsPlayer = function (_Player) {
  _inherits(FlvJsPlayer, _Player);

  function FlvJsPlayer(options) {
    _classCallCheck(this, FlvJsPlayer);

    var _this = _possibleConstructorReturn(this, (FlvJsPlayer.__proto__ || Object.getPrototypeOf(FlvJsPlayer)).call(this, options));

    _this.flvOpts = { type: 'flv' };
    _this.optionalConfig = {};
    _xgplayer2.default.util.deepCopy(_this.flvOpts, options);
    _xgplayer2.default.util.deepCopy(_this.optionalConfig, options.flvOptionalConfig);
    var player = _this;

    _this._start = _this.start;
    _this.start = function () {
      if (!window.XgVideoProxy) {
        _this.root.insertBefore(_this.video, _this.root.firstChild);
      }
      setTimeout(function () {
        _this.emit('complete');
        if (_this.danmu && typeof _this.danmu.resize === 'function') {
          _this.danmu.resize();
        }
      }, 1);
    };

    Object.defineProperty(player, 'src', {
      get: function get() {
        return player.currentSrc;
      },
      set: function set(url) {
        player.flv_load(url);
        var oldVol = player.volume;
        player.video.muted = true;
        _xgplayer2.default.util.addClass(player.root, 'xgplayer-is-enter');
        player.once('playing', function () {
          _xgplayer2.default.util.removeClass(player.root, 'xgplayer-is-enter');
          player.video.muted = false;
        });
        player.once('canplay', function () {
          player.play();
        });
      },

      configurable: true
    });

    player.once('complete', function () {
      player.__flv__ = _flv2.default.createPlayer(_this.flvOpts, _this.optionalConfig);
      player.emit('flv_complete');
      player.createInstance(player.__flv__);
      if (player.config.isLive) {
        _xgplayer2.default.util.addClass(player.root, 'xgplayer-is-live');
        var live = _xgplayer2.default.util.createDom('xg-live', '正在直播', {}, 'xgplayer-live');
        player.controls.appendChild(live);
      }
    });
    return _this;
  }

  _createClass(FlvJsPlayer, [{
    key: 'createInstance',
    value: function createInstance(flv) {
      var player = this;
      player.video.addEventListener('contextmenu', function (e) {
        e.preventDefault();
      });
      flv.attachMediaElement(player.video);
      flv.load();
      flv.play();

      flv.on(_flv2.default.Events.ERROR, function (e) {
        player.emit('error', new _xgplayer2.default.Errors('other', player.config.url));
      });
      flv.on(_flv2.default.Events.LOADED_SEI, function (timestamp, data) {
        player.emit('loaded_sei', timestamp, data);
      });
      flv.on(_flv2.default.Events.STATISTICS_INFO, function (data) {
        player.emit("statistics_info", data);
      });
      flv.on(_flv2.default.Events.MEDIA_INFO, function (data) {
        player.mediainfo = data;
        player.emit("MEDIA_INFO", data);
      });
      player.once('destroy', function () {
        flv.destroy();
        player.__flv__ = null;
      });
    }
  }, {
    key: 'flv_load',
    value: function flv_load(newUrl) {
      var mediaDataSource = this.flvOpts;
      mediaDataSource.segments = [{
        cors: true,
        duration: undefined,
        filesize: undefined,
        timestampBase: 0,
        url: newUrl,
        withCredentials: false
      }];
      // mediaDataSource.cors = true
      // mediaDataSource.hasAudio = true
      // mediaDataSource.hasVideo = true
      // mediaDataSource.isLive = true
      mediaDataSource.url = newUrl;
      // mediaDataSource.withCredentials = false
      this.flv_load_mds(mediaDataSource);
    }
  }, {
    key: 'flv_load_mds',
    value: function flv_load_mds(mediaDataSource) {
      var player = this;
      if (typeof player.__flv__ !== 'undefined') {
        if (player.__flv__ != null) {
          player.__flv__.unload();
          player.__flv__.detachMediaElement();
          player.__flv__.destroy();
          player.__flv__ = null;
        }
      }
      player.__flv__ = _flv2.default.createPlayer(mediaDataSource, this.optionalConfig);

      player.__flv__.attachMediaElement(player.video);
      player.__flv__.load();
    }
  }, {
    key: 'switchURL',
    value: function switchURL(url) {
      var player = this;
      var curTime = 0;
      if (!player.config.isLive) {
        curTime = player.currentTime;
      }
      player.flv_load(url);
      var oldVol = player.volume;
      player.video.muted = true;
      _xgplayer2.default.util.addClass(player.root, 'xgplayer-is-enter');
      player.once('playing', function () {
        _xgplayer2.default.util.removeClass(player.root, 'xgplayer-is-enter');
        player.video.muted = false;
      });
      player.once('canplay', function () {
        if (!player.config.isLive) {
          player.currentTime = curTime;
        }
        player.play();
      });
    }
  }, {
    key: 'destroy',
    value: function destroy() {
      var isDelDom = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

      var player = this;
      if (player.__flv__) {
        if (player.__flv__.unload) {
          player.__flv__.unload();
        }
        if (player.__flv__.detachMediaElement) {
          player.__flv__.detachMediaElement();
        }
        if (player.__flv__.destroy) {
          player.__flv__.destroy();
        }
      }
      player.__flv__ = null;
      _get(FlvJsPlayer.prototype.__proto__ || Object.getPrototypeOf(FlvJsPlayer.prototype), 'destroy', this).call(this, isDelDom);
    }
  }]);

  return FlvJsPlayer;
}(_xgplayer2.default);

FlvJsPlayer.isSupported = _flv2.default.isSupported;
FlvJsPlayer.FlvJs = _flv2.default;
exports.default = FlvJsPlayer;
module.exports = exports['default'];

/***/ }),

/***/ 0:
/*!****************************!*\
  !*** multi ./src/index.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! ./src/index.js */"./src/index.js");


/***/ }),

/***/ "xgplayer":
/*!***************************!*\
  !*** external "xgplayer" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_xgplayer__;

/***/ })

/******/ });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly94Z3BsYXllci1mbHYuanMvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL3hncGxheWVyLWZsdi5qcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly94Z3BsYXllci1mbHYuanMvLi9ub2RlX21vZHVsZXMvZXM2LXByb21pc2UvZGlzdC9lczYtcHJvbWlzZS5qcyIsIndlYnBhY2s6Ly94Z3BsYXllci1mbHYuanMvLi9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly94Z3BsYXllci1mbHYuanMvLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovL3hncGxheWVyLWZsdi5qcy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8veGdwbGF5ZXItZmx2LmpzLy4vbm9kZV9tb2R1bGVzL3dlYndvcmtpZnkvaW5kZXguanMiLCJ3ZWJwYWNrOi8veGdwbGF5ZXItZmx2LmpzLy4vc3JjL2Zsdi9jb25maWcuanMiLCJ3ZWJwYWNrOi8veGdwbGF5ZXItZmx2LmpzLy4vc3JjL2Zsdi9jb3JlL2ZlYXR1cmVzLmpzIiwid2VicGFjazovL3hncGxheWVyLWZsdi5qcy8uL3NyYy9mbHYvY29yZS9tZWRpYS1pbmZvLmpzIiwid2VicGFjazovL3hncGxheWVyLWZsdi5qcy8uL3NyYy9mbHYvY29yZS9tZWRpYS1zZWdtZW50LWluZm8uanMiLCJ3ZWJwYWNrOi8veGdwbGF5ZXItZmx2LmpzLy4vc3JjL2Zsdi9jb3JlL21zZS1jb250cm9sbGVyLmpzIiwid2VicGFjazovL3hncGxheWVyLWZsdi5qcy8uL3NyYy9mbHYvY29yZS9tc2UtZXZlbnRzLmpzIiwid2VicGFjazovL3hncGxheWVyLWZsdi5qcy8uL3NyYy9mbHYvY29yZS90cmFuc211eGVyLmpzIiwid2VicGFjazovL3hncGxheWVyLWZsdi5qcy8uL3NyYy9mbHYvY29yZS90cmFuc211eGluZy1jb250cm9sbGVyLmpzIiwid2VicGFjazovL3hncGxheWVyLWZsdi5qcy8uL3NyYy9mbHYvY29yZS90cmFuc211eGluZy1ldmVudHMuanMiLCJ3ZWJwYWNrOi8veGdwbGF5ZXItZmx2LmpzLy4vc3JjL2Zsdi9jb3JlL3RyYW5zbXV4aW5nLXdvcmtlci5qcyIsIndlYnBhY2s6Ly94Z3BsYXllci1mbHYuanMvLi9zcmMvZmx2L2RlbXV4L2FtZi1wYXJzZXIuanMiLCJ3ZWJwYWNrOi8veGdwbGF5ZXItZmx2LmpzLy4vc3JjL2Zsdi9kZW11eC9kZW11eC1lcnJvcnMuanMiLCJ3ZWJwYWNrOi8veGdwbGF5ZXItZmx2LmpzLy4vc3JjL2Zsdi9kZW11eC9leHAtZ29sb21iLmpzIiwid2VicGFjazovL3hncGxheWVyLWZsdi5qcy8uL3NyYy9mbHYvZGVtdXgvZmx2LWRlbXV4ZXIuanMiLCJ3ZWJwYWNrOi8veGdwbGF5ZXItZmx2LmpzLy4vc3JjL2Zsdi9kZW11eC9zcHMtcGFyc2VyLmpzIiwid2VicGFjazovL3hncGxheWVyLWZsdi5qcy8uL3NyYy9mbHYvZmx2LmpzIiwid2VicGFjazovL3hncGxheWVyLWZsdi5qcy8uL3NyYy9mbHYvaW8vZmV0Y2gtc3RyZWFtLWxvYWRlci5qcyIsIndlYnBhY2s6Ly94Z3BsYXllci1mbHYuanMvLi9zcmMvZmx2L2lvL2lvLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8veGdwbGF5ZXItZmx2LmpzLy4vc3JjL2Zsdi9pby9sb2FkZXIuanMiLCJ3ZWJwYWNrOi8veGdwbGF5ZXItZmx2LmpzLy4vc3JjL2Zsdi9pby9wYXJhbS1zZWVrLWhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8veGdwbGF5ZXItZmx2LmpzLy4vc3JjL2Zsdi9pby9yYW5nZS1zZWVrLWhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8veGdwbGF5ZXItZmx2LmpzLy4vc3JjL2Zsdi9pby9zcGVlZC1zYW1wbGVyLmpzIiwid2VicGFjazovL3hncGxheWVyLWZsdi5qcy8uL3NyYy9mbHYvaW8vd2Vic29ja2V0LWxvYWRlci5qcyIsIndlYnBhY2s6Ly94Z3BsYXllci1mbHYuanMvLi9zcmMvZmx2L2lvL3hoci1tb3otY2h1bmtlZC1sb2FkZXIuanMiLCJ3ZWJwYWNrOi8veGdwbGF5ZXItZmx2LmpzLy4vc3JjL2Zsdi9pby94aHItbXNzdHJlYW0tbG9hZGVyLmpzIiwid2VicGFjazovL3hncGxheWVyLWZsdi5qcy8uL3NyYy9mbHYvaW8veGhyLXJhbmdlLWxvYWRlci5qcyIsIndlYnBhY2s6Ly94Z3BsYXllci1mbHYuanMvLi9zcmMvZmx2L3BsYXllci9mbHYtcGxheWVyLmpzIiwid2VicGFjazovL3hncGxheWVyLWZsdi5qcy8uL3NyYy9mbHYvcGxheWVyL25hdGl2ZS1wbGF5ZXIuanMiLCJ3ZWJwYWNrOi8veGdwbGF5ZXItZmx2LmpzLy4vc3JjL2Zsdi9wbGF5ZXIvcGxheWVyLWVycm9ycy5qcyIsIndlYnBhY2s6Ly94Z3BsYXllci1mbHYuanMvLi9zcmMvZmx2L3BsYXllci9wbGF5ZXItZXZlbnRzLmpzIiwid2VicGFjazovL3hncGxheWVyLWZsdi5qcy8uL3NyYy9mbHYvcmVtdXgvYWFjLXNpbGVudC5qcyIsIndlYnBhY2s6Ly94Z3BsYXllci1mbHYuanMvLi9zcmMvZmx2L3JlbXV4L21wNC1nZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8veGdwbGF5ZXItZmx2LmpzLy4vc3JjL2Zsdi9yZW11eC9tcDQtcmVtdXhlci5qcyIsIndlYnBhY2s6Ly94Z3BsYXllci1mbHYuanMvLi9zcmMvZmx2L3V0aWxzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8veGdwbGF5ZXItZmx2LmpzLy4vc3JjL2Zsdi91dGlscy9leGNlcHRpb24uanMiLCJ3ZWJwYWNrOi8veGdwbGF5ZXItZmx2LmpzLy4vc3JjL2Zsdi91dGlscy9sb2dnZXIuanMiLCJ3ZWJwYWNrOi8veGdwbGF5ZXItZmx2LmpzLy4vc3JjL2Zsdi91dGlscy9sb2dnaW5nLWNvbnRyb2wuanMiLCJ3ZWJwYWNrOi8veGdwbGF5ZXItZmx2LmpzLy4vc3JjL2Zsdi91dGlscy9wb2x5ZmlsbC5qcyIsIndlYnBhY2s6Ly94Z3BsYXllci1mbHYuanMvLi9zcmMvZmx2L3V0aWxzL3V0ZjgtY29udi5qcyIsIndlYnBhY2s6Ly94Z3BsYXllci1mbHYuanMvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8veGdwbGF5ZXItZmx2LmpzL2V4dGVybmFsIFwieGdwbGF5ZXJcIiJdLCJuYW1lcyI6WyJnbG9iYWwiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsIm9iamVjdE9yRnVuY3Rpb24iLCJ4IiwidHlwZSIsImlzRnVuY3Rpb24iLCJfaXNBcnJheSIsIkFycmF5IiwiaXNBcnJheSIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsImxlbiIsInZlcnR4TmV4dCIsImN1c3RvbVNjaGVkdWxlckZuIiwiYXNhcCIsImNhbGxiYWNrIiwiYXJnIiwicXVldWUiLCJmbHVzaCIsInNjaGVkdWxlRmx1c2giLCJzZXRTY2hlZHVsZXIiLCJzY2hlZHVsZUZuIiwic2V0QXNhcCIsImFzYXBGbiIsImJyb3dzZXJXaW5kb3ciLCJ3aW5kb3ciLCJ1bmRlZmluZWQiLCJicm93c2VyR2xvYmFsIiwiQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwiV2ViS2l0TXV0YXRpb25PYnNlcnZlciIsImlzTm9kZSIsInNlbGYiLCJwcm9jZXNzIiwiaXNXb3JrZXIiLCJVaW50OENsYW1wZWRBcnJheSIsImltcG9ydFNjcmlwdHMiLCJNZXNzYWdlQ2hhbm5lbCIsInVzZU5leHRUaWNrIiwibmV4dFRpY2siLCJ1c2VWZXJ0eFRpbWVyIiwidXNlU2V0VGltZW91dCIsInVzZU11dGF0aW9uT2JzZXJ2ZXIiLCJpdGVyYXRpb25zIiwib2JzZXJ2ZXIiLCJub2RlIiwiZG9jdW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsIm9ic2VydmUiLCJjaGFyYWN0ZXJEYXRhIiwiZGF0YSIsInVzZU1lc3NhZ2VDaGFubmVsIiwiY2hhbm5lbCIsInBvcnQxIiwib25tZXNzYWdlIiwicG9ydDIiLCJwb3N0TWVzc2FnZSIsImdsb2JhbFNldFRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiaSIsImF0dGVtcHRWZXJ0eCIsInZlcnR4IiwiRnVuY3Rpb24iLCJyZXF1aXJlIiwicnVuT25Mb29wIiwicnVuT25Db250ZXh0IiwiZSIsInRoZW4iLCJvbkZ1bGZpbGxtZW50Iiwib25SZWplY3Rpb24iLCJwYXJlbnQiLCJjaGlsZCIsImNvbnN0cnVjdG9yIiwibm9vcCIsIlBST01JU0VfSUQiLCJtYWtlUHJvbWlzZSIsIl9zdGF0ZSIsImFyZ3VtZW50cyIsImludm9rZUNhbGxiYWNrIiwiX3Jlc3VsdCIsInN1YnNjcmliZSIsInJlc29sdmUkMSIsIm9iamVjdCIsIkNvbnN0cnVjdG9yIiwicHJvbWlzZSIsInJlc29sdmUiLCJNYXRoIiwicmFuZG9tIiwic3Vic3RyaW5nIiwiUEVORElORyIsIkZVTEZJTExFRCIsIlJFSkVDVEVEIiwic2VsZkZ1bGZpbGxtZW50IiwiVHlwZUVycm9yIiwiY2Fubm90UmV0dXJuT3duIiwidHJ5VGhlbiIsInRoZW4kJDEiLCJ2YWx1ZSIsImZ1bGZpbGxtZW50SGFuZGxlciIsInJlamVjdGlvbkhhbmRsZXIiLCJoYW5kbGVGb3JlaWduVGhlbmFibGUiLCJ0aGVuYWJsZSIsInNlYWxlZCIsImVycm9yIiwiZnVsZmlsbCIsInJlYXNvbiIsInJlamVjdCIsIl9sYWJlbCIsImhhbmRsZU93blRoZW5hYmxlIiwiaGFuZGxlTWF5YmVUaGVuYWJsZSIsIm1heWJlVGhlbmFibGUiLCJwdWJsaXNoUmVqZWN0aW9uIiwiX29uZXJyb3IiLCJwdWJsaXNoIiwiX3N1YnNjcmliZXJzIiwibGVuZ3RoIiwic3Vic2NyaWJlcnMiLCJzZXR0bGVkIiwiZGV0YWlsIiwiaGFzQ2FsbGJhY2siLCJzdWNjZWVkZWQiLCJpbml0aWFsaXplUHJvbWlzZSIsInJlc29sdmVyIiwicmVzb2x2ZVByb21pc2UiLCJyZWplY3RQcm9taXNlIiwiaWQiLCJuZXh0SWQiLCJ2YWxpZGF0aW9uRXJyb3IiLCJFcnJvciIsIkVudW1lcmF0b3IiLCJpbnB1dCIsIl9pbnN0YW5jZUNvbnN0cnVjdG9yIiwiX3JlbWFpbmluZyIsIl9lbnVtZXJhdGUiLCJfZWFjaEVudHJ5IiwiZW50cnkiLCJjIiwicmVzb2x2ZSQkMSIsIl90aGVuIiwiZGlkRXJyb3IiLCJfc2V0dGxlZEF0IiwiUHJvbWlzZSQxIiwiX3dpbGxTZXR0bGVBdCIsInN0YXRlIiwiZW51bWVyYXRvciIsImFsbCIsImVudHJpZXMiLCJyYWNlIiwiXyIsInJlamVjdCQxIiwibmVlZHNSZXNvbHZlciIsIm5lZWRzTmV3IiwiUHJvbWlzZSIsImNhdGNoIiwiX2NhdGNoIiwiZmluYWxseSIsIl9maW5hbGx5IiwiX3NldFNjaGVkdWxlciIsIl9zZXRBc2FwIiwiX2FzYXAiLCJwb2x5ZmlsbCIsImxvY2FsIiwiUCIsInByb21pc2VUb1N0cmluZyIsImNhc3QiLCJSIiwiUmVmbGVjdCIsIlJlZmxlY3RBcHBseSIsImFwcGx5IiwidGFyZ2V0IiwicmVjZWl2ZXIiLCJhcmdzIiwiUmVmbGVjdE93bktleXMiLCJvd25LZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImNvbmNhdCIsIlByb2Nlc3NFbWl0V2FybmluZyIsIndhcm5pbmciLCJjb25zb2xlIiwid2FybiIsIk51bWJlcklzTmFOIiwiTnVtYmVyIiwiaXNOYU4iLCJFdmVudEVtaXR0ZXIiLCJpbml0Iiwib25jZSIsIl9ldmVudHMiLCJfZXZlbnRzQ291bnQiLCJfbWF4TGlzdGVuZXJzIiwiZGVmYXVsdE1heExpc3RlbmVycyIsImNoZWNrTGlzdGVuZXIiLCJsaXN0ZW5lciIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInNldCIsIlJhbmdlRXJyb3IiLCJnZXRQcm90b3R5cGVPZiIsImNyZWF0ZSIsInNldE1heExpc3RlbmVycyIsIm4iLCJfZ2V0TWF4TGlzdGVuZXJzIiwidGhhdCIsImdldE1heExpc3RlbmVycyIsImVtaXQiLCJwdXNoIiwiZG9FcnJvciIsImV2ZW50cyIsImVyIiwiZXJyIiwibWVzc2FnZSIsImNvbnRleHQiLCJoYW5kbGVyIiwibGlzdGVuZXJzIiwiYXJyYXlDbG9uZSIsIl9hZGRMaXN0ZW5lciIsInByZXBlbmQiLCJtIiwiZXhpc3RpbmciLCJuZXdMaXN0ZW5lciIsInVuc2hpZnQiLCJ3YXJuZWQiLCJ3IiwiU3RyaW5nIiwibmFtZSIsImVtaXR0ZXIiLCJjb3VudCIsImFkZExpc3RlbmVyIiwib24iLCJwcmVwZW5kTGlzdGVuZXIiLCJvbmNlV3JhcHBlciIsImZpcmVkIiwicmVtb3ZlTGlzdGVuZXIiLCJ3cmFwRm4iLCJfb25jZVdyYXAiLCJ3cmFwcGVkIiwiYmluZCIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0IiwicG9zaXRpb24iLCJvcmlnaW5hbExpc3RlbmVyIiwic2hpZnQiLCJzcGxpY2VPbmUiLCJvZmYiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJrZXlzIiwia2V5IiwiX2xpc3RlbmVycyIsInVud3JhcCIsImV2bGlzdGVuZXIiLCJ1bndyYXBMaXN0ZW5lcnMiLCJyYXdMaXN0ZW5lcnMiLCJsaXN0ZW5lckNvdW50IiwiZXZlbnROYW1lcyIsImFyciIsImNvcHkiLCJpbmRleCIsInBvcCIsInJldCIsImVycm9yTGlzdGVuZXIiLCJzbGljZSIsImV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lciIsImFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyIiwiZmxhZ3MiLCJhZGRFdmVudExpc3RlbmVyIiwid3JhcExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsImNsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJydW5DbGVhclRpbWVvdXQiLCJtYXJrZXIiLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpblF1ZXVlIiwidGltZW91dCIsInJ1biIsIkl0ZW0iLCJhcnJheSIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsImciLCJidW5kbGVGbiIsInNvdXJjZXMiLCJjYWNoZSIsInN0cmluZ2lmeSIsIkpTT04iLCJmbiIsIm9wdGlvbnMiLCJ3a2V5IiwiY2FjaGVLZXlzIiwibCIsImV4cCIsImRlZmF1bHQiLCJmbG9vciIsInBvdyIsIndjYWNoZSIsInNrZXkiLCJzY2FjaGUiLCJ3b3JrZXJTb3VyY2VzIiwicmVzb2x2ZVNvdXJjZXMiLCJkZXBQYXRoIiwiZGVwS2V5Iiwic3JjIiwibWFwIiwiam9pbiIsIlVSTCIsIndlYmtpdFVSTCIsIm1velVSTCIsIm1zVVJMIiwiYmxvYiIsIkJsb2IiLCJiYXJlIiwid29ya2VyVXJsIiwiY3JlYXRlT2JqZWN0VVJMIiwid29ya2VyIiwiV29ya2VyIiwib2JqZWN0VVJMIiwiY3JlYXRlRGVmYXVsdENvbmZpZyIsImRlZmF1bHRDb25maWciLCJlbmFibGVXb3JrZXIiLCJlbmFibGVTdGFzaEJ1ZmZlciIsInN0YXNoSW5pdGlhbFNpemUiLCJpc0xpdmUiLCJsYXp5TG9hZCIsImxhenlMb2FkTWF4RHVyYXRpb24iLCJsYXp5TG9hZFJlY292ZXJEdXJhdGlvbiIsImRlZmVyTG9hZEFmdGVyU291cmNlT3BlbiIsImF1dG9DbGVhbnVwTWF4QmFja3dhcmREdXJhdGlvbiIsImF1dG9DbGVhbnVwTWluQmFja3dhcmREdXJhdGlvbiIsInN0YXRpc3RpY3NJbmZvUmVwb3J0SW50ZXJ2YWwiLCJmaXhBdWRpb1RpbWVzdGFtcEdhcCIsImFjY3VyYXRlU2VlayIsInNlZWtUeXBlIiwic2Vla1BhcmFtU3RhcnQiLCJzZWVrUGFyYW1FbmQiLCJyYW5nZUxvYWRaZXJvU3RhcnQiLCJjdXN0b21TZWVrSGFuZGxlciIsInJldXNlUmVkaXJlY3RlZFVSTCIsImFzc2lnbiIsIkZlYXR1cmVzIiwiTWVkaWFTb3VyY2UiLCJpc1R5cGVTdXBwb3J0ZWQiLCJpb2N0bCIsIklPQ29udHJvbGxlciIsImxvYWRlclR5cGUiLCJkZXN0cm95IiwibWltZVR5cGUiLCJ2aWRlb0VsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2FuUGxheSIsImNhblBsYXlUeXBlIiwiZmVhdHVyZXMiLCJtc2VGbHZQbGF5YmFjayIsIm1zZUxpdmVGbHZQbGF5YmFjayIsIm5ldHdvcmtTdHJlYW1JTyIsIm5ldHdvcmtMb2FkZXJOYW1lIiwibmF0aXZlTVA0SDI2NFBsYXliYWNrIiwibmF0aXZlV2VibVZQOFBsYXliYWNrIiwibmF0aXZlV2VibVZQOVBsYXliYWNrIiwic3VwcG9ydE1TRUgyNjRQbGF5YmFjayIsInN1cHBvcnROZXR3b3JrU3RyZWFtSU8iLCJnZXROZXR3b3JrTG9hZGVyVHlwZU5hbWUiLCJzdXBwb3J0TmF0aXZlTWVkaWFQbGF5YmFjayIsIk1lZGlhSW5mbyIsImR1cmF0aW9uIiwiaGFzQXVkaW8iLCJoYXNWaWRlbyIsImF1ZGlvQ29kZWMiLCJ2aWRlb0NvZGVjIiwiYXVkaW9EYXRhUmF0ZSIsInZpZGVvRGF0YVJhdGUiLCJhdWRpb1NhbXBsZVJhdGUiLCJhdWRpb0NoYW5uZWxDb3VudCIsIndpZHRoIiwiaGVpZ2h0IiwiZnBzIiwicHJvZmlsZSIsImxldmVsIiwicmVmRnJhbWVzIiwiY2hyb21hRm9ybWF0Iiwic2FyTnVtIiwic2FyRGVuIiwibWV0YWRhdGEiLCJzZWdtZW50cyIsInNlZ21lbnRDb3VudCIsImhhc0tleWZyYW1lc0luZGV4Iiwia2V5ZnJhbWVzSW5kZXgiLCJhdWRpb0luZm9Db21wbGV0ZSIsInZpZGVvSW5mb0NvbXBsZXRlIiwibWlsbGlzZWNvbmRzIiwidGFibGUiLCJrZXlmcmFtZUlkeCIsIl9zZWFyY2giLCJ0aW1lcyIsImZpbGVwb3NpdGlvbiIsImZpbGVwb3NpdGlvbnMiLCJpZHgiLCJsYXN0IiwibWlkIiwibGJvdW5kIiwidWJvdW5kIiwiU2FtcGxlSW5mbyIsImR0cyIsInB0cyIsIm9yaWdpbmFsRHRzIiwiaXNTeW5jIiwiaXNTeW5jUG9pbnQiLCJNZWRpYVNlZ21lbnRJbmZvIiwiYmVnaW5EdHMiLCJlbmREdHMiLCJiZWdpblB0cyIsImVuZFB0cyIsIm9yaWdpbmFsQmVnaW5EdHMiLCJvcmlnaW5hbEVuZER0cyIsInN5bmNQb2ludHMiLCJmaXJzdFNhbXBsZSIsImxhc3RTYW1wbGUiLCJzYW1wbGVJbmZvIiwiSURSU2FtcGxlTGlzdCIsIl9saXN0IiwiY2xlYXIiLCJNZWRpYVNlZ21lbnRJbmZvTGlzdCIsIl90eXBlIiwiX2xhc3RBcHBlbmRMb2NhdGlvbiIsIl9zZWFyY2hOZWFyZXN0U2VnbWVudEJlZm9yZSIsIm1lZGlhU2VnbWVudEluZm8iLCJtc2kiLCJsYXN0QXBwZW5kSWR4IiwiaW5zZXJ0SWR4Iiwic3BsaWNlIiwic2VnbWVudCIsImdldExhc3RTZWdtZW50QmVmb3JlIiwic2VnbWVudElkeCIsIk1TRUNvbnRyb2xsZXIiLCJjb25maWciLCJUQUciLCJfY29uZmlnIiwiX2VtaXR0ZXIiLCJhdXRvQ2xlYW51cFNvdXJjZUJ1ZmZlciIsIm9uU291cmNlT3BlbiIsIl9vblNvdXJjZU9wZW4iLCJvblNvdXJjZUVuZGVkIiwiX29uU291cmNlRW5kZWQiLCJvblNvdXJjZUNsb3NlIiwiX29uU291cmNlQ2xvc2UiLCJvblNvdXJjZUJ1ZmZlckVycm9yIiwiX29uU291cmNlQnVmZmVyRXJyb3IiLCJvblNvdXJjZUJ1ZmZlclVwZGF0ZUVuZCIsIl9vblNvdXJjZUJ1ZmZlclVwZGF0ZUVuZCIsIl9tZWRpYVNvdXJjZSIsIl9tZWRpYVNvdXJjZU9iamVjdFVSTCIsIl9tZWRpYUVsZW1lbnQiLCJfaXNCdWZmZXJGdWxsIiwiX2hhc1BlbmRpbmdFb3MiLCJfcmVxdWlyZVNldE1lZGlhRHVyYXRpb24iLCJfcGVuZGluZ01lZGlhRHVyYXRpb24iLCJfcGVuZGluZ1NvdXJjZUJ1ZmZlckluaXQiLCJfbWltZVR5cGVzIiwidmlkZW8iLCJhdWRpbyIsIl9zb3VyY2VCdWZmZXJzIiwiX2xhc3RJbml0U2VnbWVudHMiLCJfcGVuZGluZ1NlZ21lbnRzIiwiX3BlbmRpbmdSZW1vdmVSYW5nZXMiLCJfaWRyTGlzdCIsImRldGFjaE1lZGlhRWxlbWVudCIsImV2ZW50IiwibWVkaWFFbGVtZW50IiwiSWxsZWdhbFN0YXRlRXhjZXB0aW9uIiwibXMiLCJwcyIsInNiIiwicmVhZHlTdGF0ZSIsInJlbW92ZVNvdXJjZUJ1ZmZlciIsImVuZE9mU3RyZWFtIiwiTG9nIiwicmVtb3ZlQXR0cmlidXRlIiwicmV2b2tlT2JqZWN0VVJMIiwiaW5pdFNlZ21lbnQiLCJkZWZlcnJlZCIsImlzIiwiY29udGFpbmVyIiwiY29kZWMiLCJmaXJzdEluaXRTZWdtZW50IiwidiIsImFkZFNvdXJjZUJ1ZmZlciIsIk1TRUV2ZW50cyIsIkVSUk9SIiwiY29kZSIsIm1zZyIsInVwZGF0aW5nIiwiX2RvQXBwZW5kU2VnbWVudHMiLCJCcm93c2VyIiwic2FmYXJpIiwibWVkaWFEdXJhdGlvbiIsIl91cGRhdGVNZWRpYVNvdXJjZUR1cmF0aW9uIiwibWVkaWFTZWdtZW50IiwiX25lZWRDbGVhbnVwU291cmNlQnVmZmVyIiwiX2RvQ2xlYW51cFNvdXJjZUJ1ZmZlciIsIl9oYXNQZW5kaW5nUmVtb3ZlUmFuZ2VzIiwic2Vjb25kcyIsImFib3J0IiwiYnVmZmVyZWQiLCJzdGFydCIsImVuZCIsIl9kb1JlbW92ZVJhbmdlcyIsImxhc3RJbml0U2VnbWVudCIsIl9oYXNQZW5kaW5nU2VnbWVudHMiLCJnZXRMYXN0U3luY1BvaW50QmVmb3JlRHRzIiwiY3VycmVudFRpbWUiLCJkb1JlbW92ZSIsInJlbW92ZUVuZCIsImN1cnJlbnQiLCJyYW5nZXMiLCJyYW5nZSIsInJlbW92ZSIsInBlbmRpbmdTZWdtZW50cyIsInRpbWVzdGFtcE9mZnNldCIsImN1cnJlbnRPZmZzZXQiLCJ0YXJnZXRPZmZzZXQiLCJkZWx0YSIsImFicyIsImJ5dGVMZW5ndGgiLCJhcHBlbmRCdWZmZXIiLCJoYXNPd25Qcm9wZXJ0eSIsImFwcGVuZEFycmF5IiwiaW5mbyIsIkJVRkZFUl9GVUxMIiwicGVuZGluZ3MiLCJhcHBlbmRJbml0U2VnbWVudCIsIlNPVVJDRV9PUEVOIiwicHJyIiwiVVBEQVRFX0VORCIsIlRyYW5zbXV4ZXIiLCJtZWRpYURhdGFTb3VyY2UiLCJ3b3JrIiwiX3dvcmtlciIsIlRyYW5zbXV4aW5nV29ya2VyIiwiX3dvcmtlckRlc3Ryb3lpbmciLCJfb25Xb3JrZXJNZXNzYWdlIiwiY21kIiwicGFyYW0iLCJvbkxvZ2dpbmdDb25maWdDaGFuZ2VkIiwiX29uTG9nZ2luZ0NvbmZpZ0NoYW5nZWQiLCJMb2dnaW5nQ29udHJvbCIsInJlZ2lzdGVyTGlzdGVuZXIiLCJnZXRDb25maWciLCJfY29udHJvbGxlciIsIlRyYW5zbXV4aW5nQ29udHJvbGxlciIsImN0bCIsIlRyYW5zbXV4aW5nRXZlbnRzIiwiSU9fRVJST1IiLCJfb25JT0Vycm9yIiwiREVNVVhfRVJST1IiLCJfb25EZW11eEVycm9yIiwiSU5JVF9TRUdNRU5UIiwiX29uSW5pdFNlZ21lbnQiLCJNRURJQV9TRUdNRU5UIiwiX29uTWVkaWFTZWdtZW50IiwiTE9BRElOR19DT01QTEVURSIsIl9vbkxvYWRpbmdDb21wbGV0ZSIsIlJFQ09WRVJFRF9FQVJMWV9FT0YiLCJfb25SZWNvdmVyZWRFYXJseUVvZiIsIk1FRElBX0lORk8iLCJfb25NZWRpYUluZm8iLCJTVEFUSVNUSUNTX0lORk8iLCJfb25TdGF0aXN0aWNzSW5mbyIsIlJFQ09NTUVORF9TRUVLUE9JTlQiLCJfb25SZWNvbW1lbmRTZWVrcG9pbnQiLCJMT0FERURfU0VJIiwiX29uTG9hZGVkU2VpIiwic3RvcCIsInNlZWsiLCJwYXVzZSIsInJlc3VtZSIsIm1lZGlhSW5mbyIsInN0YXRpc3RpY3NJbmZvIiwidGltZXN0YW1wIiwidGVybWluYXRlIiwic2V0UHJvdG90eXBlT2YiLCJsb2djYXQiLCJmaWxlc2l6ZSIsInVybCIsImNvcnMiLCJ3aXRoQ3JlZGVudGlhbHMiLCJfbWVkaWFEYXRhU291cmNlIiwiX2N1cnJlbnRTZWdtZW50SW5kZXgiLCJ0b3RhbER1cmF0aW9uIiwiZm9yRWFjaCIsInRpbWVzdGFtcEJhc2UiLCJyZWZlcnJlclBvbGljeSIsIl9tZWRpYUluZm8iLCJfZGVtdXhlciIsIl9yZW11eGVyIiwiX2lvY3RsIiwiX3BlbmRpbmdTZWVrVGltZSIsIl9wZW5kaW5nUmVzb2x2ZVNlZWtQb2ludCIsIl9zdGF0aXN0aWNzUmVwb3J0ZXIiLCJfZGlzYWJsZVN0YXRpc3RpY3NSZXBvcnRlciIsIl9sb2FkU2VnbWVudCIsIl9lbmFibGVTdGF0aXN0aWNzUmVwb3J0ZXIiLCJzZWdtZW50SW5kZXgiLCJvcHRpb25hbEZyb20iLCJkYXRhU291cmNlIiwib25FcnJvciIsIl9vbklPRXhjZXB0aW9uIiwib25TZWVrZWQiLCJfb25JT1NlZWtlZCIsIm9uQ29tcGxldGUiLCJfb25JT0NvbXBsZXRlIiwib25SZWRpcmVjdCIsIl9vbklPUmVkaXJlY3QiLCJvblJlY292ZXJlZEVhcmx5RW9mIiwiX29uSU9SZWNvdmVyZWRFYXJseUVvZiIsImJpbmREYXRhU291cmNlIiwib25EYXRhQXJyaXZhbCIsIl9vbkluaXRDaHVua0Fycml2YWwiLCJvcGVuIiwiX2ludGVybmFsQWJvcnQiLCJpc1dvcmtpbmciLCJpc1BhdXNlZCIsImlzU2Vla2FibGUiLCJ0YXJnZXRTZWdtZW50SW5kZXgiLCJfc2VhcmNoU2VnbWVudEluZGV4Q29udGFpbnMiLCJzZWdtZW50SW5mbyIsImtleWZyYW1lIiwiZ2V0TmVhcmVzdEtleWZyYW1lIiwidGFyZ2V0U2VnbWVudEluZm8iLCJpbnNlcnREaXNjb250aW51aXR5IiwicmVzZXRNZWRpYUluZm8iLCJfcmVwb3J0U2VnbWVudE1lZGlhSW5mbyIsImJ5dGVTdGFydCIsInByb2JlRGF0YSIsImNvbnN1bWVkIiwicGFyc2VDaHVua3MiLCJGTFZEZW11eGVyIiwicHJvYmUiLCJtYXRjaCIsIk1QNFJlbXV4ZXIiLCJtZHMiLCJvdmVycmlkZWREdXJhdGlvbiIsIm92ZXJyaWRlZEhhc0F1ZGlvIiwib3ZlcnJpZGVkSGFzVmlkZW8iLCJfb25EZW11eEV4Y2VwdGlvbiIsIm9uTWVkaWFJbmZvIiwib25Mb2FkZWRTZWkiLCJvbkluaXRTZWdtZW50IiwiX29uUmVtdXhlckluaXRTZWdtZW50QXJyaXZhbCIsIm9uTWVkaWFTZWdtZW50IiwiX29uUmVtdXhlck1lZGlhU2VnbWVudEFycml2YWwiLCJEZW11eEVycm9ycyIsIkZPUk1BVF9VTlNVUFBPUlRFRCIsImV4dHJhRGF0YSIsIm5leHRTZWdtZW50SW5kZXgiLCJmbHVzaFN0YXNoZWRTYW1wbGVzIiwicmVkaXJlY3RlZFVSTCIsInNlZWtwb2ludCIsInNldEludGVydmFsIiwiX3JlcG9ydFN0YXRpc3RpY3NJbmZvIiwiY2xlYXJJbnRlcnZhbCIsImV4cG9ydEluZm8iLCJjdXJyZW50VVJMIiwiaGFzUmVkaXJlY3QiLCJjdXJyZW50UmVkaXJlY3RlZFVSTCIsInNwZWVkIiwiY3VycmVudFNwZWVkIiwiY3VycmVudFNlZ21lbnRJbmRleCIsInRvdGFsU2VnbWVudENvdW50IiwiY29udHJvbGxlciIsImxvZ2NhdExpc3RlbmVyIiwib25Mb2djYXRDYWxsYmFjayIsIlBvbHlmaWxsIiwiaW5zdGFsbCIsIm9uSU9FcnJvciIsIm9uRGVtdXhFcnJvciIsIm9uTG9hZGluZ0NvbXBsZXRlIiwib25TdGF0aXN0aWNzSW5mbyIsIm9uUmVjb21tZW5kU2Vla3BvaW50IiwiYXBwbHlDb25maWciLCJlbmFibGVDYWxsYmFjayIsImFkZExvZ0xpc3RlbmVyIiwicmVtb3ZlTG9nTGlzdGVuZXIiLCJvYmoiLCJzdGF0SW5mbyIsInN0ciIsImxlIiwiYnVmIiwiQXJyYXlCdWZmZXIiLCJEYXRhVmlldyIsInNldEludDE2IiwiSW50MTZBcnJheSIsIkFNRiIsImFycmF5QnVmZmVyIiwiZGF0YU9mZnNldCIsImRhdGFTaXplIiwicGFyc2VWYWx1ZSIsInNpemUiLCJwYXJzZVN0cmluZyIsImlzT2JqZWN0RW5kIiwib2JqZWN0RW5kIiwicGFyc2VPYmplY3QiLCJnZXRVaW50MTYiLCJVaW50OEFycmF5IiwiZ2V0VWludDMyIiwiZ2V0RmxvYXQ2NCIsImxvY2FsVGltZU9mZnNldCIsImdldEludDE2IiwiRGF0ZSIsIm9mZnNldCIsImdldFVpbnQ4IiwiYiIsImFtZnN0ciIsInRlcm1pbmFsIiwibWF4TG9vcCIsImFtZm9iaiIsImFtZnZhciIsInBhcnNlVmFyaWFibGUiLCJzdHJpY3RBcnJheUxlbmd0aCIsInZhbCIsImRhdGUiLCJwYXJzZURhdGUiLCJhbWZMb25nU3RyIiwiT0siLCJGT1JNQVRfRVJST1IiLCJDT0RFQ19VTlNVUFBPUlRFRCIsIkV4cEdvbG9tYiIsInVpbnQ4YXJyYXkiLCJfYnVmZmVyIiwiX2J1ZmZlcl9pbmRleCIsIl90b3RhbF9ieXRlcyIsIl90b3RhbF9iaXRzIiwiX2N1cnJlbnRfd29yZCIsIl9jdXJyZW50X3dvcmRfYml0c19sZWZ0IiwiYnVmZmVyX2J5dGVzX2xlZnQiLCJieXRlc19yZWFkIiwibWluIiwid29yZCIsInN1YmFycmF5IiwiYnVmZmVyIiwiYml0cyIsIkludmFsaWRBcmd1bWVudEV4Y2VwdGlvbiIsInJlc3VsdCIsImJpdHNfbmVlZF9sZWZ0IiwiX2ZpbGxDdXJyZW50V29yZCIsImJpdHNfcmVhZF9uZXh0IiwicmVzdWx0MiIsInJlYWRCaXRzIiwiemVyb19jb3VudCIsIl9za2lwTGVhZGluZ1plcm8iLCJsZWFkaW5nX3plcm9zIiwicmVhZFVFRyIsIlN3YXAxNiIsIlN3YXAzMiIsIlJlYWRCaWczMiIsIl9vbkVycm9yIiwiX29uVHJhY2tNZXRhZGF0YSIsIl9vbkRhdGFBdmFpbGFibGUiLCJfZGF0YU9mZnNldCIsIl9maXJzdFBhcnNlIiwiX2Rpc3BhdGNoIiwiX2hhc0F1ZGlvIiwiaGFzQXVkaW9UcmFjayIsIl9oYXNWaWRlbyIsImhhc1ZpZGVvVHJhY2siLCJfaGFzQXVkaW9GbGFnT3ZlcnJpZGVkIiwiX2hhc1ZpZGVvRmxhZ092ZXJyaWRlZCIsIl9hdWRpb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQiLCJfdmlkZW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkIiwiX21ldGFkYXRhIiwiX2F1ZGlvTWV0YWRhdGEiLCJfdmlkZW9NZXRhZGF0YSIsIl9uYWx1TGVuZ3RoU2l6ZSIsIl90aW1lc3RhbXBCYXNlIiwiX3RpbWVzY2FsZSIsIl9kdXJhdGlvbiIsIl9kdXJhdGlvbk92ZXJyaWRlZCIsIl9yZWZlcmVuY2VGcmFtZVJhdGUiLCJmaXhlZCIsImZwc19udW0iLCJmcHNfZGVuIiwiX2ZsdlNvdW5kUmF0ZVRhYmxlIiwiX21wZWdTYW1wbGluZ1JhdGVzIiwiX21wZWdBdWRpb1YxMFNhbXBsZVJhdGVUYWJsZSIsIl9tcGVnQXVkaW9WMjBTYW1wbGVSYXRlVGFibGUiLCJfbXBlZ0F1ZGlvVjI1U2FtcGxlUmF0ZVRhYmxlIiwiX21wZWdBdWRpb0wxQml0UmF0ZVRhYmxlIiwiX21wZWdBdWRpb0wyQml0UmF0ZVRhYmxlIiwiX21wZWdBdWRpb0wzQml0UmF0ZVRhYmxlIiwiX3ZpZGVvVHJhY2siLCJzZXF1ZW5jZU51bWJlciIsInNhbXBsZXMiLCJfYXVkaW9UcmFjayIsIl9saXR0bGVFbmRpYW4iLCJsb2FkZXIiLCJjaHVuayIsInByZXZUYWdTaXplMCIsInRhZ1R5cGUiLCJ0czIiLCJ0czEiLCJ0czAiLCJ0czMiLCJzdHJlYW1JZCIsIl9wYXJzZUF1ZGlvRGF0YSIsIl9wYXJzZVZpZGVvRGF0YSIsIl9wYXJzZVNjcmlwdERhdGEiLCJwcmV2VGFnU2l6ZSIsIl9pc0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQiLCJzY3JpcHREYXRhIiwicGFyc2VTY3JpcHREYXRhIiwib25NZXRhRGF0YSIsImF1ZGlvZGF0YXJhdGUiLCJ2aWRlb2RhdGFyYXRlIiwiZnJhbWVyYXRlIiwia2V5ZnJhbWVzIiwiX3BhcnNlS2V5ZnJhbWVzSW5kZXgiLCJpc0NvbXBsZXRlIiwidGltZSIsInRhZ1RpbWVzdGFtcCIsInNvdW5kU3BlYyIsInNvdW5kRm9ybWF0Iiwic291bmRSYXRlIiwic291bmRSYXRlSW5kZXgiLCJzb3VuZFNpemUiLCJzb3VuZFR5cGUiLCJtZXRhIiwidHJhY2siLCJ0aW1lc2NhbGUiLCJjaGFubmVsQ291bnQiLCJhYWNEYXRhIiwiX3BhcnNlQUFDQXVkaW9EYXRhIiwicGFja2V0VHlwZSIsIm1pc2MiLCJzYW1wbGluZ1JhdGUiLCJvcmlnaW5hbENvZGVjIiwicmVmU2FtcGxlRHVyYXRpb24iLCJtaSIsImFhY1NhbXBsZSIsInVuaXQiLCJfcGFyc2VNUDNBdWRpb0RhdGEiLCJiaXRSYXRlIiwibXAzU2FtcGxlIiwiX3BhcnNlQUFDQXVkaW9TcGVjaWZpY0NvbmZpZyIsImF1ZGlvT2JqZWN0VHlwZSIsIm9yaWdpbmFsQXVkaW9PYmplY3RUeXBlIiwiYXVkaW9FeHRlbnNpb25PYmplY3RUeXBlIiwic2FtcGxpbmdJbmRleCIsImV4dGVuc2lvblNhbXBsaW5nSW5kZXgiLCJzYW1wbGluZ0ZyZXF1ZW5jZSIsImNoYW5uZWxDb25maWciLCJ1c2VyQWdlbnQiLCJuYXZpZ2F0b3IiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJyZXF1ZXN0SGVhZGVyIiwidmVyIiwibGF5ZXIiLCJiaXRyYXRlX2luZGV4Iiwic2FtcGxpbmdfZnJlcV9pbmRleCIsImNoYW5uZWxfbW9kZSIsImNoYW5uZWxfY291bnQiLCJzYW1wbGVfcmF0ZSIsImJpdF9yYXRlIiwib2JqZWN0X3R5cGUiLCJ0YWdQb3NpdGlvbiIsInNwZWMiLCJmcmFtZVR5cGUiLCJjb2RlY0lkIiwiX3BhcnNlQVZDVmlkZW9QYWNrZXQiLCJjdHNfdW5zaWduZWQiLCJjdHMiLCJfcGFyc2VBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZCIsIl9wYXJzZUFWQ1ZpZGVvRGF0YSIsImF2Y2MiLCJhdmNQcm9maWxlIiwicHJvZmlsZUNvbXBhdGliaWxpdHkiLCJhdmNMZXZlbCIsInNwc0NvdW50Iiwic3BzIiwiU1BTUGFyc2VyIiwicGFyc2VTUFMiLCJjb2RlY1dpZHRoIiwiY29kZWNfc2l6ZSIsImNvZGVjSGVpZ2h0IiwicHJlc2VudFdpZHRoIiwicHJlc2VudF9zaXplIiwicHJlc2VudEhlaWdodCIsInByb2ZpbGVfc3RyaW5nIiwibGV2ZWxfc3RyaW5nIiwiYml0RGVwdGgiLCJiaXRfZGVwdGgiLCJjaHJvbWFfZm9ybWF0Iiwic2FyUmF0aW8iLCJzYXJfcmF0aW8iLCJmcmFtZVJhdGUiLCJmcmFtZV9yYXRlIiwiY29kZWNBcnJheSIsImNvZGVjU3RyaW5nIiwiaiIsImgiLCJyZWZfZnJhbWVzIiwiY2hyb21hX2Zvcm1hdF9zdHJpbmciLCJwcHNDb3VudCIsInVuaXRzIiwibGVuZ3RoU2l6ZSIsIm5hbHVTaXplIiwidW5pdFR5cGUiLCJhdmNTYW1wbGUiLCJpc0tleWZyYW1lIiwiYmFzZSIsIm1pc21hdGNoIiwic3JjX2xlbmd0aCIsImRzdCIsImRzdF9pZHgiLCJyYnNwIiwiX2Vic3AycmJzcCIsImdiIiwicmVhZEJ5dGUiLCJwcm9maWxlX2lkYyIsImxldmVsX2lkYyIsImdldFByb2ZpbGVTdHJpbmciLCJnZXRMZXZlbFN0cmluZyIsImNocm9tYV9mb3JtYXRfaWRjIiwiY2hyb21hX2Zvcm1hdF90YWJsZSIsInJlYWRCb29sIiwic2NhbGluZ19saXN0X2NvdW50IiwiX3NraXBTY2FsaW5nTGlzdCIsInBpY19vcmRlcl9jbnRfdHlwZSIsInJlYWRTRUciLCJudW1fcmVmX2ZyYW1lc19pbl9waWNfb3JkZXJfY250X2N5Y2xlIiwicGljX3dpZHRoX2luX21ic19taW51czEiLCJwaWNfaGVpZ2h0X2luX21hcF91bml0c19taW51czEiLCJmcmFtZV9tYnNfb25seV9mbGFnIiwiZnJhbWVfY3JvcF9sZWZ0X29mZnNldCIsImZyYW1lX2Nyb3BfcmlnaHRfb2Zmc2V0IiwiZnJhbWVfY3JvcF90b3Bfb2Zmc2V0IiwiZnJhbWVfY3JvcF9ib3R0b21fb2Zmc2V0IiwiZnJhbWVfY3JvcHBpbmdfZmxhZyIsInNhcl93aWR0aCIsInNhcl9oZWlnaHQiLCJmcHNfZml4ZWQiLCJ2dWlfcGFyYW1ldGVyc19wcmVzZW50X2ZsYWciLCJhc3BlY3RfcmF0aW9faWRjIiwic2FyX3dfdGFibGUiLCJzYXJfaF90YWJsZSIsIm51bV91bml0c19pbl90aWNrIiwidGltZV9zY2FsZSIsInNhclNjYWxlIiwiY3JvcF91bml0X3giLCJjcm9wX3VuaXRfeSIsInN1Yl93YyIsInN1Yl9oYyIsImNvZGVjX3dpZHRoIiwiY29kZWNfaGVpZ2h0IiwicHJlc2VudF93aWR0aCIsImNlaWwiLCJnZXRDaHJvbWFGb3JtYXRTdHJpbmciLCJsYXN0X3NjYWxlIiwibmV4dF9zY2FsZSIsImRlbHRhX3NjYWxlIiwidG9GaXhlZCIsImNocm9tYSIsImNyZWF0ZVBsYXllciIsIm9wdGlvbmFsQ29uZmlnIiwiRmx2UGxheWVyIiwiTmF0aXZlUGxheWVyIiwiaXNTdXBwb3J0ZWQiLCJnZXRGZWF0dXJlTGlzdCIsImZsdmpzIiwiRXZlbnRzIiwiUGxheWVyRXZlbnRzIiwiRXJyb3JUeXBlcyIsIkVycm9yRGV0YWlscyIsIkZldGNoU3RyZWFtTG9hZGVyIiwiaXNXb3JrV2VsbEVkZ2UiLCJtc2VkZ2UiLCJtaW5vciIsImJyb3dzZXJOb3RCbGFja2xpc3RlZCIsImZldGNoIiwiUmVhZGFibGVTdHJlYW0iLCJzZWVrSGFuZGxlciIsIl9zZWVrSGFuZGxlciIsIl9uZWVkU3Rhc2giLCJfcmVxdWVzdEFib3J0IiwiX2NvbnRlbnRMZW5ndGgiLCJfcmVjZWl2ZWRMZW5ndGgiLCJfZGF0YVNvdXJjZSIsIl9yYW5nZSIsInNvdXJjZVVSTCIsInNlZWtDb25maWciLCJoZWFkZXJzIiwiSGVhZGVycyIsImNvbmZpZ0hlYWRlcnMiLCJhcHBlbmQiLCJwYXJhbXMiLCJtZXRob2QiLCJtb2RlIiwiY3JlZGVudGlhbHMiLCJfc3RhdHVzIiwiTG9hZGVyU3RhdHVzIiwia0Nvbm5lY3RpbmciLCJyZXMiLCJrSWRsZSIsIm9rIiwic3RhdHVzIiwiX29uVVJMUmVkaXJlY3QiLCJyZW1vdmVVUkxQYXJhbWV0ZXJzIiwibGVuZ3RoSGVhZGVyIiwicGFyc2VJbnQiLCJfb25Db250ZW50TGVuZ3RoS25vd24iLCJfcHVtcCIsImJvZHkiLCJnZXRSZWFkZXIiLCJrRXJyb3IiLCJMb2FkZXJFcnJvcnMiLCJIVFRQX1NUQVRVU19DT0RFX0lOVkFMSUQiLCJzdGF0dXNUZXh0IiwiUnVudGltZUV4Y2VwdGlvbiIsIkVYQ0VQVElPTiIsInJlYWRlciIsInJlYWQiLCJkb25lIiwiRUFSTFlfRU9GIiwia0NvbXBsZXRlIiwiX29uQ29tcGxldGUiLCJmcm9tIiwiY2FuY2VsIiwia0J1ZmZlcmluZyIsIl9vbkRhdGFBcnJpdmFsIiwiQmFzZUxvYWRlciIsIl9leHRyYURhdGEiLCJfc3Rhc2hJbml0aWFsU2l6ZSIsIl9zdGFzaFVzZWQiLCJfc3Rhc2hTaXplIiwiX2J1ZmZlclNpemUiLCJfc3Rhc2hCdWZmZXIiLCJfc3Rhc2hCeXRlU3RhcnQiLCJfZW5hYmxlU3Rhc2giLCJfbG9hZGVyIiwiX2xvYWRlckNsYXNzIiwiX2lzV2ViU29ja2V0VVJMIiwidGVzdCIsIl9yZWZUb3RhbExlbmd0aCIsIl90b3RhbExlbmd0aCIsIl9mdWxsUmVxdWVzdEZsYWciLCJfY3VycmVudFJhbmdlIiwiX3JlZGlyZWN0ZWRVUkwiLCJfc3BlZWROb3JtYWxpemVkIiwiX3NwZWVkU2FtcGxlciIsIlNwZWVkU2FtcGxlciIsIl9zcGVlZE5vcm1hbGl6ZUxpc3QiLCJfaXNFYXJseUVvZlJlY29ubmVjdGluZyIsIl9wYXVzZWQiLCJfcmVzdW1lRnJvbSIsIl9vblNlZWtlZCIsIl9vblJlZGlyZWN0IiwiX3NlbGVjdFNlZWtIYW5kbGVyIiwiX3NlbGVjdExvYWRlciIsIl9jcmVhdGVMb2FkZXIiLCJSYW5nZVNlZWtIYW5kbGVyIiwicGFyYW1TdGFydCIsInBhcmFtRW5kIiwiUGFyYW1TZWVrSGFuZGxlciIsIldlYlNvY2tldExvYWRlciIsIk1vekNodW5rZWRMb2FkZXIiLCJSYW5nZUxvYWRlciIsIm5lZWRTdGFzaEJ1ZmZlciIsIm9uQ29udGVudExlbmd0aEtub3duIiwib25VUkxSZWRpcmVjdCIsIl9vbkxvYWRlckNodW5rQXJyaXZhbCIsIl9vbkxvYWRlckNvbXBsZXRlIiwiX29uTG9hZGVyRXJyb3IiLCJ0byIsInJlc2V0IiwiYnl0ZXMiLCJfaW50ZXJuYWxTZWVrIiwiZHJvcFVuY29uc3VtZWQiLCJfZmx1c2hTdGFzaEJ1ZmZlciIsInJlcXVlc3RSYW5nZSIsImV4cGVjdGVkQnl0ZXMiLCJidWZmZXJOZXdTaXplIiwibmV3QnVmZmVyIiwic3Rhc2hPbGRBcnJheSIsInN0YXNoTmV3QXJyYXkiLCJub3JtYWxpemVkIiwic3Rhc2hTaXplS0IiLCJidWZmZXJTaXplIiwiX2V4cGFuZEJ1ZmZlciIsImNodW5rcyIsImNvbnRlbnRMZW5ndGgiLCJyZWNlaXZlZExlbmd0aCIsImFkZEJ5dGVzIiwiS0JwcyIsImxhc3RTZWNvbmRLQnBzIiwiX25vcm1hbGl6ZVNwZWVkIiwiX2FkanVzdFN0YXNoU2l6ZSIsIl9kaXNwYXRjaENodW5rcyIsInJlbWFpbiIsInN0YXNoQXJyYXkiLCJyZW1haW5BcnJheSIsIlVOUkVDT1ZFUkFCTEVfRUFSTFlfRU9GIiwibmV4dEZyb20iLCJDT05ORUNUSU5HX1RJTUVPVVQiLCJ0eXBlTmFtZSIsIk5vdEltcGxlbWVudGVkRXhjZXB0aW9uIiwiX3N0YXJ0TmFtZSIsIl9lbmROYW1lIiwiYmFzZVVybCIsIm5lZWRBbmQiLCJzZWVrZWRVUkwiLCJiYXNlVVJMIiwic3BsaXQiLCJxdWVyeUluZGV4IiwicmVzdWx0UGFyYW1zIiwicGFpcnMiLCJwYWlyIiwicmVxdWlyZUFuZCIsInplcm9TdGFydCIsIl96ZXJvU3RhcnQiLCJfZmlyc3RDaGVja3BvaW50IiwiX2xhc3RDaGVja3BvaW50IiwiX2ludGVydmFsQnl0ZXMiLCJfdG90YWxCeXRlcyIsIl9sYXN0U2Vjb25kQnl0ZXMiLCJwZXJmb3JtYW5jZSIsIm5vdyIsIl9ub3ciLCJkdXJhdGlvblNlY29uZHMiLCJjdXJyZW50S0JwcyIsIldlYlNvY2tldCIsIl93cyIsIndzIiwiYmluYXJ5VHlwZSIsIm9ub3BlbiIsIl9vbldlYlNvY2tldE9wZW4iLCJvbmNsb3NlIiwiX29uV2ViU29ja2V0Q2xvc2UiLCJfb25XZWJTb2NrZXRNZXNzYWdlIiwib25lcnJvciIsIl9vbldlYlNvY2tldEVycm9yIiwiY2xvc2UiLCJfZGlzcGF0Y2hBcnJheUJ1ZmZlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJyZWFkQXNBcnJheUJ1ZmZlciIsImFycmF5YnVmZmVyIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZXNwb25zZVR5cGUiLCJfeGhyIiwib25yZWFkeXN0YXRlY2hhbmdlIiwib25wcm9ncmVzcyIsIm9ubG9hZGVuZCIsIl9yZXF1ZXN0VVJMIiwiX29uUmVhZHlTdGF0ZUNoYW5nZSIsIl9vblByb2dyZXNzIiwiX29uTG9hZEVuZCIsIl9vblhockVycm9yIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJyZXNwb25zZVVSTCIsInRvdGFsIiwicmVzcG9uc2UiLCJsb2FkZWQiLCJNU1N0cmVhbUxvYWRlciIsIk1TU3RyZWFtIiwiTVNTdHJlYW1SZWFkZXIiLCJfcmVhZGVyIiwiX3RvdGFsUmFuZ2UiLCJfY3VycmVudFJlcXVlc3RVUkwiLCJfY3VycmVudFJlZGlyZWN0ZWRVUkwiLCJfYnVmZmVyTGltaXQiLCJfbGFzdFRpbWVCdWZmZXJTaXplIiwiX2lzUmVjb25uZWN0aW5nIiwiX2ludGVybmFsT3BlbiIsImlzU3VicmFuZ2UiLCJfbXNyT25Qcm9ncmVzcyIsIl9tc3JPbkxvYWQiLCJfbXNyT25FcnJvciIsIl94aHJPblJlYWR5U3RhdGVDaGFuZ2UiLCJfeGhyT25FcnJvciIsImdldFJlc3BvbnNlSGVhZGVyIiwibXNzdHJlYW0iLCJiaWdidWZmZXIiLCJfZG9SZWNvbm5lY3RJZk5lZWRlZCIsIl9jaHVua1NpemVLQkxpc3QiLCJfY3VycmVudENodW5rU2l6ZUtCIiwiX2N1cnJlbnRTcGVlZE5vcm1hbGl6ZWQiLCJfemVyb1NwZWVkQ2h1bmtDb3VudCIsIl93YWl0Rm9yVG90YWxMZW5ndGgiLCJfdG90YWxMZW5ndGhSZWNlaXZlZCIsIl9jdXJyZW50UmVxdWVzdFJhbmdlIiwiX2xhc3RUaW1lTG9hZGVkIiwidXNlUmVmVG90YWxMZW5ndGgiLCJfb3BlblN1YlJhbmdlIiwiY2h1bmtTaXplIiwiX29uTG9hZCIsIm9wZW5OZXh0UmFuZ2UiLCJyZXBvcnRDb21wbGV0ZSIsIm9udkxvYWRlZE1ldGFkYXRhIiwiX29udkxvYWRlZE1ldGFkYXRhIiwib252U2Vla2luZyIsIl9vbnZTZWVraW5nIiwib252Q2FuUGxheSIsIl9vbnZDYW5QbGF5Iiwib252U3RhbGxlZCIsIl9vbnZTdGFsbGVkIiwib252UHJvZ3Jlc3MiLCJfb252UHJvZ3Jlc3MiLCJfcmVxdWVzdFNldFRpbWUiLCJfc2Vla3BvaW50UmVjb3JkIiwiX3Byb2dyZXNzQ2hlY2tlciIsIl9tc2VjdGwiLCJfdHJhbnNtdXhlciIsIl9tc2VTb3VyY2VPcGVuZWQiLCJfaGFzUGVuZGluZ0xvYWQiLCJfcmVjZWl2ZWRDYW5QbGF5IiwiX3N0YXRpc3RpY3NJbmZvIiwiY2hyb21lTmVlZElEUkZpeCIsImNocm9tZSIsIm1ham9yIiwiYnVpbGQiLCJfYWx3YXlzU2Vla0tleWZyYW1lIiwibXNpZSIsInVubG9hZCIsIl9vbm1zZVVwZGF0ZUVuZCIsIl9vbm1zZUJ1ZmZlckZ1bGwiLCJsb2FkIiwiTUVESUFfRVJST1IiLCJNRURJQV9NU0VfRVJST1IiLCJhdHRhY2hNZWRpYUVsZW1lbnQiLCJhcHBlbmRNZWRpYVNlZ21lbnQiLCJfc3VzcGVuZFRyYW5zbXV4ZXIiLCJORVRXT1JLX0VSUk9SIiwiX2ZpbGxTdGF0aXN0aWNzSW5mbyIsInBsYXlQcm9taXNlIiwicGxheSIsInBsYXllclR5cGUiLCJIVE1MVmlkZW9FbGVtZW50IiwiaGFzUXVhbGl0eUluZm8iLCJkZWNvZGVkIiwiZHJvcHBlZCIsImdldFZpZGVvUGxheWJhY2tRdWFsaXR5IiwicXVhbGl0eSIsInRvdGFsVmlkZW9GcmFtZXMiLCJkcm9wcGVkVmlkZW9GcmFtZXMiLCJ3ZWJraXREZWNvZGVkRnJhbWVDb3VudCIsIndlYmtpdERyb3BwZWRGcmFtZUNvdW50IiwiZGVjb2RlZEZyYW1lcyIsImRyb3BwZWRGcmFtZXMiLCJjdXJyZW50UmFuZ2VTdGFydCIsImN1cnJlbnRSYW5nZUVuZCIsIl9jaGVja1Byb2dyZXNzQW5kUmVzdW1lIiwibmVlZFJlc3VtZSIsImRpcmVjdFNlZWsiLCJfaXNUaW1lcG9pbnRCdWZmZXJlZCIsImRpcmVjdFNlZWtCZWdpbiIsImRpcmVjdFNlZWtCZWdpblRpbWUiLCJ2aWRlb0JlZ2luVGltZSIsImlkciIsInJlY29yZFRpbWUiLCJfY2hlY2tBbmRBcHBseVVuYnVmZmVyZWRTZWVrcG9pbnQiLCJzdGFsbGVkIiwibWVkaWEiLCJzZWVrUG9pbnQiLCJfY2hlY2tBbmRSZXN1bWVTdHVja1BsYXliYWNrIiwidm9sdW1lIiwibXV0ZWQiLCJwcmVsb2FkIiwibWVkaWFQcmVmaXgiLCJIVE1MQXVkaW9FbGVtZW50IiwidmlkZW9XaWR0aCIsInZpZGVvSGVpZ2h0IiwiT1RIRVJfRVJST1IiLCJORVRXT1JLX0VYQ0VQVElPTiIsIk5FVFdPUktfU1RBVFVTX0NPREVfSU5WQUxJRCIsIk5FVFdPUktfVElNRU9VVCIsIk5FVFdPUktfVU5SRUNPVkVSQUJMRV9FQVJMWV9FT0YiLCJNRURJQV9GT1JNQVRfRVJST1IiLCJNRURJQV9GT1JNQVRfVU5TVVBQT1JURUQiLCJNRURJQV9DT0RFQ19VTlNVUFBPUlRFRCIsIkFBQyIsIk1QNCIsInR5cGVzIiwiYXZjMSIsImF2Y0MiLCJidHJ0IiwiZGluZiIsImRyZWYiLCJlc2RzIiwiZnR5cCIsImhkbHIiLCJtZGF0IiwibWRoZCIsIm1kaWEiLCJtZmhkIiwibWluZiIsIm1vb2YiLCJtb292IiwibXA0YSIsIm12ZXgiLCJtdmhkIiwic2R0cCIsInN0YmwiLCJzdGNvIiwic3RzYyIsInN0c2QiLCJzdHN6Iiwic3R0cyIsInRmZHQiLCJ0ZmhkIiwidHJhZiIsInRyYWsiLCJ0cnVuIiwidHJleCIsInRraGQiLCJ2bWhkIiwic21oZCIsImNoYXJDb2RlQXQiLCJjb25zdGFudHMiLCJGVFlQIiwiU1RTRF9QUkVGSVgiLCJTVFRTIiwiU1RTQyIsIlNUQ08iLCJTVFNaIiwiSERMUl9WSURFTyIsIkhETFJfQVVESU8iLCJEUkVGIiwiU01IRCIsIlZNSEQiLCJkYXRhcyIsImFycmF5Q291bnQiLCJib3giLCJ0cmFja0lkIiwieG1oZCIsIm1wMyIsInNhbXBsZVJhdGUiLCJjb25maWdTaXplIiwiYmFzZU1lZGlhRGVjb2RlVGltZSIsInNhbXBsZUNvdW50IiwiaXNMZWFkaW5nIiwiZGVwZW5kc09uIiwiaXNEZXBlbmRlZE9uIiwiaGFzUmVkdW5kYW5jeSIsImlzTm9uU3luYyIsIl9pc0xpdmUiLCJfZHRzQmFzZSIsIl9kdHNCYXNlSW5pdGVkIiwiX2F1ZGlvRHRzQmFzZSIsIkluZmluaXR5IiwiX3ZpZGVvRHRzQmFzZSIsIl9hdWRpb05leHREdHMiLCJfdmlkZW9OZXh0RHRzIiwiX2F1ZGlvU3Rhc2hlZExhc3RTYW1wbGUiLCJfdmlkZW9TdGFzaGVkTGFzdFNhbXBsZSIsIl9hdWRpb01ldGEiLCJfdmlkZW9NZXRhIiwiX2F1ZGlvU2VnbWVudEluZm9MaXN0IiwiX3ZpZGVvU2VnbWVudEluZm9MaXN0IiwiX2ZvcmNlRmlyc3RJRFIiLCJfZmlsbFNpbGVudEFmdGVyU2VlayIsIl9tcDNVc2VNcGVnQXVkaW8iLCJmaXJlZm94IiwiX2ZpbGxBdWRpb1RpbWVzdGFtcEdhcCIsInByb2R1Y2VyIiwib25EYXRhQXZhaWxhYmxlIiwicmVtdXgiLCJvblRyYWNrTWV0YWRhdGEiLCJfb25UcmFja01ldGFkYXRhUmVjZWl2ZWQiLCJhdWRpb1RyYWNrIiwidmlkZW9UcmFjayIsIl9jYWxjdWxhdGVEdHNCYXNlIiwiX3JlbXV4VmlkZW8iLCJfcmVtdXhBdWRpbyIsIm1ldGFib3giLCJnZW5lcmF0ZUluaXRTZWdtZW50IiwidmlkZW9TYW1wbGUiLCJhdWRpb1NhbXBsZSIsImZvcmNlIiwiZHRzQ29ycmVjdGlvbiIsImZpcnN0RHRzIiwibGFzdER0cyIsImxhc3RQdHMiLCJtcGVnUmF3VHJhY2siLCJmaXJzdFNlZ21lbnRBZnRlclNlZWsiLCJpbnNlcnRQcmVmaXhTaWxlbnRGcmFtZSIsIm1kYXRib3giLCJtZGF0Qnl0ZXMiLCJzYW1wbGUiLCJmaXJzdFNhbXBsZU9yaWdpbmFsRHRzIiwiaXNFbXB0eSIsImdldExhc3RTYW1wbGVCZWZvcmUiLCJkaXN0YW5jZSIsImV4cGVjdGVkRHRzIiwiZmlyc3RTYW1wbGVEdHMiLCJ2aWRlb1NlZ21lbnQiLCJzaWxlbnRVbml0IiwiZ2V0U2lsZW50RnJhbWUiLCJzaWxlbnRGcmFtZUR1cmF0aW9uIiwibXA0U2FtcGxlcyIsIm5lZWRGaWxsU2lsZW50RnJhbWVzIiwic2lsZW50RnJhbWVzIiwic2FtcGxlRHVyYXRpb24iLCJjdXJSZWZEdHMiLCJtYXhBdWRpb0ZyYW1lc0RyaWZ0IiwiZnJhbWVDb3VudCIsInJvdW5kIiwiaW50RHRzIiwiaW50RHVyYXRpb24iLCJmcmFtZSIsIm5leHREdHMiLCJsYXRlc3QiLCJtb29mYm94IiwiX21lcmdlQm94ZXMiLCJmaXJzdFB0cyIsInN5bmNQb2ludCIsImFwcGVuZFN5bmNQb2ludCIsImRldGVjdCIsInVhIiwiZXhlYyIsInBsYXRmb3JtX21hdGNoIiwibWF0Y2hlZCIsIm1ham9yVmVyc2lvbiIsInBsYXRmb3JtIiwidmVyc2lvbkFycmF5Iiwic3RyaW5nIiwib3ByIiwid2Via2l0IiwicnYiLCJpZW1vYmlsZSIsImVkZ2UiLCJvcGVyYSIsImFuZHJvaWQiLCJfbWVzc2FnZSIsInRhZyIsIkZPUkNFX0dMT0JBTF9UQUciLCJHTE9CQUxfVEFHIiwiRU5BQkxFX0NBTExCQUNLIiwiRU5BQkxFX0VSUk9SIiwiRU5BQkxFX0lORk8iLCJFTkFCTEVfV0FSTiIsIkVOQUJMRV9ERUJVRyIsIkVOQUJMRV9WRVJCT1NFIiwiZ2xvYmFsVGFnIiwiZm9yY2VHbG9iYWxUYWciLCJlbmFibGVWZXJib3NlIiwiZW5hYmxlRGVidWciLCJlbmFibGVJbmZvIiwiZW5hYmxlV2FybiIsImVuYWJsZUVycm9yIiwiX25vdGlmeUNoYW5nZSIsImVuYWJsZSIsInByb3RvIiwiX19wcm90b19fIiwib3V0cHV0Iiwic291cmNlIiwiY2hlY2tDb250aW51YXRpb24iLCJjaGVja0xlbmd0aCIsImRlY29kZVVURjgiLCJvdXQiLCJmcm9tQ2hhckNvZGUiLCJ1Y3M0IiwiRmx2SnNQbGF5ZXIiLCJmbHZPcHRzIiwiUGxheWVyIiwidXRpbCIsImRlZXBDb3B5IiwiZmx2T3B0aW9uYWxDb25maWciLCJwbGF5ZXIiLCJfc3RhcnQiLCJYZ1ZpZGVvUHJveHkiLCJyb290IiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsImRhbm11IiwicmVzaXplIiwiY3VycmVudFNyYyIsImZsdl9sb2FkIiwib2xkVm9sIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImNvbmZpZ3VyYWJsZSIsIl9fZmx2X18iLCJGbHYiLCJjcmVhdGVJbnN0YW5jZSIsImxpdmUiLCJjcmVhdGVEb20iLCJjb250cm9scyIsImFwcGVuZENoaWxkIiwiZmx2IiwicHJldmVudERlZmF1bHQiLCJFcnJvcnMiLCJtZWRpYWluZm8iLCJuZXdVcmwiLCJmbHZfbG9hZF9tZHMiLCJjdXJUaW1lIiwiaXNEZWxEb20iLCJGbHZKcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELE87UUNWQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7O1FBR0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDBDQUEwQyxnQ0FBZ0M7UUFDMUU7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSx3REFBd0Qsa0JBQWtCO1FBQzFFO1FBQ0EsaURBQWlELGNBQWM7UUFDL0Q7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLHlDQUF5QyxpQ0FBaUM7UUFDMUUsZ0hBQWdILG1CQUFtQixFQUFFO1FBQ3JJO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMkJBQTJCLDBCQUEwQixFQUFFO1FBQ3ZELGlDQUFpQyxlQUFl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QUE0SjFCRixZQUFZamYsV0FBWixHQUEwQnNnQixjQUFJdGdCLFdBQTlCO0FBQ0FpZixZQUFZbUMsS0FBWixHQUFvQmQsYUFBcEI7a0JBQ2VyQixXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqS2Ysc0QiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJ4Z3BsYXllclwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJ4Z3BsYXllclwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJ4Z3BsYXllci1mbHYuanNcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJ4Z3BsYXllclwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wieGdwbGF5ZXItZmx2LmpzXCJdID0gZmFjdG9yeShyb290W1wieGdwbGF5ZXJcIl0pO1xufSkod2luZG93LCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX3hncGxheWVyX18pIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCIvKiFcbiAqIEBvdmVydmlldyBlczYtcHJvbWlzZSAtIGEgdGlueSBpbXBsZW1lbnRhdGlvbiBvZiBQcm9taXNlcy9BKy5cbiAqIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDE0IFllaHVkYSBLYXR6LCBUb20gRGFsZSwgU3RlZmFuIFBlbm5lciBhbmQgY29udHJpYnV0b3JzIChDb252ZXJzaW9uIHRvIEVTNiBBUEkgYnkgSmFrZSBBcmNoaWJhbGQpXG4gKiBAbGljZW5zZSAgIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlXG4gKiAgICAgICAgICAgIFNlZSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vc3RlZmFucGVubmVyL2VzNi1wcm9taXNlL21hc3Rlci9MSUNFTlNFXG4gKiBAdmVyc2lvbiAgIHY0LjIuOCsxZTY4ZGNlNlxuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcblx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcblx0KGdsb2JhbC5FUzZQcm9taXNlID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgeDtcbiAgcmV0dXJuIHggIT09IG51bGwgJiYgKHR5cGUgPT09ICdvYmplY3QnIHx8IHR5cGUgPT09ICdmdW5jdGlvbicpO1xufVxuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xufVxuXG5cblxudmFyIF9pc0FycmF5ID0gdm9pZCAwO1xuaWYgKEFycmF5LmlzQXJyYXkpIHtcbiAgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xufSBlbHNlIHtcbiAgX2lzQXJyYXkgPSBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gIH07XG59XG5cbnZhciBpc0FycmF5ID0gX2lzQXJyYXk7XG5cbnZhciBsZW4gPSAwO1xudmFyIHZlcnR4TmV4dCA9IHZvaWQgMDtcbnZhciBjdXN0b21TY2hlZHVsZXJGbiA9IHZvaWQgMDtcblxudmFyIGFzYXAgPSBmdW5jdGlvbiBhc2FwKGNhbGxiYWNrLCBhcmcpIHtcbiAgcXVldWVbbGVuXSA9IGNhbGxiYWNrO1xuICBxdWV1ZVtsZW4gKyAxXSA9IGFyZztcbiAgbGVuICs9IDI7XG4gIGlmIChsZW4gPT09IDIpIHtcbiAgICAvLyBJZiBsZW4gaXMgMiwgdGhhdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gc2NoZWR1bGUgYW4gYXN5bmMgZmx1c2guXG4gICAgLy8gSWYgYWRkaXRpb25hbCBjYWxsYmFja3MgYXJlIHF1ZXVlZCBiZWZvcmUgdGhlIHF1ZXVlIGlzIGZsdXNoZWQsIHRoZXlcbiAgICAvLyB3aWxsIGJlIHByb2Nlc3NlZCBieSB0aGlzIGZsdXNoIHRoYXQgd2UgYXJlIHNjaGVkdWxpbmcuXG4gICAgaWYgKGN1c3RvbVNjaGVkdWxlckZuKSB7XG4gICAgICBjdXN0b21TY2hlZHVsZXJGbihmbHVzaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjaGVkdWxlRmx1c2goKTtcbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHNldFNjaGVkdWxlcihzY2hlZHVsZUZuKSB7XG4gIGN1c3RvbVNjaGVkdWxlckZuID0gc2NoZWR1bGVGbjtcbn1cblxuZnVuY3Rpb24gc2V0QXNhcChhc2FwRm4pIHtcbiAgYXNhcCA9IGFzYXBGbjtcbn1cblxudmFyIGJyb3dzZXJXaW5kb3cgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHVuZGVmaW5lZDtcbnZhciBicm93c2VyR2xvYmFsID0gYnJvd3NlcldpbmRvdyB8fCB7fTtcbnZhciBCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9IGJyb3dzZXJHbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBicm93c2VyR2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG52YXIgaXNOb2RlID0gdHlwZW9mIHNlbGYgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXSc7XG5cbi8vIHRlc3QgZm9yIHdlYiB3b3JrZXIgYnV0IG5vdCBpbiBJRTEwXG52YXIgaXNXb3JrZXIgPSB0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBpbXBvcnRTY3JpcHRzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnO1xuXG4vLyBub2RlXG5mdW5jdGlvbiB1c2VOZXh0VGljaygpIHtcbiAgLy8gbm9kZSB2ZXJzaW9uIDAuMTAueCBkaXNwbGF5cyBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgd2hlbiBuZXh0VGljayBpcyB1c2VkIHJlY3Vyc2l2ZWx5XG4gIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vY3Vqb2pzL3doZW4vaXNzdWVzLzQxMCBmb3IgZGV0YWlsc1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgfTtcbn1cblxuLy8gdmVydHhcbmZ1bmN0aW9uIHVzZVZlcnR4VGltZXIoKSB7XG4gIGlmICh0eXBlb2YgdmVydHhOZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2ZXJ0eE5leHQoZmx1c2gpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xufVxuXG5mdW5jdGlvbiB1c2VNdXRhdGlvbk9ic2VydmVyKCkge1xuICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gIHZhciBvYnNlcnZlciA9IG5ldyBCcm93c2VyTXV0YXRpb25PYnNlcnZlcihmbHVzaCk7XG4gIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTtcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIG5vZGUuZGF0YSA9IGl0ZXJhdGlvbnMgPSArK2l0ZXJhdGlvbnMgJSAyO1xuICB9O1xufVxuXG4vLyB3ZWIgd29ya2VyXG5mdW5jdGlvbiB1c2VNZXNzYWdlQ2hhbm5lbCgpIHtcbiAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmbHVzaDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlU2V0VGltZW91dCgpIHtcbiAgLy8gU3RvcmUgc2V0VGltZW91dCByZWZlcmVuY2Ugc28gZXM2LXByb21pc2Ugd2lsbCBiZSB1bmFmZmVjdGVkIGJ5XG4gIC8vIG90aGVyIGNvZGUgbW9kaWZ5aW5nIHNldFRpbWVvdXQgKGxpa2Ugc2lub24udXNlRmFrZVRpbWVycygpKVxuICB2YXIgZ2xvYmFsU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdsb2JhbFNldFRpbWVvdXQoZmx1c2gsIDEpO1xuICB9O1xufVxuXG52YXIgcXVldWUgPSBuZXcgQXJyYXkoMTAwMCk7XG5mdW5jdGlvbiBmbHVzaCgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHZhciBjYWxsYmFjayA9IHF1ZXVlW2ldO1xuICAgIHZhciBhcmcgPSBxdWV1ZVtpICsgMV07XG5cbiAgICBjYWxsYmFjayhhcmcpO1xuXG4gICAgcXVldWVbaV0gPSB1bmRlZmluZWQ7XG4gICAgcXVldWVbaSArIDFdID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgbGVuID0gMDtcbn1cblxuZnVuY3Rpb24gYXR0ZW1wdFZlcnR4KCkge1xuICB0cnkge1xuICAgIHZhciB2ZXJ0eCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCkucmVxdWlyZSgndmVydHgnKTtcbiAgICB2ZXJ0eE5leHQgPSB2ZXJ0eC5ydW5Pbkxvb3AgfHwgdmVydHgucnVuT25Db250ZXh0O1xuICAgIHJldHVybiB1c2VWZXJ0eFRpbWVyKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xuICB9XG59XG5cbnZhciBzY2hlZHVsZUZsdXNoID0gdm9pZCAwO1xuLy8gRGVjaWRlIHdoYXQgYXN5bmMgbWV0aG9kIHRvIHVzZSB0byB0cmlnZ2VyaW5nIHByb2Nlc3Npbmcgb2YgcXVldWVkIGNhbGxiYWNrczpcbmlmIChpc05vZGUpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZU5leHRUaWNrKCk7XG59IGVsc2UgaWYgKEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG59IGVsc2UgaWYgKGlzV29ya2VyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNZXNzYWdlQ2hhbm5lbCgpO1xufSBlbHNlIGlmIChicm93c2VyV2luZG93ID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IGF0dGVtcHRWZXJ0eCgpO1xufSBlbHNlIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZVNldFRpbWVvdXQoKTtcbn1cblxuZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICB2YXIgcGFyZW50ID0gdGhpcztcblxuICB2YXIgY2hpbGQgPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcihub29wKTtcblxuICBpZiAoY2hpbGRbUFJPTUlTRV9JRF0gPT09IHVuZGVmaW5lZCkge1xuICAgIG1ha2VQcm9taXNlKGNoaWxkKTtcbiAgfVxuXG4gIHZhciBfc3RhdGUgPSBwYXJlbnQuX3N0YXRlO1xuXG5cbiAgaWYgKF9zdGF0ZSkge1xuICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50c1tfc3RhdGUgLSAxXTtcbiAgICBhc2FwKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBpbnZva2VDYWxsYmFjayhfc3RhdGUsIGNoaWxkLCBjYWxsYmFjaywgcGFyZW50Ll9yZXN1bHQpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHN1YnNjcmliZShwYXJlbnQsIGNoaWxkLCBvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbik7XG4gIH1cblxuICByZXR1cm4gY2hpbGQ7XG59XG5cbi8qKlxuICBgUHJvbWlzZS5yZXNvbHZlYCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIHJlc29sdmVkIHdpdGggdGhlXG4gIHBhc3NlZCBgdmFsdWVgLiBJdCBpcyBzaG9ydGhhbmQgZm9yIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgcmVzb2x2ZSgxKTtcbiAgfSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyB2YWx1ZSA9PT0gMVxuICB9KTtcbiAgYGBgXG5cbiAgSW5zdGVhZCBvZiB3cml0aW5nIHRoZSBhYm92ZSwgeW91ciBjb2RlIG5vdyBzaW1wbHkgYmVjb21lcyB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoMSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyB2YWx1ZSA9PT0gMVxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCByZXNvbHZlXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBbnl9IHZhbHVlIHZhbHVlIHRoYXQgdGhlIHJldHVybmVkIHByb21pc2Ugd2lsbCBiZSByZXNvbHZlZCB3aXRoXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHRoYXQgd2lsbCBiZWNvbWUgZnVsZmlsbGVkIHdpdGggdGhlIGdpdmVuXG4gIGB2YWx1ZWBcbiovXG5mdW5jdGlvbiByZXNvbHZlJDEob2JqZWN0KSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgaWYgKG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QuY29uc3RydWN0b3IgPT09IENvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuXG4gIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKG5vb3ApO1xuICByZXNvbHZlKHByb21pc2UsIG9iamVjdCk7XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG52YXIgUFJPTUlTRV9JRCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyKTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBQRU5ESU5HID0gdm9pZCAwO1xudmFyIEZVTEZJTExFRCA9IDE7XG52YXIgUkVKRUNURUQgPSAyO1xuXG5mdW5jdGlvbiBzZWxmRnVsZmlsbG1lbnQoKSB7XG4gIHJldHVybiBuZXcgVHlwZUVycm9yKFwiWW91IGNhbm5vdCByZXNvbHZlIGEgcHJvbWlzZSB3aXRoIGl0c2VsZlwiKTtcbn1cblxuZnVuY3Rpb24gY2Fubm90UmV0dXJuT3duKCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcignQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLicpO1xufVxuXG5mdW5jdGlvbiB0cnlUaGVuKHRoZW4kJDEsIHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpIHtcbiAgdHJ5IHtcbiAgICB0aGVuJCQxLmNhbGwodmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVGb3JlaWduVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUsIHRoZW4kJDEpIHtcbiAgYXNhcChmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgIHZhciBzZWFsZWQgPSBmYWxzZTtcbiAgICB2YXIgZXJyb3IgPSB0cnlUaGVuKHRoZW4kJDEsIHRoZW5hYmxlLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmIChzZWFsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgIGlmICh0aGVuYWJsZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBpZiAoc2VhbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlYWxlZCA9IHRydWU7XG5cbiAgICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgIH0sICdTZXR0bGU6ICcgKyAocHJvbWlzZS5fbGFiZWwgfHwgJyB1bmtub3duIHByb21pc2UnKSk7XG5cbiAgICBpZiAoIXNlYWxlZCAmJiBlcnJvcikge1xuICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgfVxuICB9LCBwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUpIHtcbiAgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIHRoZW5hYmxlLl9yZXN1bHQpO1xuICB9IGVsc2Uge1xuICAgIHN1YnNjcmliZSh0aGVuYWJsZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlLCB0aGVuJCQxKSB7XG4gIGlmIChtYXliZVRoZW5hYmxlLmNvbnN0cnVjdG9yID09PSBwcm9taXNlLmNvbnN0cnVjdG9yICYmIHRoZW4kJDEgPT09IHRoZW4gJiYgbWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3Rvci5yZXNvbHZlID09PSByZXNvbHZlJDEpIHtcbiAgICBoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGhlbiQkMSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbih0aGVuJCQxKSkge1xuICAgICAgaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4kJDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlKHByb21pc2UsIHZhbHVlKSB7XG4gIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBzZWxmRnVsZmlsbG1lbnQoKSk7XG4gIH0gZWxzZSBpZiAob2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgdGhlbiQkMSA9IHZvaWQgMDtcbiAgICB0cnkge1xuICAgICAgdGhlbiQkMSA9IHZhbHVlLnRoZW47XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUsIHRoZW4kJDEpO1xuICB9IGVsc2Uge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSkge1xuICBpZiAocHJvbWlzZS5fb25lcnJvcikge1xuICAgIHByb21pc2UuX29uZXJyb3IocHJvbWlzZS5fcmVzdWx0KTtcbiAgfVxuXG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvbWlzZS5fcmVzdWx0ID0gdmFsdWU7XG4gIHByb21pc2UuX3N0YXRlID0gRlVMRklMTEVEO1xuXG4gIGlmIChwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggIT09IDApIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHByb21pc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHByb21pc2UuX3N0YXRlID0gUkVKRUNURUQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHJlYXNvbjtcblxuICBhc2FwKHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIF9zdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gIHZhciBsZW5ndGggPSBfc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG5cbiAgcGFyZW50Ll9vbmVycm9yID0gbnVsbDtcblxuICBfc3Vic2NyaWJlcnNbbGVuZ3RoXSA9IGNoaWxkO1xuICBfc3Vic2NyaWJlcnNbbGVuZ3RoICsgRlVMRklMTEVEXSA9IG9uRnVsZmlsbG1lbnQ7XG4gIF9zdWJzY3JpYmVyc1tsZW5ndGggKyBSRUpFQ1RFRF0gPSBvblJlamVjdGlvbjtcblxuICBpZiAobGVuZ3RoID09PSAwICYmIHBhcmVudC5fc3RhdGUpIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHBhcmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaChwcm9taXNlKSB7XG4gIHZhciBzdWJzY3JpYmVycyA9IHByb21pc2UuX3N1YnNjcmliZXJzO1xuICB2YXIgc2V0dGxlZCA9IHByb21pc2UuX3N0YXRlO1xuXG4gIGlmIChzdWJzY3JpYmVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY2hpbGQgPSB2b2lkIDAsXG4gICAgICBjYWxsYmFjayA9IHZvaWQgMCxcbiAgICAgIGRldGFpbCA9IHByb21pc2UuX3Jlc3VsdDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgY2hpbGQgPSBzdWJzY3JpYmVyc1tpXTtcbiAgICBjYWxsYmFjayA9IHN1YnNjcmliZXJzW2kgKyBzZXR0bGVkXTtcblxuICAgIGlmIChjaGlsZCkge1xuICAgICAgaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH1cbiAgfVxuXG4gIHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCA9IDA7XG59XG5cbmZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKHNldHRsZWQsIHByb21pc2UsIGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgdmFyIGhhc0NhbGxiYWNrID0gaXNGdW5jdGlvbihjYWxsYmFjayksXG4gICAgICB2YWx1ZSA9IHZvaWQgMCxcbiAgICAgIGVycm9yID0gdm9pZCAwLFxuICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcblxuICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICB0cnkge1xuICAgICAgdmFsdWUgPSBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHN1Y2NlZWRlZCA9IGZhbHNlO1xuICAgICAgZXJyb3IgPSBlO1xuICAgIH1cblxuICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIGNhbm5vdFJldHVybk93bigpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBkZXRhaWw7XG4gIH1cblxuICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAvLyBub29wXG4gIH0gZWxzZSBpZiAoaGFzQ2FsbGJhY2sgJiYgc3VjY2VlZGVkKSB7XG4gICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc3VjY2VlZGVkID09PSBmYWxzZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gUkVKRUNURUQpIHtcbiAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRpYWxpemVQcm9taXNlKHByb21pc2UsIHJlc29sdmVyKSB7XG4gIHRyeSB7XG4gICAgcmVzb2x2ZXIoZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpIHtcbiAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBlKTtcbiAgfVxufVxuXG52YXIgaWQgPSAwO1xuZnVuY3Rpb24gbmV4dElkKCkge1xuICByZXR1cm4gaWQrKztcbn1cblxuZnVuY3Rpb24gbWFrZVByb21pc2UocHJvbWlzZSkge1xuICBwcm9taXNlW1BST01JU0VfSURdID0gaWQrKztcbiAgcHJvbWlzZS5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHVuZGVmaW5lZDtcbiAgcHJvbWlzZS5fc3Vic2NyaWJlcnMgPSBbXTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGlvbkVycm9yKCkge1xuICByZXR1cm4gbmV3IEVycm9yKCdBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXknKTtcbn1cblxudmFyIEVudW1lcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEVudW1lcmF0b3IoQ29uc3RydWN0b3IsIGlucHV0KSB7XG4gICAgdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvciA9IENvbnN0cnVjdG9yO1xuICAgIHRoaXMucHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wKTtcblxuICAgIGlmICghdGhpcy5wcm9taXNlW1BST01JU0VfSURdKSB7XG4gICAgICBtYWtlUHJvbWlzZSh0aGlzLnByb21pc2UpO1xuICAgIH1cblxuICAgIGlmIChpc0FycmF5KGlucHV0KSkge1xuICAgICAgdGhpcy5sZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gICAgICB0aGlzLl9yZW1haW5pbmcgPSBpbnB1dC5sZW5ndGg7XG5cbiAgICAgIHRoaXMuX3Jlc3VsdCA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aCk7XG5cbiAgICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBmdWxmaWxsKHRoaXMucHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gdGhpcy5sZW5ndGggfHwgMDtcbiAgICAgICAgdGhpcy5fZW51bWVyYXRlKGlucHV0KTtcbiAgICAgICAgaWYgKHRoaXMuX3JlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgIGZ1bGZpbGwodGhpcy5wcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlamVjdCh0aGlzLnByb21pc2UsIHZhbGlkYXRpb25FcnJvcigpKTtcbiAgICB9XG4gIH1cblxuICBFbnVtZXJhdG9yLnByb3RvdHlwZS5fZW51bWVyYXRlID0gZnVuY3Rpb24gX2VudW1lcmF0ZShpbnB1dCkge1xuICAgIGZvciAodmFyIGkgPSAwOyB0aGlzLl9zdGF0ZSA9PT0gUEVORElORyAmJiBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuX2VhY2hFbnRyeShpbnB1dFtpXSwgaSk7XG4gICAgfVxuICB9O1xuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl9lYWNoRW50cnkgPSBmdW5jdGlvbiBfZWFjaEVudHJ5KGVudHJ5LCBpKSB7XG4gICAgdmFyIGMgPSB0aGlzLl9pbnN0YW5jZUNvbnN0cnVjdG9yO1xuICAgIHZhciByZXNvbHZlJCQxID0gYy5yZXNvbHZlO1xuXG5cbiAgICBpZiAocmVzb2x2ZSQkMSA9PT0gcmVzb2x2ZSQxKSB7XG4gICAgICB2YXIgX3RoZW4gPSB2b2lkIDA7XG4gICAgICB2YXIgZXJyb3IgPSB2b2lkIDA7XG4gICAgICB2YXIgZGlkRXJyb3IgPSBmYWxzZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIF90aGVuID0gZW50cnkudGhlbjtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZGlkRXJyb3IgPSB0cnVlO1xuICAgICAgICBlcnJvciA9IGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhlbiA9PT0gdGhlbiAmJiBlbnRyeS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAgICAgdGhpcy5fc2V0dGxlZEF0KGVudHJ5Ll9zdGF0ZSwgaSwgZW50cnkuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdGhlbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9yZW1haW5pbmctLTtcbiAgICAgICAgdGhpcy5fcmVzdWx0W2ldID0gZW50cnk7XG4gICAgICB9IGVsc2UgaWYgKGMgPT09IFByb21pc2UkMSkge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBjKG5vb3ApO1xuICAgICAgICBpZiAoZGlkRXJyb3IpIHtcbiAgICAgICAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgZW50cnksIF90aGVuKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl93aWxsU2V0dGxlQXQocHJvbWlzZSwgaSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl93aWxsU2V0dGxlQXQobmV3IGMoZnVuY3Rpb24gKHJlc29sdmUkJDEpIHtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZSQkMShlbnRyeSk7XG4gICAgICAgIH0pLCBpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHJlc29sdmUkJDEoZW50cnkpLCBpKTtcbiAgICB9XG4gIH07XG5cbiAgRW51bWVyYXRvci5wcm90b3R5cGUuX3NldHRsZWRBdCA9IGZ1bmN0aW9uIF9zZXR0bGVkQXQoc3RhdGUsIGksIHZhbHVlKSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzLnByb21pc2U7XG5cblxuICAgIGlmIChwcm9taXNlLl9zdGF0ZSA9PT0gUEVORElORykge1xuICAgICAgdGhpcy5fcmVtYWluaW5nLS07XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gUkVKRUNURUQpIHtcbiAgICAgICAgcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3Jlc3VsdFtpXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICB9XG4gIH07XG5cbiAgRW51bWVyYXRvci5wcm90b3R5cGUuX3dpbGxTZXR0bGVBdCA9IGZ1bmN0aW9uIF93aWxsU2V0dGxlQXQocHJvbWlzZSwgaSkge1xuICAgIHZhciBlbnVtZXJhdG9yID0gdGhpcztcblxuICAgIHN1YnNjcmliZShwcm9taXNlLCB1bmRlZmluZWQsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGVudW1lcmF0b3IuX3NldHRsZWRBdChGVUxGSUxMRUQsIGksIHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICByZXR1cm4gZW51bWVyYXRvci5fc2V0dGxlZEF0KFJFSkVDVEVELCBpLCByZWFzb24pO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBFbnVtZXJhdG9yO1xufSgpO1xuXG4vKipcbiAgYFByb21pc2UuYWxsYCBhY2NlcHRzIGFuIGFycmF5IG9mIHByb21pc2VzLCBhbmQgcmV0dXJucyBhIG5ldyBwcm9taXNlIHdoaWNoXG4gIGlzIGZ1bGZpbGxlZCB3aXRoIGFuIGFycmF5IG9mIGZ1bGZpbGxtZW50IHZhbHVlcyBmb3IgdGhlIHBhc3NlZCBwcm9taXNlcywgb3JcbiAgcmVqZWN0ZWQgd2l0aCB0aGUgcmVhc29uIG9mIHRoZSBmaXJzdCBwYXNzZWQgcHJvbWlzZSB0byBiZSByZWplY3RlZC4gSXQgY2FzdHMgYWxsXG4gIGVsZW1lbnRzIG9mIHRoZSBwYXNzZWQgaXRlcmFibGUgdG8gcHJvbWlzZXMgYXMgaXQgcnVucyB0aGlzIGFsZ29yaXRobS5cblxuICBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gcmVzb2x2ZSgxKTtcbiAgbGV0IHByb21pc2UyID0gcmVzb2x2ZSgyKTtcbiAgbGV0IHByb21pc2UzID0gcmVzb2x2ZSgzKTtcbiAgbGV0IHByb21pc2VzID0gWyBwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzIF07XG5cbiAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAgIC8vIFRoZSBhcnJheSBoZXJlIHdvdWxkIGJlIFsgMSwgMiwgMyBdO1xuICB9KTtcbiAgYGBgXG5cbiAgSWYgYW55IG9mIHRoZSBgcHJvbWlzZXNgIGdpdmVuIHRvIGBhbGxgIGFyZSByZWplY3RlZCwgdGhlIGZpcnN0IHByb21pc2VcbiAgdGhhdCBpcyByZWplY3RlZCB3aWxsIGJlIGdpdmVuIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSByZXR1cm5lZCBwcm9taXNlcydzXG4gIHJlamVjdGlvbiBoYW5kbGVyLiBGb3IgZXhhbXBsZTpcblxuICBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gcmVzb2x2ZSgxKTtcbiAgbGV0IHByb21pc2UyID0gcmVqZWN0KG5ldyBFcnJvcihcIjJcIikpO1xuICBsZXQgcHJvbWlzZTMgPSByZWplY3QobmV3IEVycm9yKFwiM1wiKSk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVucyBiZWNhdXNlIHRoZXJlIGFyZSByZWplY3RlZCBwcm9taXNlcyFcbiAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAvLyBlcnJvci5tZXNzYWdlID09PSBcIjJcIlxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCBhbGxcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FycmF5fSBlbnRyaWVzIGFycmF5IG9mIHByb21pc2VzXG4gIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgZm9yIGxhYmVsaW5nIHRoZSBwcm9taXNlLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiBhbGwgYHByb21pc2VzYCBoYXZlIGJlZW5cbiAgZnVsZmlsbGVkLCBvciByZWplY3RlZCBpZiBhbnkgb2YgdGhlbSBiZWNvbWUgcmVqZWN0ZWQuXG4gIEBzdGF0aWNcbiovXG5mdW5jdGlvbiBhbGwoZW50cmllcykge1xuICByZXR1cm4gbmV3IEVudW1lcmF0b3IodGhpcywgZW50cmllcykucHJvbWlzZTtcbn1cblxuLyoqXG4gIGBQcm9taXNlLnJhY2VgIHJldHVybnMgYSBuZXcgcHJvbWlzZSB3aGljaCBpcyBzZXR0bGVkIGluIHRoZSBzYW1lIHdheSBhcyB0aGVcbiAgZmlyc3QgcGFzc2VkIHByb21pc2UgdG8gc2V0dGxlLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlc29sdmUoJ3Byb21pc2UgMScpO1xuICAgIH0sIDIwMCk7XG4gIH0pO1xuXG4gIGxldCBwcm9taXNlMiA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAyJyk7XG4gICAgfSwgMTAwKTtcbiAgfSk7XG5cbiAgUHJvbWlzZS5yYWNlKFtwcm9taXNlMSwgcHJvbWlzZTJdKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgLy8gcmVzdWx0ID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIGl0IHdhcyByZXNvbHZlZCBiZWZvcmUgcHJvbWlzZTFcbiAgICAvLyB3YXMgcmVzb2x2ZWQuXG4gIH0pO1xuICBgYGBcblxuICBgUHJvbWlzZS5yYWNlYCBpcyBkZXRlcm1pbmlzdGljIGluIHRoYXQgb25seSB0aGUgc3RhdGUgb2YgdGhlIGZpcnN0XG4gIHNldHRsZWQgcHJvbWlzZSBtYXR0ZXJzLiBGb3IgZXhhbXBsZSwgZXZlbiBpZiBvdGhlciBwcm9taXNlcyBnaXZlbiB0byB0aGVcbiAgYHByb21pc2VzYCBhcnJheSBhcmd1bWVudCBhcmUgcmVzb2x2ZWQsIGJ1dCB0aGUgZmlyc3Qgc2V0dGxlZCBwcm9taXNlIGhhc1xuICBiZWNvbWUgcmVqZWN0ZWQgYmVmb3JlIHRoZSBvdGhlciBwcm9taXNlcyBiZWNhbWUgZnVsZmlsbGVkLCB0aGUgcmV0dXJuZWRcbiAgcHJvbWlzZSB3aWxsIGJlY29tZSByZWplY3RlZDpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAxJyk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG5cbiAgbGV0IHByb21pc2UyID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZWplY3QobmV3IEVycm9yKCdwcm9taXNlIDInKSk7XG4gICAgfSwgMTAwKTtcbiAgfSk7XG5cbiAgUHJvbWlzZS5yYWNlKFtwcm9taXNlMSwgcHJvbWlzZTJdKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnNcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ3Byb21pc2UgMicgYmVjYXVzZSBwcm9taXNlIDIgYmVjYW1lIHJlamVjdGVkIGJlZm9yZVxuICAgIC8vIHByb21pc2UgMSBiZWNhbWUgZnVsZmlsbGVkXG4gIH0pO1xuICBgYGBcblxuICBBbiBleGFtcGxlIHJlYWwtd29ybGQgdXNlIGNhc2UgaXMgaW1wbGVtZW50aW5nIHRpbWVvdXRzOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgUHJvbWlzZS5yYWNlKFthamF4KCdmb28uanNvbicpLCB0aW1lb3V0KDUwMDApXSlcbiAgYGBgXG5cbiAgQG1ldGhvZCByYWNlXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBcnJheX0gcHJvbWlzZXMgYXJyYXkgb2YgcHJvbWlzZXMgdG8gb2JzZXJ2ZVxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB3aGljaCBzZXR0bGVzIGluIHRoZSBzYW1lIHdheSBhcyB0aGUgZmlyc3QgcGFzc2VkXG4gIHByb21pc2UgdG8gc2V0dGxlLlxuKi9cbmZ1bmN0aW9uIHJhY2UoZW50cmllcykge1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gIGlmICghaXNBcnJheShlbnRyaWVzKSkge1xuICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IoZnVuY3Rpb24gKF8sIHJlamVjdCkge1xuICAgICAgcmV0dXJuIHJlamVjdChuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIHJhY2UuJykpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGVudHJpZXMubGVuZ3RoO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBDb25zdHJ1Y3Rvci5yZXNvbHZlKGVudHJpZXNbaV0pLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAgYFByb21pc2UucmVqZWN0YCByZXR1cm5zIGEgcHJvbWlzZSByZWplY3RlZCB3aXRoIHRoZSBwYXNzZWQgYHJlYXNvbmAuXG4gIEl0IGlzIHNob3J0aGFuZCBmb3IgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICByZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBJbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGFib3ZlLCB5b3VyIGNvZGUgbm93IHNpbXBseSBiZWNvbWVzIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignV0hPT1BTJykpO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIHJlamVjdFxuICBAc3RhdGljXG4gIEBwYXJhbSB7QW55fSByZWFzb24gdmFsdWUgdGhhdCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGguXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHJlamVjdGVkIHdpdGggdGhlIGdpdmVuIGByZWFzb25gLlxuKi9cbmZ1bmN0aW9uIHJlamVjdCQxKHJlYXNvbikge1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wKTtcbiAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBuZWVkc1Jlc29sdmVyKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGEgcmVzb2x2ZXIgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBwcm9taXNlIGNvbnN0cnVjdG9yJyk7XG59XG5cbmZ1bmN0aW9uIG5lZWRzTmV3KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUHJvbWlzZSc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xufVxuXG4vKipcbiAgUHJvbWlzZSBvYmplY3RzIHJlcHJlc2VudCB0aGUgZXZlbnR1YWwgcmVzdWx0IG9mIGFuIGFzeW5jaHJvbm91cyBvcGVyYXRpb24uIFRoZVxuICBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLCB3aGljaFxuICByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZSdzIGV2ZW50dWFsIHZhbHVlIG9yIHRoZSByZWFzb25cbiAgd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG5cbiAgVGVybWlub2xvZ3lcbiAgLS0tLS0tLS0tLS1cblxuICAtIGBwcm9taXNlYCBpcyBhbiBvYmplY3Qgb3IgZnVuY3Rpb24gd2l0aCBhIGB0aGVuYCBtZXRob2Qgd2hvc2UgYmVoYXZpb3IgY29uZm9ybXMgdG8gdGhpcyBzcGVjaWZpY2F0aW9uLlxuICAtIGB0aGVuYWJsZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHRoYXQgZGVmaW5lcyBhIGB0aGVuYCBtZXRob2QuXG4gIC0gYHZhbHVlYCBpcyBhbnkgbGVnYWwgSmF2YVNjcmlwdCB2YWx1ZSAoaW5jbHVkaW5nIHVuZGVmaW5lZCwgYSB0aGVuYWJsZSwgb3IgYSBwcm9taXNlKS5cbiAgLSBgZXhjZXB0aW9uYCBpcyBhIHZhbHVlIHRoYXQgaXMgdGhyb3duIHVzaW5nIHRoZSB0aHJvdyBzdGF0ZW1lbnQuXG4gIC0gYHJlYXNvbmAgaXMgYSB2YWx1ZSB0aGF0IGluZGljYXRlcyB3aHkgYSBwcm9taXNlIHdhcyByZWplY3RlZC5cbiAgLSBgc2V0dGxlZGAgdGhlIGZpbmFsIHJlc3Rpbmcgc3RhdGUgb2YgYSBwcm9taXNlLCBmdWxmaWxsZWQgb3IgcmVqZWN0ZWQuXG5cbiAgQSBwcm9taXNlIGNhbiBiZSBpbiBvbmUgb2YgdGhyZWUgc3RhdGVzOiBwZW5kaW5nLCBmdWxmaWxsZWQsIG9yIHJlamVjdGVkLlxuXG4gIFByb21pc2VzIHRoYXQgYXJlIGZ1bGZpbGxlZCBoYXZlIGEgZnVsZmlsbG1lbnQgdmFsdWUgYW5kIGFyZSBpbiB0aGUgZnVsZmlsbGVkXG4gIHN0YXRlLiAgUHJvbWlzZXMgdGhhdCBhcmUgcmVqZWN0ZWQgaGF2ZSBhIHJlamVjdGlvbiByZWFzb24gYW5kIGFyZSBpbiB0aGVcbiAgcmVqZWN0ZWQgc3RhdGUuICBBIGZ1bGZpbGxtZW50IHZhbHVlIGlzIG5ldmVyIGEgdGhlbmFibGUuXG5cbiAgUHJvbWlzZXMgY2FuIGFsc28gYmUgc2FpZCB0byAqcmVzb2x2ZSogYSB2YWx1ZS4gIElmIHRoaXMgdmFsdWUgaXMgYWxzbyBhXG4gIHByb21pc2UsIHRoZW4gdGhlIG9yaWdpbmFsIHByb21pc2UncyBzZXR0bGVkIHN0YXRlIHdpbGwgbWF0Y2ggdGhlIHZhbHVlJ3NcbiAgc2V0dGxlZCBzdGF0ZS4gIFNvIGEgcHJvbWlzZSB0aGF0ICpyZXNvbHZlcyogYSBwcm9taXNlIHRoYXQgcmVqZWN0cyB3aWxsXG4gIGl0c2VsZiByZWplY3QsIGFuZCBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IGZ1bGZpbGxzIHdpbGxcbiAgaXRzZWxmIGZ1bGZpbGwuXG5cblxuICBCYXNpYyBVc2FnZTpcbiAgLS0tLS0tLS0tLS0tXG5cbiAgYGBganNcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAvLyBvbiBzdWNjZXNzXG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG5cbiAgICAvLyBvbiBmYWlsdXJlXG4gICAgcmVqZWN0KHJlYXNvbik7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIG9uIHJlamVjdGlvblxuICB9KTtcbiAgYGBgXG5cbiAgQWR2YW5jZWQgVXNhZ2U6XG4gIC0tLS0tLS0tLS0tLS0tLVxuXG4gIFByb21pc2VzIHNoaW5lIHdoZW4gYWJzdHJhY3RpbmcgYXdheSBhc3luY2hyb25vdXMgaW50ZXJhY3Rpb25zIHN1Y2ggYXNcbiAgYFhNTEh0dHBSZXF1ZXN0YHMuXG5cbiAgYGBganNcbiAgZnVuY3Rpb24gZ2V0SlNPTih1cmwpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XG4gICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gaGFuZGxlcjtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnanNvbic7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgIHhoci5zZW5kKCk7XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IHRoaXMuRE9ORSkge1xuICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICByZXNvbHZlKHRoaXMucmVzcG9uc2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdnZXRKU09OOiBgJyArIHVybCArICdgIGZhaWxlZCB3aXRoIHN0YXR1czogWycgKyB0aGlzLnN0YXR1cyArICddJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEpTT04oJy9wb3N0cy5qc29uJykudGhlbihmdW5jdGlvbihqc29uKSB7XG4gICAgLy8gb24gZnVsZmlsbG1lbnRcbiAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgLy8gb24gcmVqZWN0aW9uXG4gIH0pO1xuICBgYGBcblxuICBVbmxpa2UgY2FsbGJhY2tzLCBwcm9taXNlcyBhcmUgZ3JlYXQgY29tcG9zYWJsZSBwcmltaXRpdmVzLlxuXG4gIGBgYGpzXG4gIFByb21pc2UuYWxsKFtcbiAgICBnZXRKU09OKCcvcG9zdHMnKSxcbiAgICBnZXRKU09OKCcvY29tbWVudHMnKVxuICBdKS50aGVuKGZ1bmN0aW9uKHZhbHVlcyl7XG4gICAgdmFsdWVzWzBdIC8vID0+IHBvc3RzSlNPTlxuICAgIHZhbHVlc1sxXSAvLyA9PiBjb21tZW50c0pTT05cblxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH0pO1xuICBgYGBcblxuICBAY2xhc3MgUHJvbWlzZVxuICBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlclxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEBjb25zdHJ1Y3RvclxuKi9cblxudmFyIFByb21pc2UkMSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUHJvbWlzZShyZXNvbHZlcikge1xuICAgIHRoaXNbUFJPTUlTRV9JRF0gPSBuZXh0SWQoKTtcbiAgICB0aGlzLl9yZXN1bHQgPSB0aGlzLl9zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9zdWJzY3JpYmVycyA9IFtdO1xuXG4gICAgaWYgKG5vb3AgIT09IHJlc29sdmVyKSB7XG4gICAgICB0eXBlb2YgcmVzb2x2ZXIgIT09ICdmdW5jdGlvbicgJiYgbmVlZHNSZXNvbHZlcigpO1xuICAgICAgdGhpcyBpbnN0YW5jZW9mIFByb21pc2UgPyBpbml0aWFsaXplUHJvbWlzZSh0aGlzLCByZXNvbHZlcikgOiBuZWVkc05ldygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICBUaGUgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCxcbiAgd2hpY2ggcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2UncyBldmVudHVhbCB2YWx1ZSBvciB0aGVcbiAgcmVhc29uIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuICAgYGBganNcbiAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uKHVzZXIpe1xuICAgIC8vIHVzZXIgaXMgYXZhaWxhYmxlXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gdXNlciBpcyB1bmF2YWlsYWJsZSwgYW5kIHlvdSBhcmUgZ2l2ZW4gdGhlIHJlYXNvbiB3aHlcbiAgfSk7XG4gIGBgYFxuICAgQ2hhaW5pbmdcbiAgLS0tLS0tLS1cbiAgIFRoZSByZXR1cm4gdmFsdWUgb2YgYHRoZW5gIGlzIGl0c2VsZiBhIHByb21pc2UuICBUaGlzIHNlY29uZCwgJ2Rvd25zdHJlYW0nXG4gIHByb21pc2UgaXMgcmVzb2x2ZWQgd2l0aCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmaXJzdCBwcm9taXNlJ3MgZnVsZmlsbG1lbnRcbiAgb3IgcmVqZWN0aW9uIGhhbmRsZXIsIG9yIHJlamVjdGVkIGlmIHRoZSBoYW5kbGVyIHRocm93cyBhbiBleGNlcHRpb24uXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICByZXR1cm4gdXNlci5uYW1lO1xuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgcmV0dXJuICdkZWZhdWx0IG5hbWUnO1xuICB9KS50aGVuKGZ1bmN0aW9uICh1c2VyTmFtZSkge1xuICAgIC8vIElmIGBmaW5kVXNlcmAgZnVsZmlsbGVkLCBgdXNlck5hbWVgIHdpbGwgYmUgdGhlIHVzZXIncyBuYW1lLCBvdGhlcndpc2UgaXRcbiAgICAvLyB3aWxsIGJlIGAnZGVmYXVsdCBuYW1lJ2BcbiAgfSk7XG4gICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvdW5kIHVzZXIsIGJ1dCBzdGlsbCB1bmhhcHB5Jyk7XG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2BmaW5kVXNlcmAgcmVqZWN0ZWQgYW5kIHdlJ3JlIHVuaGFwcHknKTtcbiAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAvLyBuZXZlciByZWFjaGVkXG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAvLyBpZiBgZmluZFVzZXJgIGZ1bGZpbGxlZCwgYHJlYXNvbmAgd2lsbCBiZSAnRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknLlxuICAgIC8vIElmIGBmaW5kVXNlcmAgcmVqZWN0ZWQsIGByZWFzb25gIHdpbGwgYmUgJ2BmaW5kVXNlcmAgcmVqZWN0ZWQgYW5kIHdlJ3JlIHVuaGFwcHknLlxuICB9KTtcbiAgYGBgXG4gIElmIHRoZSBkb3duc3RyZWFtIHByb21pc2UgZG9lcyBub3Qgc3BlY2lmeSBhIHJlamVjdGlvbiBoYW5kbGVyLCByZWplY3Rpb24gcmVhc29ucyB3aWxsIGJlIHByb3BhZ2F0ZWQgZnVydGhlciBkb3duc3RyZWFtLlxuICAgYGBganNcbiAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgdGhyb3cgbmV3IFBlZGFnb2dpY2FsRXhjZXB0aW9uKCdVcHN0cmVhbSBlcnJvcicpO1xuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAvLyBuZXZlciByZWFjaGVkXG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAvLyBUaGUgYFBlZGdhZ29jaWFsRXhjZXB0aW9uYCBpcyBwcm9wYWdhdGVkIGFsbCB0aGUgd2F5IGRvd24gdG8gaGVyZVxuICB9KTtcbiAgYGBgXG4gICBBc3NpbWlsYXRpb25cbiAgLS0tLS0tLS0tLS0tXG4gICBTb21ldGltZXMgdGhlIHZhbHVlIHlvdSB3YW50IHRvIHByb3BhZ2F0ZSB0byBhIGRvd25zdHJlYW0gcHJvbWlzZSBjYW4gb25seSBiZVxuICByZXRyaWV2ZWQgYXN5bmNocm9ub3VzbHkuIFRoaXMgY2FuIGJlIGFjaGlldmVkIGJ5IHJldHVybmluZyBhIHByb21pc2UgaW4gdGhlXG4gIGZ1bGZpbGxtZW50IG9yIHJlamVjdGlvbiBoYW5kbGVyLiBUaGUgZG93bnN0cmVhbSBwcm9taXNlIHdpbGwgdGhlbiBiZSBwZW5kaW5nXG4gIHVudGlsIHRoZSByZXR1cm5lZCBwcm9taXNlIGlzIHNldHRsZWQuIFRoaXMgaXMgY2FsbGVkICphc3NpbWlsYXRpb24qLlxuICAgYGBganNcbiAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgcmV0dXJuIGZpbmRDb21tZW50c0J5QXV0aG9yKHVzZXIpO1xuICB9KS50aGVuKGZ1bmN0aW9uIChjb21tZW50cykge1xuICAgIC8vIFRoZSB1c2VyJ3MgY29tbWVudHMgYXJlIG5vdyBhdmFpbGFibGVcbiAgfSk7XG4gIGBgYFxuICAgSWYgdGhlIGFzc2ltbGlhdGVkIHByb21pc2UgcmVqZWN0cywgdGhlbiB0aGUgZG93bnN0cmVhbSBwcm9taXNlIHdpbGwgYWxzbyByZWplY3QuXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgLy8gSWYgYGZpbmRDb21tZW50c0J5QXV0aG9yYCBmdWxmaWxscywgd2UnbGwgaGF2ZSB0aGUgdmFsdWUgaGVyZVxuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgLy8gSWYgYGZpbmRDb21tZW50c0J5QXV0aG9yYCByZWplY3RzLCB3ZSdsbCBoYXZlIHRoZSByZWFzb24gaGVyZVxuICB9KTtcbiAgYGBgXG4gICBTaW1wbGUgRXhhbXBsZVxuICAtLS0tLS0tLS0tLS0tLVxuICAgU3luY2hyb25vdXMgRXhhbXBsZVxuICAgYGBgamF2YXNjcmlwdFxuICBsZXQgcmVzdWx0O1xuICAgdHJ5IHtcbiAgICByZXN1bHQgPSBmaW5kUmVzdWx0KCk7XG4gICAgLy8gc3VjY2Vzc1xuICB9IGNhdGNoKHJlYXNvbikge1xuICAgIC8vIGZhaWx1cmVcbiAgfVxuICBgYGBcbiAgIEVycmJhY2sgRXhhbXBsZVxuICAgYGBganNcbiAgZmluZFJlc3VsdChmdW5jdGlvbihyZXN1bHQsIGVycil7XG4gICAgaWYgKGVycikge1xuICAgICAgLy8gZmFpbHVyZVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzdWNjZXNzXG4gICAgfVxuICB9KTtcbiAgYGBgXG4gICBQcm9taXNlIEV4YW1wbGU7XG4gICBgYGBqYXZhc2NyaXB0XG4gIGZpbmRSZXN1bHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgLy8gc3VjY2Vzc1xuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIGZhaWx1cmVcbiAgfSk7XG4gIGBgYFxuICAgQWR2YW5jZWQgRXhhbXBsZVxuICAtLS0tLS0tLS0tLS0tLVxuICAgU3luY2hyb25vdXMgRXhhbXBsZVxuICAgYGBgamF2YXNjcmlwdFxuICBsZXQgYXV0aG9yLCBib29rcztcbiAgIHRyeSB7XG4gICAgYXV0aG9yID0gZmluZEF1dGhvcigpO1xuICAgIGJvb2tzICA9IGZpbmRCb29rc0J5QXV0aG9yKGF1dGhvcik7XG4gICAgLy8gc3VjY2Vzc1xuICB9IGNhdGNoKHJlYXNvbikge1xuICAgIC8vIGZhaWx1cmVcbiAgfVxuICBgYGBcbiAgIEVycmJhY2sgRXhhbXBsZVxuICAgYGBganNcbiAgIGZ1bmN0aW9uIGZvdW5kQm9va3MoYm9va3MpIHtcbiAgIH1cbiAgIGZ1bmN0aW9uIGZhaWx1cmUocmVhc29uKSB7XG4gICB9XG4gICBmaW5kQXV0aG9yKGZ1bmN0aW9uKGF1dGhvciwgZXJyKXtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBmYWlsdXJlKGVycik7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfSBlbHNlIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZpbmRCb29va3NCeUF1dGhvcihhdXRob3IsIGZ1bmN0aW9uKGJvb2tzLCBlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBmYWlsdXJlKGVycik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGZvdW5kQm9va3MoYm9va3MpO1xuICAgICAgICAgICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgICAgICAgICAgZmFpbHVyZShyZWFzb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgIH1cbiAgICAgIC8vIHN1Y2Nlc3NcbiAgICB9XG4gIH0pO1xuICBgYGBcbiAgIFByb21pc2UgRXhhbXBsZTtcbiAgIGBgYGphdmFzY3JpcHRcbiAgZmluZEF1dGhvcigpLlxuICAgIHRoZW4oZmluZEJvb2tzQnlBdXRob3IpLlxuICAgIHRoZW4oZnVuY3Rpb24oYm9va3Mpe1xuICAgICAgLy8gZm91bmQgYm9va3NcbiAgfSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICB9KTtcbiAgYGBgXG4gICBAbWV0aG9kIHRoZW5cbiAgQHBhcmFtIHtGdW5jdGlvbn0gb25GdWxmaWxsZWRcbiAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3RlZFxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG5cbiAgLyoqXG4gIGBjYXRjaGAgaXMgc2ltcGx5IHN1Z2FyIGZvciBgdGhlbih1bmRlZmluZWQsIG9uUmVqZWN0aW9uKWAgd2hpY2ggbWFrZXMgaXQgdGhlIHNhbWVcbiAgYXMgdGhlIGNhdGNoIGJsb2NrIG9mIGEgdHJ5L2NhdGNoIHN0YXRlbWVudC5cbiAgYGBganNcbiAgZnVuY3Rpb24gZmluZEF1dGhvcigpe1xuICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkbid0IGZpbmQgdGhhdCBhdXRob3InKTtcbiAgfVxuICAvLyBzeW5jaHJvbm91c1xuICB0cnkge1xuICBmaW5kQXV0aG9yKCk7XG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gIH1cbiAgLy8gYXN5bmMgd2l0aCBwcm9taXNlc1xuICBmaW5kQXV0aG9yKCkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtcbiAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgfSk7XG4gIGBgYFxuICBAbWV0aG9kIGNhdGNoXG4gIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVqZWN0aW9uXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX1cbiAgKi9cblxuXG4gIFByb21pc2UucHJvdG90eXBlLmNhdGNoID0gZnVuY3Rpb24gX2NhdGNoKG9uUmVqZWN0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGlvbik7XG4gIH07XG5cbiAgLyoqXG4gICAgYGZpbmFsbHlgIHdpbGwgYmUgaW52b2tlZCByZWdhcmRsZXNzIG9mIHRoZSBwcm9taXNlJ3MgZmF0ZSBqdXN0IGFzIG5hdGl2ZVxuICAgIHRyeS9jYXRjaC9maW5hbGx5IGJlaGF2ZXNcbiAgXG4gICAgU3luY2hyb25vdXMgZXhhbXBsZTpcbiAgXG4gICAgYGBganNcbiAgICBmaW5kQXV0aG9yKCkge1xuICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEF1dGhvcigpO1xuICAgIH1cbiAgXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmaW5kQXV0aG9yKCk7IC8vIHN1Y2NlZWQgb3IgZmFpbFxuICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgIHJldHVybiBmaW5kT3RoZXJBdXRoZXIoKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgLy8gYWx3YXlzIHJ1bnNcbiAgICAgIC8vIGRvZXNuJ3QgYWZmZWN0IHRoZSByZXR1cm4gdmFsdWVcbiAgICB9XG4gICAgYGBgXG4gIFxuICAgIEFzeW5jaHJvbm91cyBleGFtcGxlOlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRBdXRob3IoKS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgICAgcmV0dXJuIGZpbmRPdGhlckF1dGhlcigpO1xuICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKXtcbiAgICAgIC8vIGF1dGhvciB3YXMgZWl0aGVyIGZvdW5kLCBvciBub3RcbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgQG1ldGhvZCBmaW5hbGx5XG4gICAgQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICBAcmV0dXJuIHtQcm9taXNlfVxuICAqL1xuXG5cbiAgUHJvbWlzZS5wcm90b3R5cGUuZmluYWxseSA9IGZ1bmN0aW9uIF9maW5hbGx5KGNhbGxiYWNrKSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzO1xuICAgIHZhciBjb25zdHJ1Y3RvciA9IHByb21pc2UuY29uc3RydWN0b3I7XG5cbiAgICBpZiAoaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRocm93IHJlYXNvbjtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKGNhbGxiYWNrLCBjYWxsYmFjayk7XG4gIH07XG5cbiAgcmV0dXJuIFByb21pc2U7XG59KCk7XG5cblByb21pc2UkMS5wcm90b3R5cGUudGhlbiA9IHRoZW47XG5Qcm9taXNlJDEuYWxsID0gYWxsO1xuUHJvbWlzZSQxLnJhY2UgPSByYWNlO1xuUHJvbWlzZSQxLnJlc29sdmUgPSByZXNvbHZlJDE7XG5Qcm9taXNlJDEucmVqZWN0ID0gcmVqZWN0JDE7XG5Qcm9taXNlJDEuX3NldFNjaGVkdWxlciA9IHNldFNjaGVkdWxlcjtcblByb21pc2UkMS5fc2V0QXNhcCA9IHNldEFzYXA7XG5Qcm9taXNlJDEuX2FzYXAgPSBhc2FwO1xuXG4vKmdsb2JhbCBzZWxmKi9cbmZ1bmN0aW9uIHBvbHlmaWxsKCkge1xuICB2YXIgbG9jYWwgPSB2b2lkIDA7XG5cbiAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBnbG9iYWw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBzZWxmO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2x5ZmlsbCBmYWlsZWQgYmVjYXVzZSBnbG9iYWwgb2JqZWN0IGlzIHVuYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICB9XG4gIH1cblxuICB2YXIgUCA9IGxvY2FsLlByb21pc2U7XG5cbiAgaWYgKFApIHtcbiAgICB2YXIgcHJvbWlzZVRvU3RyaW5nID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgcHJvbWlzZVRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFAucmVzb2x2ZSgpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBzaWxlbnRseSBpZ25vcmVkXG4gICAgfVxuXG4gICAgaWYgKHByb21pc2VUb1N0cmluZyA9PT0gJ1tvYmplY3QgUHJvbWlzZV0nICYmICFQLmNhc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBsb2NhbC5Qcm9taXNlID0gUHJvbWlzZSQxO1xufVxuXG4vLyBTdHJhbmdlIGNvbXBhdC4uXG5Qcm9taXNlJDEucG9seWZpbGwgPSBwb2x5ZmlsbDtcblByb21pc2UkMS5Qcm9taXNlID0gUHJvbWlzZSQxO1xuXG5yZXR1cm4gUHJvbWlzZSQxO1xuXG59KSkpO1xuXG5cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXM2LXByb21pc2UubWFwXG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUiA9IHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyA/IFJlZmxlY3QgOiBudWxsXG52YXIgUmVmbGVjdEFwcGx5ID0gUiAmJiB0eXBlb2YgUi5hcHBseSA9PT0gJ2Z1bmN0aW9uJ1xuICA/IFIuYXBwbHlcbiAgOiBmdW5jdGlvbiBSZWZsZWN0QXBwbHkodGFyZ2V0LCByZWNlaXZlciwgYXJncykge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKTtcbiAgfVxuXG52YXIgUmVmbGVjdE93bktleXNcbmlmIChSICYmIHR5cGVvZiBSLm93bktleXMgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVmbGVjdE93bktleXMgPSBSLm93bktleXNcbn0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpXG4gICAgICAuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSk7XG4gIH07XG59IGVsc2Uge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBQcm9jZXNzRW1pdFdhcm5pbmcod2FybmluZykge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbn1cblxudmFyIE51bWJlcklzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIE51bWJlcklzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xubW9kdWxlLmV4cG9ydHMub25jZSA9IG9uY2U7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzQ291bnQgPSAwO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG52YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG5mdW5jdGlvbiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRFbWl0dGVyLCAnZGVmYXVsdE1heExpc3RlbmVycycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1heExpc3RlbmVycztcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ251bWJlcicgfHwgYXJnIDwgMCB8fCBOdW1iZXJJc05hTihhcmcpKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBhcmcgKyAnLicpO1xuICAgIH1cbiAgICBkZWZhdWx0TWF4TGlzdGVuZXJzID0gYXJnO1xuICB9XG59KTtcblxuRXZlbnRFbWl0dGVyLmluaXQgPSBmdW5jdGlvbigpIHtcblxuICBpZiAodGhpcy5fZXZlbnRzID09PSB1bmRlZmluZWQgfHxcbiAgICAgIHRoaXMuX2V2ZW50cyA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpIHtcbiAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59O1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMobikge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IE51bWJlcklzTmFOKG4pKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgbiArICcuJyk7XG4gIH1cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBfZ2V0TWF4TGlzdGVuZXJzKHRoYXQpIHtcbiAgaWYgKHRoYXQuX21heExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgcmV0dXJuIHRoYXQuX21heExpc3RlbmVycztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdCh0eXBlKSB7XG4gIHZhciBhcmdzID0gW107XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgdmFyIGRvRXJyb3IgPSAodHlwZSA9PT0gJ2Vycm9yJyk7XG5cbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKVxuICAgIGRvRXJyb3IgPSAoZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT09IHVuZGVmaW5lZCk7XG4gIGVsc2UgaWYgKCFkb0Vycm9yKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmIChkb0Vycm9yKSB7XG4gICAgdmFyIGVyO1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDApXG4gICAgICBlciA9IGFyZ3NbMF07XG4gICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIC8vIE5vdGU6IFRoZSBjb21tZW50cyBvbiB0aGUgYHRocm93YCBsaW5lcyBhcmUgaW50ZW50aW9uYWwsIHRoZXkgc2hvd1xuICAgICAgLy8gdXAgaW4gTm9kZSdzIG91dHB1dCBpZiB0aGlzIHJlc3VsdHMgaW4gYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbi5cbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH1cbiAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5oYW5kbGVkIGVycm9yLicgKyAoZXIgPyAnICgnICsgZXIubWVzc2FnZSArICcpJyA6ICcnKSk7XG4gICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICB0aHJvdyBlcnI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gIH1cblxuICB2YXIgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBSZWZsZWN0QXBwbHkoaGFuZGxlciwgdGhpcywgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIFJlZmxlY3RBcHBseShsaXN0ZW5lcnNbaV0sIHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCkge1xuICB2YXIgbTtcbiAgdmFyIGV2ZW50cztcbiAgdmFyIGV4aXN0aW5nO1xuXG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0YXJnZXQuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgPyBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICAgICAgLy8gUmUtYXNzaWduIGBldmVudHNgIGJlY2F1c2UgYSBuZXdMaXN0ZW5lciBoYW5kbGVyIGNvdWxkIGhhdmUgY2F1c2VkIHRoZVxuICAgICAgLy8gdGhpcy5fZXZlbnRzIHRvIGJlIGFzc2lnbmVkIHRvIGEgbmV3IG9iamVjdFxuICAgICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gICAgfVxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdO1xuICB9XG5cbiAgaWYgKGV4aXN0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgICsrdGFyZ2V0Ll9ldmVudHNDb3VudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID1cbiAgICAgICAgcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDogW2V4aXN0aW5nLCBsaXN0ZW5lcl07XG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgfSBlbHNlIGlmIChwcmVwZW5kKSB7XG4gICAgICBleGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBtID0gX2dldE1heExpc3RlbmVycyh0YXJnZXQpO1xuICAgIGlmIChtID4gMCAmJiBleGlzdGluZy5sZW5ndGggPiBtICYmICFleGlzdGluZy53YXJuZWQpIHtcbiAgICAgIGV4aXN0aW5nLndhcm5lZCA9IHRydWU7XG4gICAgICAvLyBObyBlcnJvciBjb2RlIGZvciB0aGlzIHNpbmNlIGl0IGlzIGEgV2FybmluZ1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICB2YXIgdyA9IG5ldyBFcnJvcignUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcubGVuZ3RoICsgJyAnICsgU3RyaW5nKHR5cGUpICsgJyBsaXN0ZW5lcnMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNyZWFzZSBsaW1pdCcpO1xuICAgICAgdy5uYW1lID0gJ01heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyc7XG4gICAgICB3LmVtaXR0ZXIgPSB0YXJnZXQ7XG4gICAgICB3LnR5cGUgPSB0eXBlO1xuICAgICAgdy5jb3VudCA9IGV4aXN0aW5nLmxlbmd0aDtcbiAgICAgIFByb2Nlc3NFbWl0V2FybmluZyh3KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG5cbmZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICBpZiAoIXRoaXMuZmlyZWQpIHtcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTtcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LCBhcmd1bWVudHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IG9uY2VXcmFwcGVyLmJpbmQoc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbi8vIEVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZiBhbmQgb25seSBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7XG5cbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgICAgaWYgKGxpc3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fCBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdC5saXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcG9zaXRpb24gPSAtMTtcblxuICAgICAgICBmb3IgKGkgPSBsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8IGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBvcmlnaW5hbExpc3RlbmVyID0gbGlzdFtpXS5saXN0ZW5lcjtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAwKVxuICAgICAgICAgIGxpc3Quc2hpZnQoKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc3BsaWNlT25lKGxpc3QsIHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICBldmVudHNbdHlwZV0gPSBsaXN0WzBdO1xuXG4gICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgb3JpZ2luYWxMaXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHMsIGk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhldmVudHMpO1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXJzID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gICAgICB9IGVsc2UgaWYgKGxpc3RlbmVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIExJRk8gb3JkZXJcbiAgICAgICAgZm9yIChpID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbmZ1bmN0aW9uIF9saXN0ZW5lcnModGFyZ2V0LCB0eXBlLCB1bndyYXApIHtcbiAgdmFyIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG4gIGlmIChldmxpc3RlbmVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJylcbiAgICByZXR1cm4gdW53cmFwID8gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl0gOiBbZXZsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHVud3JhcCA/XG4gICAgdW53cmFwTGlzdGVuZXJzKGV2bGlzdGVuZXIpIDogYXJyYXlDbG9uZShldmxpc3RlbmVyLCBldmxpc3RlbmVyLmxlbmd0aCk7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgdHJ1ZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJhd0xpc3RlbmVycyA9IGZ1bmN0aW9uIHJhd0xpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIubGlzdGVuZXJDb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLCB0eXBlKTtcbiAgfVxufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gbGlzdGVuZXJDb3VudDtcbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQodHlwZSkge1xuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGV2bGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gUmVmbGVjdE93bktleXModGhpcy5fZXZlbnRzKSA6IFtdO1xufTtcblxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsIG4pIHtcbiAgdmFyIGNvcHkgPSBuZXcgQXJyYXkobik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKVxuICAgIGNvcHlbaV0gPSBhcnJbaV07XG4gIHJldHVybiBjb3B5O1xufVxuXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICg7IGluZGV4ICsgMSA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKVxuICAgIGxpc3RbaW5kZXhdID0gbGlzdFtpbmRleCArIDFdO1xuICBsaXN0LnBvcCgpO1xufVxuXG5mdW5jdGlvbiB1bndyYXBMaXN0ZW5lcnMoYXJyKSB7XG4gIHZhciByZXQgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgKytpKSB7XG4gICAgcmV0W2ldID0gYXJyW2ldLmxpc3RlbmVyIHx8IGFycltpXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBvbmNlKGVtaXR0ZXIsIG5hbWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBlcnJvckxpc3RlbmVyKGVycikge1xuICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihuYW1lLCByZXNvbHZlcik7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlcigpIHtcbiAgICAgIGlmICh0eXBlb2YgZW1pdHRlci5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgIH07XG5cbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgbmFtZSwgcmVzb2x2ZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICBpZiAobmFtZSAhPT0gJ2Vycm9yJykge1xuICAgICAgYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgZXJyb3JMaXN0ZW5lciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGhhbmRsZXIsIGZsYWdzKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCAnZXJyb3InLCBoYW5kbGVyLCBmbGFncyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIGxpc3RlbmVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgZW1pdHRlci5vbmNlKG5hbWUsIGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW1pdHRlci5vbihuYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBFdmVudFRhcmdldCBkb2VzIG5vdCBoYXZlIGBlcnJvcmAgZXZlbnQgc2VtYW50aWNzIGxpa2UgTm9kZVxuICAgIC8vIEV2ZW50RW1pdHRlcnMsIHdlIGRvIG5vdCBsaXN0ZW4gZm9yIGBlcnJvcmAgZXZlbnRzIGhlcmUuXG4gICAgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGZ1bmN0aW9uIHdyYXBMaXN0ZW5lcihhcmcpIHtcbiAgICAgIC8vIElFIGRvZXMgbm90IGhhdmUgYnVpbHRpbiBgeyBvbmNlOiB0cnVlIH1gIHN1cHBvcnQgc28gd2VcbiAgICAgIC8vIGhhdmUgdG8gZG8gaXQgbWFudWFsbHkuXG4gICAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgd3JhcExpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIGxpc3RlbmVyKGFyZyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBlbWl0dGVyKTtcbiAgfVxufVxuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsInZhciBidW5kbGVGbiA9IGFyZ3VtZW50c1szXTtcbnZhciBzb3VyY2VzID0gYXJndW1lbnRzWzRdO1xudmFyIGNhY2hlID0gYXJndW1lbnRzWzVdO1xuXG52YXIgc3RyaW5naWZ5ID0gSlNPTi5zdHJpbmdpZnk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGZuLCBvcHRpb25zKSB7XG4gICAgdmFyIHdrZXk7XG4gICAgdmFyIGNhY2hlS2V5cyA9IE9iamVjdC5rZXlzKGNhY2hlKTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2FjaGVLZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIga2V5ID0gY2FjaGVLZXlzW2ldO1xuICAgICAgICB2YXIgZXhwID0gY2FjaGVba2V5XS5leHBvcnRzO1xuICAgICAgICAvLyBVc2luZyBiYWJlbCBhcyBhIHRyYW5zcGlsZXIgdG8gdXNlIGVzbW9kdWxlLCB0aGUgZXhwb3J0IHdpbGwgYWx3YXlzXG4gICAgICAgIC8vIGJlIGFuIG9iamVjdCB3aXRoIHRoZSBkZWZhdWx0IGV4cG9ydCBhcyBhIHByb3BlcnR5IG9mIGl0LiBUbyBlbnN1cmVcbiAgICAgICAgLy8gdGhlIGV4aXN0aW5nIGFwaSBhbmQgYmFiZWwgZXNtb2R1bGUgZXhwb3J0cyBhcmUgYm90aCBzdXBwb3J0ZWQgd2VcbiAgICAgICAgLy8gY2hlY2sgZm9yIGJvdGhcbiAgICAgICAgaWYgKGV4cCA9PT0gZm4gfHwgZXhwICYmIGV4cC5kZWZhdWx0ID09PSBmbikge1xuICAgICAgICAgICAgd2tleSA9IGtleTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF3a2V5KSB7XG4gICAgICAgIHdrZXkgPSBNYXRoLmZsb29yKE1hdGgucG93KDE2LCA4KSAqIE1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgdmFyIHdjYWNoZSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNhY2hlS2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBjYWNoZUtleXNbaV07XG4gICAgICAgICAgICB3Y2FjaGVba2V5XSA9IGtleTtcbiAgICAgICAgfVxuICAgICAgICBzb3VyY2VzW3drZXldID0gW1xuICAgICAgICAgICAgJ2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeycgKyBmbiArICcoc2VsZik7IH0nLFxuICAgICAgICAgICAgd2NhY2hlXG4gICAgICAgIF07XG4gICAgfVxuICAgIHZhciBza2V5ID0gTWF0aC5mbG9vcihNYXRoLnBvdygxNiwgOCkgKiBNYXRoLnJhbmRvbSgpKS50b1N0cmluZygxNik7XG5cbiAgICB2YXIgc2NhY2hlID0ge307IHNjYWNoZVt3a2V5XSA9IHdrZXk7XG4gICAgc291cmNlc1tza2V5XSA9IFtcbiAgICAgICAgJ2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeycgK1xuICAgICAgICAgICAgLy8gdHJ5IHRvIGNhbGwgZGVmYXVsdCBpZiBkZWZpbmVkIHRvIGFsc28gc3VwcG9ydCBiYWJlbCBlc21vZHVsZSBleHBvcnRzXG4gICAgICAgICAgICAndmFyIGYgPSByZXF1aXJlKCcgKyBzdHJpbmdpZnkod2tleSkgKyAnKTsnICtcbiAgICAgICAgICAgICcoZi5kZWZhdWx0ID8gZi5kZWZhdWx0IDogZikoc2VsZik7JyArXG4gICAgICAgICd9JyxcbiAgICAgICAgc2NhY2hlXG4gICAgXTtcblxuICAgIHZhciB3b3JrZXJTb3VyY2VzID0ge307XG4gICAgcmVzb2x2ZVNvdXJjZXMoc2tleSk7XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlU291cmNlcyhrZXkpIHtcbiAgICAgICAgd29ya2VyU291cmNlc1trZXldID0gdHJ1ZTtcblxuICAgICAgICBmb3IgKHZhciBkZXBQYXRoIGluIHNvdXJjZXNba2V5XVsxXSkge1xuICAgICAgICAgICAgdmFyIGRlcEtleSA9IHNvdXJjZXNba2V5XVsxXVtkZXBQYXRoXTtcbiAgICAgICAgICAgIGlmICghd29ya2VyU291cmNlc1tkZXBLZXldKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZVNvdXJjZXMoZGVwS2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBzcmMgPSAnKCcgKyBidW5kbGVGbiArICcpKHsnXG4gICAgICAgICsgT2JqZWN0LmtleXMod29ya2VyU291cmNlcykubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmdpZnkoa2V5KSArICc6WydcbiAgICAgICAgICAgICAgICArIHNvdXJjZXNba2V5XVswXVxuICAgICAgICAgICAgICAgICsgJywnICsgc3RyaW5naWZ5KHNvdXJjZXNba2V5XVsxXSkgKyAnXSdcbiAgICAgICAgICAgIDtcbiAgICAgICAgfSkuam9pbignLCcpXG4gICAgICAgICsgJ30se30sWycgKyBzdHJpbmdpZnkoc2tleSkgKyAnXSknXG4gICAgO1xuXG4gICAgdmFyIFVSTCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTCB8fCB3aW5kb3cubW96VVJMIHx8IHdpbmRvdy5tc1VSTDtcblxuICAgIHZhciBibG9iID0gbmV3IEJsb2IoW3NyY10sIHsgdHlwZTogJ3RleHQvamF2YXNjcmlwdCcgfSk7XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5iYXJlKSB7IHJldHVybiBibG9iOyB9XG4gICAgdmFyIHdvcmtlclVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgdmFyIHdvcmtlciA9IG5ldyBXb3JrZXIod29ya2VyVXJsKTtcbiAgICB3b3JrZXIub2JqZWN0VVJMID0gd29ya2VyVXJsO1xuICAgIHJldHVybiB3b3JrZXI7XG59O1xuIiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0Q29uZmlnID0ge1xuICAgIGVuYWJsZVdvcmtlcjogZmFsc2UsXG4gICAgZW5hYmxlU3Rhc2hCdWZmZXI6IHRydWUsXG4gICAgc3Rhc2hJbml0aWFsU2l6ZTogdW5kZWZpbmVkLFxuXG4gICAgaXNMaXZlOiBmYWxzZSxcblxuICAgIGxhenlMb2FkOiB0cnVlLFxuICAgIGxhenlMb2FkTWF4RHVyYXRpb246IDMgKiA2MCxcbiAgICBsYXp5TG9hZFJlY292ZXJEdXJhdGlvbjogMzAsXG4gICAgZGVmZXJMb2FkQWZ0ZXJTb3VyY2VPcGVuOiB0cnVlLFxuXG4gICAgLy8gYXV0b0NsZWFudXBTb3VyY2VCdWZmZXI6IGRlZmF1bHQgYXMgZmFsc2UsIGxlYXZlIHVuc3BlY2lmaWVkXG4gICAgYXV0b0NsZWFudXBNYXhCYWNrd2FyZER1cmF0aW9uOiAzICogNjAsXG4gICAgYXV0b0NsZWFudXBNaW5CYWNrd2FyZER1cmF0aW9uOiAyICogNjAsXG5cbiAgICBzdGF0aXN0aWNzSW5mb1JlcG9ydEludGVydmFsOiA2MDAsXG5cbiAgICBmaXhBdWRpb1RpbWVzdGFtcEdhcDogdHJ1ZSxcblxuICAgIGFjY3VyYXRlU2VlazogZmFsc2UsXG4gICAgc2Vla1R5cGU6ICdyYW5nZScsICAvLyBbcmFuZ2UsIHBhcmFtLCBjdXN0b21dXG4gICAgc2Vla1BhcmFtU3RhcnQ6ICdic3RhcnQnLFxuICAgIHNlZWtQYXJhbUVuZDogJ2JlbmQnLFxuICAgIHJhbmdlTG9hZFplcm9TdGFydDogZmFsc2UsXG4gICAgY3VzdG9tU2Vla0hhbmRsZXI6IHVuZGVmaW5lZCxcbiAgICByZXVzZVJlZGlyZWN0ZWRVUkw6IGZhbHNlXG4gICAgLy8gcmVmZXJyZXJQb2xpY3k6IGxlYXZlIGFzIHVuc3BlY2lmaWVkXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGVmYXVsdENvbmZpZygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdENvbmZpZyk7XG59IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBJT0NvbnRyb2xsZXIgZnJvbSAnLi4vaW8vaW8tY29udHJvbGxlci5qcyc7XG5pbXBvcnQge2NyZWF0ZURlZmF1bHRDb25maWd9IGZyb20gJy4uL2NvbmZpZy5qcyc7XG5cbmNsYXNzIEZlYXR1cmVzIHtcblxuICAgIHN0YXRpYyBzdXBwb3J0TVNFSDI2NFBsYXliYWNrKCkge1xuICAgICAgICByZXR1cm4gd2luZG93Lk1lZGlhU291cmNlICYmXG4gICAgICAgICAgICAgICB3aW5kb3cuTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKCd2aWRlby9tcDQ7IGNvZGVjcz1cImF2YzEuNDJFMDFFLG1wNGEuNDAuMlwiJyk7XG4gICAgfVxuXG4gICAgc3RhdGljIHN1cHBvcnROZXR3b3JrU3RyZWFtSU8oKSB7XG4gICAgICAgIGxldCBpb2N0bCA9IG5ldyBJT0NvbnRyb2xsZXIoe30sIGNyZWF0ZURlZmF1bHRDb25maWcoKSk7XG4gICAgICAgIGxldCBsb2FkZXJUeXBlID0gaW9jdGwubG9hZGVyVHlwZTtcbiAgICAgICAgaW9jdGwuZGVzdHJveSgpO1xuICAgICAgICByZXR1cm4gbG9hZGVyVHlwZSA9PSAnZmV0Y2gtc3RyZWFtLWxvYWRlcicgfHwgbG9hZGVyVHlwZSA9PSAneGhyLW1vei1jaHVua2VkLWxvYWRlcic7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldE5ldHdvcmtMb2FkZXJUeXBlTmFtZSgpIHtcbiAgICAgICAgbGV0IGlvY3RsID0gbmV3IElPQ29udHJvbGxlcih7fSwgY3JlYXRlRGVmYXVsdENvbmZpZygpKTtcbiAgICAgICAgbGV0IGxvYWRlclR5cGUgPSBpb2N0bC5sb2FkZXJUeXBlO1xuICAgICAgICBpb2N0bC5kZXN0cm95KCk7XG4gICAgICAgIHJldHVybiBsb2FkZXJUeXBlO1xuICAgIH1cblxuICAgIHN0YXRpYyBzdXBwb3J0TmF0aXZlTWVkaWFQbGF5YmFjayhtaW1lVHlwZSkge1xuICAgICAgICBpZiAoRmVhdHVyZXMudmlkZW9FbGVtZW50ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgRmVhdHVyZXMudmlkZW9FbGVtZW50ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNhblBsYXkgPSBGZWF0dXJlcy52aWRlb0VsZW1lbnQuY2FuUGxheVR5cGUobWltZVR5cGUpO1xuICAgICAgICByZXR1cm4gY2FuUGxheSA9PT0gJ3Byb2JhYmx5JyB8fCBjYW5QbGF5ID09ICdtYXliZSc7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldEZlYXR1cmVMaXN0KCkge1xuICAgICAgICBsZXQgZmVhdHVyZXMgPSB7XG4gICAgICAgICAgICBtc2VGbHZQbGF5YmFjazogZmFsc2UsXG4gICAgICAgICAgICBtc2VMaXZlRmx2UGxheWJhY2s6IGZhbHNlLFxuICAgICAgICAgICAgbmV0d29ya1N0cmVhbUlPOiBmYWxzZSxcbiAgICAgICAgICAgIG5ldHdvcmtMb2FkZXJOYW1lOiAnJyxcbiAgICAgICAgICAgIG5hdGl2ZU1QNEgyNjRQbGF5YmFjazogZmFsc2UsXG4gICAgICAgICAgICBuYXRpdmVXZWJtVlA4UGxheWJhY2s6IGZhbHNlLFxuICAgICAgICAgICAgbmF0aXZlV2VibVZQOVBsYXliYWNrOiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIGZlYXR1cmVzLm1zZUZsdlBsYXliYWNrID0gRmVhdHVyZXMuc3VwcG9ydE1TRUgyNjRQbGF5YmFjaygpO1xuICAgICAgICBmZWF0dXJlcy5uZXR3b3JrU3RyZWFtSU8gPSBGZWF0dXJlcy5zdXBwb3J0TmV0d29ya1N0cmVhbUlPKCk7XG4gICAgICAgIGZlYXR1cmVzLm5ldHdvcmtMb2FkZXJOYW1lID0gRmVhdHVyZXMuZ2V0TmV0d29ya0xvYWRlclR5cGVOYW1lKCk7XG4gICAgICAgIGZlYXR1cmVzLm1zZUxpdmVGbHZQbGF5YmFjayA9IGZlYXR1cmVzLm1zZUZsdlBsYXliYWNrICYmIGZlYXR1cmVzLm5ldHdvcmtTdHJlYW1JTztcbiAgICAgICAgZmVhdHVyZXMubmF0aXZlTVA0SDI2NFBsYXliYWNrID0gRmVhdHVyZXMuc3VwcG9ydE5hdGl2ZU1lZGlhUGxheWJhY2soJ3ZpZGVvL21wNDsgY29kZWNzPVwiYXZjMS40MjAwMUUsIG1wNGEuNDAuMlwiJyk7XG4gICAgICAgIGZlYXR1cmVzLm5hdGl2ZVdlYm1WUDhQbGF5YmFjayA9IEZlYXR1cmVzLnN1cHBvcnROYXRpdmVNZWRpYVBsYXliYWNrKCd2aWRlby93ZWJtOyBjb2RlY3M9XCJ2cDguMCwgdm9yYmlzXCInKTtcbiAgICAgICAgZmVhdHVyZXMubmF0aXZlV2VibVZQOVBsYXliYWNrID0gRmVhdHVyZXMuc3VwcG9ydE5hdGl2ZU1lZGlhUGxheWJhY2soJ3ZpZGVvL3dlYm07IGNvZGVjcz1cInZwOVwiJyk7XG5cbiAgICAgICAgcmV0dXJuIGZlYXR1cmVzO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBGZWF0dXJlczsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuY2xhc3MgTWVkaWFJbmZvIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1pbWVUeXBlID0gbnVsbDtcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5oYXNBdWRpbyA9IG51bGw7XG4gICAgICAgIHRoaXMuaGFzVmlkZW8gPSBudWxsO1xuICAgICAgICB0aGlzLmF1ZGlvQ29kZWMgPSBudWxsO1xuICAgICAgICB0aGlzLnZpZGVvQ29kZWMgPSBudWxsO1xuICAgICAgICB0aGlzLmF1ZGlvRGF0YVJhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLnZpZGVvRGF0YVJhdGUgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuYXVkaW9TYW1wbGVSYXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5hdWRpb0NoYW5uZWxDb3VudCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy53aWR0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5mcHMgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2ZpbGUgPSBudWxsO1xuICAgICAgICB0aGlzLmxldmVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZWZGcmFtZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmNocm9tYUZvcm1hdCA9IG51bGw7XG4gICAgICAgIHRoaXMuc2FyTnVtID0gbnVsbDtcbiAgICAgICAgdGhpcy5zYXJEZW4gPSBudWxsO1xuXG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnNlZ21lbnRzID0gbnVsbDsgIC8vIE1lZGlhSW5mb1tdXG4gICAgICAgIHRoaXMuc2VnbWVudENvdW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5oYXNLZXlmcmFtZXNJbmRleCA9IG51bGw7XG4gICAgICAgIHRoaXMua2V5ZnJhbWVzSW5kZXggPSBudWxsO1xuICAgIH1cblxuICAgIGlzQ29tcGxldGUoKSB7XG4gICAgICAgIGxldCBhdWRpb0luZm9Db21wbGV0ZSA9ICh0aGlzLmhhc0F1ZGlvID09PSBmYWxzZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuaGFzQXVkaW8gPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9Db2RlYyAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvU2FtcGxlUmF0ZSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvQ2hhbm5lbENvdW50ICE9IG51bGwpO1xuXG4gICAgICAgIGxldCB2aWRlb0luZm9Db21wbGV0ZSA9ICh0aGlzLmhhc1ZpZGVvID09PSBmYWxzZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuaGFzVmlkZW8gPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlkZW9Db2RlYyAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndpZHRoICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0ICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnBzICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZmlsZSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVmRnJhbWVzICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hyb21hRm9ybWF0ICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2FyTnVtICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2FyRGVuICE9IG51bGwpO1xuXG4gICAgICAgIC8vIGtleWZyYW1lc0luZGV4IG1heSBub3QgYmUgcHJlc2VudFxuICAgICAgICByZXR1cm4gdGhpcy5taW1lVHlwZSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICB0aGlzLmR1cmF0aW9uICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgdGhpcy5oYXNLZXlmcmFtZXNJbmRleCAhPSBudWxsICYmXG4gICAgICAgICAgICAgICBhdWRpb0luZm9Db21wbGV0ZSAmJlxuICAgICAgICAgICAgICAgdmlkZW9JbmZvQ29tcGxldGU7XG4gICAgfVxuXG4gICAgaXNTZWVrYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzS2V5ZnJhbWVzSW5kZXggPT09IHRydWU7XG4gICAgfVxuXG4gICAgZ2V0TmVhcmVzdEtleWZyYW1lKG1pbGxpc2Vjb25kcykge1xuICAgICAgICBpZiAodGhpcy5rZXlmcmFtZXNJbmRleCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0YWJsZSA9IHRoaXMua2V5ZnJhbWVzSW5kZXg7XG4gICAgICAgIGxldCBrZXlmcmFtZUlkeCA9IHRoaXMuX3NlYXJjaCh0YWJsZS50aW1lcywgbWlsbGlzZWNvbmRzKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5kZXg6IGtleWZyYW1lSWR4LFxuICAgICAgICAgICAgbWlsbGlzZWNvbmRzOiB0YWJsZS50aW1lc1trZXlmcmFtZUlkeF0sXG4gICAgICAgICAgICBmaWxlcG9zaXRpb246IHRhYmxlLmZpbGVwb3NpdGlvbnNba2V5ZnJhbWVJZHhdXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX3NlYXJjaChsaXN0LCB2YWx1ZSkge1xuICAgICAgICBsZXQgaWR4ID0gMDtcblxuICAgICAgICBsZXQgbGFzdCA9IGxpc3QubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IG1pZCA9IDA7XG4gICAgICAgIGxldCBsYm91bmQgPSAwO1xuICAgICAgICBsZXQgdWJvdW5kID0gbGFzdDtcblxuICAgICAgICBpZiAodmFsdWUgPCBsaXN0WzBdKSB7XG4gICAgICAgICAgICBpZHggPSAwO1xuICAgICAgICAgICAgbGJvdW5kID0gdWJvdW5kICsgMTsgIC8vIHNraXAgc2VhcmNoXG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAobGJvdW5kIDw9IHVib3VuZCkge1xuICAgICAgICAgICAgbWlkID0gbGJvdW5kICsgTWF0aC5mbG9vcigodWJvdW5kIC0gbGJvdW5kKSAvIDIpO1xuICAgICAgICAgICAgaWYgKG1pZCA9PT0gbGFzdCB8fCAodmFsdWUgPj0gbGlzdFttaWRdICYmIHZhbHVlIDwgbGlzdFttaWQgKyAxXSkpIHtcbiAgICAgICAgICAgICAgICBpZHggPSBtaWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxpc3RbbWlkXSA8IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbGJvdW5kID0gbWlkICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdWJvdW5kID0gbWlkIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpZHg7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IE1lZGlhSW5mbzsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLy8gUmVwcmVzZW50cyBhbiBtZWRpYSBzYW1wbGUgKGF1ZGlvIC8gdmlkZW8pXG5leHBvcnQgY2xhc3MgU2FtcGxlSW5mbyB7XG5cbiAgICBjb25zdHJ1Y3RvcihkdHMsIHB0cywgZHVyYXRpb24sIG9yaWdpbmFsRHRzLCBpc1N5bmMpIHtcbiAgICAgICAgdGhpcy5kdHMgPSBkdHM7XG4gICAgICAgIHRoaXMucHRzID0gcHRzO1xuICAgICAgICB0aGlzLmR1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICAgIHRoaXMub3JpZ2luYWxEdHMgPSBvcmlnaW5hbER0cztcbiAgICAgICAgdGhpcy5pc1N5bmNQb2ludCA9IGlzU3luYztcbiAgICAgICAgdGhpcy5maWxlcG9zaXRpb24gPSBudWxsO1xuICAgIH1cblxufVxuXG4vLyBNZWRpYSBTZWdtZW50IGNvbmNlcHQgaXMgZGVmaW5lZCBpbiBNZWRpYSBTb3VyY2UgRXh0ZW5zaW9ucyBzcGVjLlxuLy8gUGFydGljdWxhcmx5IGluIElTTyBCTUZGIGZvcm1hdCwgYW4gTWVkaWEgU2VnbWVudCBjb250YWlucyBhIG1vb2YgYm94IGZvbGxvd2VkIGJ5IGEgbWRhdCBib3guXG5leHBvcnQgY2xhc3MgTWVkaWFTZWdtZW50SW5mbyB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5iZWdpbkR0cyA9IDA7XG4gICAgICAgIHRoaXMuZW5kRHRzID0gMDtcbiAgICAgICAgdGhpcy5iZWdpblB0cyA9IDA7XG4gICAgICAgIHRoaXMuZW5kUHRzID0gMDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEJlZ2luRHRzID0gMDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEVuZER0cyA9IDA7XG4gICAgICAgIHRoaXMuc3luY1BvaW50cyA9IFtdOyAgICAgLy8gU2FtcGxlSW5mb1tuXSwgZm9yIHZpZGVvIElEUiBmcmFtZXMgb25seVxuICAgICAgICB0aGlzLmZpcnN0U2FtcGxlID0gbnVsbDsgIC8vIFNhbXBsZUluZm9cbiAgICAgICAgdGhpcy5sYXN0U2FtcGxlID0gbnVsbDsgICAvLyBTYW1wbGVJbmZvXG4gICAgfVxuXG4gICAgYXBwZW5kU3luY1BvaW50KHNhbXBsZUluZm8pIHsgIC8vIGFsc28gY2FsbGVkIFJhbmRvbSBBY2Nlc3MgUG9pbnRcbiAgICAgICAgc2FtcGxlSW5mby5pc1N5bmNQb2ludCA9IHRydWU7XG4gICAgICAgIHRoaXMuc3luY1BvaW50cy5wdXNoKHNhbXBsZUluZm8pO1xuICAgIH1cblxufVxuXG4vLyBPcmRlcmVkIGxpc3QgZm9yIHJlY29yZGluZyB2aWRlbyBJRFIgZnJhbWVzLCBzb3J0ZWQgYnkgb3JpZ2luYWxEdHNcbmV4cG9ydCBjbGFzcyBJRFJTYW1wbGVMaXN0IHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9saXN0ID0gW107XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2xpc3QgPSBbXTtcbiAgICB9XG5cbiAgICBhcHBlbmRBcnJheShzeW5jUG9pbnRzKSB7XG4gICAgICAgIGxldCBsaXN0ID0gdGhpcy5fbGlzdDtcblxuICAgICAgICBpZiAoc3luY1BvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA+IDAgJiYgc3luY1BvaW50c1swXS5vcmlnaW5hbER0cyA8IGxpc3RbbGlzdC5sZW5ndGggLSAxXS5vcmlnaW5hbER0cykge1xuICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkobGlzdCwgc3luY1BvaW50cyk7XG4gICAgfVxuXG4gICAgZ2V0TGFzdFN5bmNQb2ludEJlZm9yZUR0cyhkdHMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xpc3QubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLl9saXN0O1xuICAgICAgICBsZXQgaWR4ID0gMDtcbiAgICAgICAgbGV0IGxhc3QgPSBsaXN0Lmxlbmd0aCAtIDE7XG4gICAgICAgIGxldCBtaWQgPSAwO1xuICAgICAgICBsZXQgbGJvdW5kID0gMDtcbiAgICAgICAgbGV0IHVib3VuZCA9IGxhc3Q7XG5cbiAgICAgICAgaWYgKGR0cyA8IGxpc3RbMF0uZHRzKSB7XG4gICAgICAgICAgICBpZHggPSAwO1xuICAgICAgICAgICAgbGJvdW5kID0gdWJvdW5kICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChsYm91bmQgPD0gdWJvdW5kKSB7XG4gICAgICAgICAgICBtaWQgPSBsYm91bmQgKyBNYXRoLmZsb29yKCh1Ym91bmQgLSBsYm91bmQpIC8gMik7XG4gICAgICAgICAgICBpZiAobWlkID09PSBsYXN0IHx8IChkdHMgPj0gbGlzdFttaWRdLmR0cyAmJiBkdHMgPCBsaXN0W21pZCArIDFdLmR0cykpIHtcbiAgICAgICAgICAgICAgICBpZHggPSBtaWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxpc3RbbWlkXS5kdHMgPCBkdHMpIHtcbiAgICAgICAgICAgICAgICBsYm91bmQgPSBtaWQgKyAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1Ym91bmQgPSBtaWQgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9saXN0W2lkeF07XG4gICAgfVxuXG59XG5cbi8vIERhdGEgc3RydWN0dXJlIGZvciByZWNvcmRpbmcgaW5mb3JtYXRpb24gb2YgbWVkaWEgc2VnbWVudHMgaW4gc2luZ2xlIHRyYWNrLlxuZXhwb3J0IGNsYXNzIE1lZGlhU2VnbWVudEluZm9MaXN0IHtcblxuICAgIGNvbnN0cnVjdG9yKHR5cGUpIHtcbiAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuX2xpc3QgPSBbXTtcbiAgICAgICAgdGhpcy5fbGFzdEFwcGVuZExvY2F0aW9uID0gLTE7ICAvLyBjYWNoZWQgbGFzdCBpbnNlcnQgbG9jYXRpb25cbiAgICB9XG5cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3R5cGU7XG4gICAgfVxuXG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3QubGVuZ3RoO1xuICAgIH1cblxuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saXN0Lmxlbmd0aCA9PT0gMDtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fbGlzdCA9IFtdO1xuICAgICAgICB0aGlzLl9sYXN0QXBwZW5kTG9jYXRpb24gPSAtMTtcbiAgICB9XG5cbiAgICBfc2VhcmNoTmVhcmVzdFNlZ21lbnRCZWZvcmUob3JpZ2luYWxCZWdpbkR0cykge1xuICAgICAgICBsZXQgbGlzdCA9IHRoaXMuX2xpc3Q7XG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIC0yO1xuICAgICAgICB9XG4gICAgICAgIGxldCBsYXN0ID0gbGlzdC5sZW5ndGggLSAxO1xuICAgICAgICBsZXQgbWlkID0gMDtcbiAgICAgICAgbGV0IGxib3VuZCA9IDA7XG4gICAgICAgIGxldCB1Ym91bmQgPSBsYXN0O1xuXG4gICAgICAgIGxldCBpZHggPSAwO1xuXG4gICAgICAgIGlmIChvcmlnaW5hbEJlZ2luRHRzIDwgbGlzdFswXS5vcmlnaW5hbEJlZ2luRHRzKSB7XG4gICAgICAgICAgICBpZHggPSAtMTtcbiAgICAgICAgICAgIHJldHVybiBpZHg7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAobGJvdW5kIDw9IHVib3VuZCkge1xuICAgICAgICAgICAgbWlkID0gbGJvdW5kICsgTWF0aC5mbG9vcigodWJvdW5kIC0gbGJvdW5kKSAvIDIpO1xuICAgICAgICAgICAgaWYgKG1pZCA9PT0gbGFzdCB8fCAob3JpZ2luYWxCZWdpbkR0cyA+IGxpc3RbbWlkXS5sYXN0U2FtcGxlLm9yaWdpbmFsRHRzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcmlnaW5hbEJlZ2luRHRzIDwgbGlzdFttaWQgKyAxXS5vcmlnaW5hbEJlZ2luRHRzKSkpIHtcbiAgICAgICAgICAgICAgICBpZHggPSBtaWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxpc3RbbWlkXS5vcmlnaW5hbEJlZ2luRHRzIDwgb3JpZ2luYWxCZWdpbkR0cykge1xuICAgICAgICAgICAgICAgIGxib3VuZCA9IG1pZCArIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVib3VuZCA9IG1pZCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlkeDtcbiAgICB9XG5cbiAgICBfc2VhcmNoTmVhcmVzdFNlZ21lbnRBZnRlcihvcmlnaW5hbEJlZ2luRHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZWFyY2hOZWFyZXN0U2VnbWVudEJlZm9yZShvcmlnaW5hbEJlZ2luRHRzKSArIDE7XG4gICAgfVxuXG4gICAgYXBwZW5kKG1lZGlhU2VnbWVudEluZm8pIHtcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLl9saXN0O1xuICAgICAgICBsZXQgbXNpID0gbWVkaWFTZWdtZW50SW5mbztcbiAgICAgICAgbGV0IGxhc3RBcHBlbmRJZHggPSB0aGlzLl9sYXN0QXBwZW5kTG9jYXRpb247XG4gICAgICAgIGxldCBpbnNlcnRJZHggPSAwO1xuXG4gICAgICAgIGlmIChsYXN0QXBwZW5kSWR4ICE9PSAtMSAmJiBsYXN0QXBwZW5kSWR4IDwgbGlzdC5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zaS5vcmlnaW5hbEJlZ2luRHRzID49IGxpc3RbbGFzdEFwcGVuZElkeF0ubGFzdFNhbXBsZS5vcmlnaW5hbER0cyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKChsYXN0QXBwZW5kSWR4ID09PSBsaXN0Lmxlbmd0aCAtIDEpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobGFzdEFwcGVuZElkeCA8IGxpc3QubGVuZ3RoIC0gMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNpLm9yaWdpbmFsQmVnaW5EdHMgPCBsaXN0W2xhc3RBcHBlbmRJZHggKyAxXS5vcmlnaW5hbEJlZ2luRHRzKSkpIHtcbiAgICAgICAgICAgIGluc2VydElkeCA9IGxhc3RBcHBlbmRJZHggKyAxOyAgLy8gdXNlIGNhY2hlZCBsb2NhdGlvbiBpZHhcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChsaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpbnNlcnRJZHggPSB0aGlzLl9zZWFyY2hOZWFyZXN0U2VnbWVudEJlZm9yZShtc2kub3JpZ2luYWxCZWdpbkR0cykgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbGFzdEFwcGVuZExvY2F0aW9uID0gaW5zZXJ0SWR4O1xuICAgICAgICB0aGlzLl9saXN0LnNwbGljZShpbnNlcnRJZHgsIDAsIG1zaSk7XG4gICAgfVxuXG4gICAgZ2V0TGFzdFNlZ21lbnRCZWZvcmUob3JpZ2luYWxCZWdpbkR0cykge1xuICAgICAgICBsZXQgaWR4ID0gdGhpcy5fc2VhcmNoTmVhcmVzdFNlZ21lbnRCZWZvcmUob3JpZ2luYWxCZWdpbkR0cyk7XG4gICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3RbaWR4XTtcbiAgICAgICAgfSBlbHNlIHsgIC8vIC0xXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldExhc3RTYW1wbGVCZWZvcmUob3JpZ2luYWxCZWdpbkR0cykge1xuICAgICAgICBsZXQgc2VnbWVudCA9IHRoaXMuZ2V0TGFzdFNlZ21lbnRCZWZvcmUob3JpZ2luYWxCZWdpbkR0cyk7XG4gICAgICAgIGlmIChzZWdtZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWdtZW50Lmxhc3RTYW1wbGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldExhc3RTeW5jUG9pbnRCZWZvcmUob3JpZ2luYWxCZWdpbkR0cykge1xuICAgICAgICBsZXQgc2VnbWVudElkeCA9IHRoaXMuX3NlYXJjaE5lYXJlc3RTZWdtZW50QmVmb3JlKG9yaWdpbmFsQmVnaW5EdHMpO1xuICAgICAgICBsZXQgc3luY1BvaW50cyA9IHRoaXMuX2xpc3Rbc2VnbWVudElkeF0uc3luY1BvaW50cztcbiAgICAgICAgd2hpbGUgKHN5bmNQb2ludHMubGVuZ3RoID09PSAwICYmIHNlZ21lbnRJZHggPiAwKSB7XG4gICAgICAgICAgICBzZWdtZW50SWR4LS07XG4gICAgICAgICAgICBzeW5jUG9pbnRzID0gdGhpcy5fbGlzdFtzZWdtZW50SWR4XS5zeW5jUG9pbnRzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzeW5jUG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBzeW5jUG9pbnRzW3N5bmNQb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxufSIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ2V2ZW50cyc7XG5pbXBvcnQgTG9nIGZyb20gJy4uL3V0aWxzL2xvZ2dlci5qcyc7XG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi91dGlscy9icm93c2VyLmpzJztcbmltcG9ydCBNU0VFdmVudHMgZnJvbSAnLi9tc2UtZXZlbnRzLmpzJztcbmltcG9ydCB7U2FtcGxlSW5mbywgSURSU2FtcGxlTGlzdH0gZnJvbSAnLi9tZWRpYS1zZWdtZW50LWluZm8uanMnO1xuaW1wb3J0IHtJbGxlZ2FsU3RhdGVFeGNlcHRpb259IGZyb20gJy4uL3V0aWxzL2V4Y2VwdGlvbi5qcyc7XG5cbi8vIE1lZGlhIFNvdXJjZSBFeHRlbnNpb25zIGNvbnRyb2xsZXJcbmNsYXNzIE1TRUNvbnRyb2xsZXIge1xuXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuVEFHID0gJ01TRUNvbnRyb2xsZXInO1xuXG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgICAgICBpZiAodGhpcy5fY29uZmlnLmlzTGl2ZSAmJiB0aGlzLl9jb25maWcuYXV0b0NsZWFudXBTb3VyY2VCdWZmZXIgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBGb3IgbGl2ZSBzdHJlYW0sIGRvIGF1dG8gY2xlYW51cCBieSBkZWZhdWx0XG4gICAgICAgICAgICB0aGlzLl9jb25maWcuYXV0b0NsZWFudXBTb3VyY2VCdWZmZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lID0ge1xuICAgICAgICAgICAgb25Tb3VyY2VPcGVuOiB0aGlzLl9vblNvdXJjZU9wZW4uYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG9uU291cmNlRW5kZWQ6IHRoaXMuX29uU291cmNlRW5kZWQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG9uU291cmNlQ2xvc2U6IHRoaXMuX29uU291cmNlQ2xvc2UuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG9uU291cmNlQnVmZmVyRXJyb3I6IHRoaXMuX29uU291cmNlQnVmZmVyRXJyb3IuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG9uU291cmNlQnVmZmVyVXBkYXRlRW5kOiB0aGlzLl9vblNvdXJjZUJ1ZmZlclVwZGF0ZUVuZC5iaW5kKHRoaXMpXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fbWVkaWFTb3VyY2UgPSBudWxsO1xuICAgICAgICB0aGlzLl9tZWRpYVNvdXJjZU9iamVjdFVSTCA9IG51bGw7XG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5faXNCdWZmZXJGdWxsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2hhc1BlbmRpbmdFb3MgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9yZXF1aXJlU2V0TWVkaWFEdXJhdGlvbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wZW5kaW5nTWVkaWFEdXJhdGlvbiA9IDA7XG5cbiAgICAgICAgdGhpcy5fcGVuZGluZ1NvdXJjZUJ1ZmZlckluaXQgPSBbXTtcbiAgICAgICAgdGhpcy5fbWltZVR5cGVzID0ge1xuICAgICAgICAgICAgdmlkZW86IG51bGwsXG4gICAgICAgICAgICBhdWRpbzogbnVsbFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9zb3VyY2VCdWZmZXJzID0ge1xuICAgICAgICAgICAgdmlkZW86IG51bGwsXG4gICAgICAgICAgICBhdWRpbzogbnVsbFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9sYXN0SW5pdFNlZ21lbnRzID0ge1xuICAgICAgICAgICAgdmlkZW86IG51bGwsXG4gICAgICAgICAgICBhdWRpbzogbnVsbFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9wZW5kaW5nU2VnbWVudHMgPSB7XG4gICAgICAgICAgICB2aWRlbzogW10sXG4gICAgICAgICAgICBhdWRpbzogW11cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ1JlbW92ZVJhbmdlcyA9IHtcbiAgICAgICAgICAgIHZpZGVvOiBbXSxcbiAgICAgICAgICAgIGF1ZGlvOiBbXVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9pZHJMaXN0ID0gbmV3IElEUlNhbXBsZUxpc3QoKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50IHx8IHRoaXMuX21lZGlhU291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLmRldGFjaE1lZGlhRWxlbWVudCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIgPSBudWxsO1xuICAgIH1cblxuICAgIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLmFkZExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgYXR0YWNoTWVkaWFFbGVtZW50KG1lZGlhRWxlbWVudCkge1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFTb3VyY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ01lZGlhU291cmNlIGhhcyBiZWVuIGF0dGFjaGVkIHRvIGFuIEhUTUxNZWRpYUVsZW1lbnQhJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1zID0gdGhpcy5fbWVkaWFTb3VyY2UgPSBuZXcgd2luZG93Lk1lZGlhU291cmNlKCk7XG4gICAgICAgIG1zLmFkZEV2ZW50TGlzdGVuZXIoJ3NvdXJjZW9wZW4nLCB0aGlzLmUub25Tb3VyY2VPcGVuKTtcbiAgICAgICAgbXMuYWRkRXZlbnRMaXN0ZW5lcignc291cmNlZW5kZWQnLCB0aGlzLmUub25Tb3VyY2VFbmRlZCk7XG4gICAgICAgIG1zLmFkZEV2ZW50TGlzdGVuZXIoJ3NvdXJjZWNsb3NlJywgdGhpcy5lLm9uU291cmNlQ2xvc2UpO1xuXG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudCA9IG1lZGlhRWxlbWVudDtcbiAgICAgICAgdGhpcy5fbWVkaWFTb3VyY2VPYmplY3RVUkwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLl9tZWRpYVNvdXJjZSk7XG4gICAgICAgIG1lZGlhRWxlbWVudC5zcmMgPSB0aGlzLl9tZWRpYVNvdXJjZU9iamVjdFVSTDtcbiAgICB9XG5cbiAgICBkZXRhY2hNZWRpYUVsZW1lbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYVNvdXJjZSkge1xuICAgICAgICAgICAgbGV0IG1zID0gdGhpcy5fbWVkaWFTb3VyY2U7XG4gICAgICAgICAgICBmb3IgKGxldCB0eXBlIGluIHRoaXMuX3NvdXJjZUJ1ZmZlcnMpIHtcbiAgICAgICAgICAgICAgICAvLyBwZW5kaW5nIHNlZ21lbnRzIHNob3VsZCBiZSBkaXNjYXJkXG4gICAgICAgICAgICAgICAgbGV0IHBzID0gdGhpcy5fcGVuZGluZ1NlZ21lbnRzW3R5cGVdO1xuICAgICAgICAgICAgICAgIHBzLnNwbGljZSgwLCBwcy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWdtZW50c1t0eXBlXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1JlbW92ZVJhbmdlc1t0eXBlXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdEluaXRTZWdtZW50c1t0eXBlXSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgYWxsIHNvdXJjZWJ1ZmZlcnNcbiAgICAgICAgICAgICAgICBsZXQgc2IgPSB0aGlzLl9zb3VyY2VCdWZmZXJzW3R5cGVdO1xuICAgICAgICAgICAgICAgIGlmIChzYikge1xuICAgICAgICAgICAgICAgICAgICBpZiAobXMucmVhZHlTdGF0ZSAhPT0gJ2Nsb3NlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zLnJlbW92ZVNvdXJjZUJ1ZmZlcihzYik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzYi5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuZS5vblNvdXJjZUJ1ZmZlckVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNiLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3VwZGF0ZWVuZCcsIHRoaXMuZS5vblNvdXJjZUJ1ZmZlclVwZGF0ZUVuZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWltZVR5cGVzW3R5cGVdID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc291cmNlQnVmZmVyc1t0eXBlXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1zLnJlYWR5U3RhdGUgPT09ICdvcGVuJykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG1zLmVuZE9mU3RyZWFtKCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nLmUodGhpcy5UQUcsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1zLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZW9wZW4nLCB0aGlzLmUub25Tb3VyY2VPcGVuKTtcbiAgICAgICAgICAgIG1zLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZWVuZGVkJywgdGhpcy5lLm9uU291cmNlRW5kZWQpO1xuICAgICAgICAgICAgbXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc291cmNlY2xvc2UnLCB0aGlzLmUub25Tb3VyY2VDbG9zZSk7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nU291cmNlQnVmZmVySW5pdCA9IFtdO1xuICAgICAgICAgICAgdGhpcy5faXNCdWZmZXJGdWxsID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9pZHJMaXN0LmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYVNvdXJjZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuc3JjID0gJyc7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdzcmMnKTtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX21lZGlhU291cmNlT2JqZWN0VVJMKSB7XG4gICAgICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh0aGlzLl9tZWRpYVNvdXJjZU9iamVjdFVSTCk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYVNvdXJjZU9iamVjdFVSTCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhcHBlbmRJbml0U2VnbWVudChpbml0U2VnbWVudCwgZGVmZXJyZWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tZWRpYVNvdXJjZSB8fCB0aGlzLl9tZWRpYVNvdXJjZS5yZWFkeVN0YXRlICE9PSAnb3BlbicpIHtcbiAgICAgICAgICAgIC8vIHNvdXJjZWJ1ZmZlciBjcmVhdGlvbiByZXF1aXJlcyBtZWRpYVNvdXJjZS5yZWFkeVN0YXRlID09PSAnb3BlbidcbiAgICAgICAgICAgIC8vIHNvIHdlIGRlZmVyIHRoZSBzb3VyY2VidWZmZXIgY3JlYXRpb24sIHVudGlsIHNvdXJjZW9wZW4gZXZlbnQgdHJpZ2dlcmVkXG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nU291cmNlQnVmZmVySW5pdC5wdXNoKGluaXRTZWdtZW50KTtcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0aGF0IHRoaXMgSW5pdFNlZ21lbnQgaXMgaW4gdGhlIGZyb250IG9mIHBlbmRpbmcgc2VnbWVudHMgcXVldWVcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWdtZW50c1tpbml0U2VnbWVudC50eXBlXS5wdXNoKGluaXRTZWdtZW50KTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGAke2luaXRTZWdtZW50LnR5cGV9YCwgaW5pdFNlZ21lbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaXMgPSBpbml0U2VnbWVudDtcbiAgICAgICAgbGV0IG1pbWVUeXBlID0gYCR7aXMuY29udGFpbmVyfWA7XG4gICAgICAgIGlmIChpcy5jb2RlYyAmJiBpcy5jb2RlYy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBtaW1lVHlwZSArPSBgO2NvZGVjcz0ke2lzLmNvZGVjfWA7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZmlyc3RJbml0U2VnbWVudCA9IGZhbHNlO1xuXG4gICAgICAgIExvZy52KHRoaXMuVEFHLCAnUmVjZWl2ZWQgSW5pdGlhbGl6YXRpb24gU2VnbWVudCwgbWltZVR5cGU6ICcgKyBtaW1lVHlwZSk7XG4gICAgICAgIHRoaXMuX2xhc3RJbml0U2VnbWVudHNbaXMudHlwZV0gPSBpcztcblxuICAgICAgICBpZiAobWltZVR5cGUgIT09IHRoaXMuX21pbWVUeXBlc1tpcy50eXBlXSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9taW1lVHlwZXNbaXMudHlwZV0pIHsgIC8vIGVtcHR5LCBmaXJzdCBjaGFuY2UgY3JlYXRlIHNvdXJjZWJ1ZmZlclxuICAgICAgICAgICAgICAgIGZpcnN0SW5pdFNlZ21lbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzYiA9IHRoaXMuX3NvdXJjZUJ1ZmZlcnNbaXMudHlwZV0gPSB0aGlzLl9tZWRpYVNvdXJjZS5hZGRTb3VyY2VCdWZmZXIobWltZVR5cGUpO1xuICAgICAgICAgICAgICAgICAgICBzYi5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuZS5vblNvdXJjZUJ1ZmZlckVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgc2IuYWRkRXZlbnRMaXN0ZW5lcigndXBkYXRlZW5kJywgdGhpcy5lLm9uU291cmNlQnVmZmVyVXBkYXRlRW5kKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBMb2cuZSh0aGlzLlRBRywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChNU0VFdmVudHMuRVJST1IsIHtjb2RlOiBlcnJvci5jb2RlLCBtc2c6IGVycm9yLm1lc3NhZ2V9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgTG9nLnYodGhpcy5UQUcsIGBOb3RpY2U6ICR7aXMudHlwZX0gbWltZVR5cGUgY2hhbmdlZCwgb3JpZ2luOiAke3RoaXMuX21pbWVUeXBlc1tpcy50eXBlXX0sIHRhcmdldDogJHttaW1lVHlwZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21pbWVUeXBlc1tpcy50eXBlXSA9IG1pbWVUeXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkZWZlcnJlZCkge1xuICAgICAgICAgICAgLy8gZGVmZXJyZWQgbWVhbnMgdGhpcyBJbml0U2VnbWVudCBoYXMgYmVlbiBwdXNoZWQgdG8gcGVuZGluZ1NlZ21lbnRzIHF1ZXVlXG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nU2VnbWVudHNbaXMudHlwZV0ucHVzaChpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmaXJzdEluaXRTZWdtZW50KSB7ICAvLyBhcHBlbmQgaW1tZWRpYXRlbHkgb25seSBpZiBpbml0IHNlZ21lbnQgaW4gc3Vic2VxdWVuY2VcbiAgICAgICAgICAgIGlmICh0aGlzLl9zb3VyY2VCdWZmZXJzW2lzLnR5cGVdICYmICF0aGlzLl9zb3VyY2VCdWZmZXJzW2lzLnR5cGVdLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZG9BcHBlbmRTZWdtZW50cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChCcm93c2VyLnNhZmFyaSAmJiBpcy5jb250YWluZXIgPT09ICdhdWRpby9tcGVnJyAmJiBpcy5tZWRpYUR1cmF0aW9uID4gMCkge1xuICAgICAgICAgICAgLy8gJ2F1ZGlvL21wZWcnIHRyYWNrIHVuZGVyIFNhZmFyaSBtYXkgY2F1c2UgTWVkaWFFbGVtZW50J3MgZHVyYXRpb24gdG8gYmUgTmFOXG4gICAgICAgICAgICAvLyBNYW51YWxseSBjb3JyZWN0IE1lZGlhU291cmNlLmR1cmF0aW9uIHRvIG1ha2UgcHJvZ3Jlc3MgYmFyIHNlZWthYmxlLCBhbmQgcmVwb3J0IHJpZ2h0IGR1cmF0aW9uXG4gICAgICAgICAgICB0aGlzLl9yZXF1aXJlU2V0TWVkaWFEdXJhdGlvbiA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nTWVkaWFEdXJhdGlvbiA9IGlzLm1lZGlhRHVyYXRpb24gLyAxMDAwOyAgLy8gaW4gc2Vjb25kc1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlTWVkaWFTb3VyY2VEdXJhdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXBwZW5kTWVkaWFTZWdtZW50KG1lZGlhU2VnbWVudCkge1xuICAgICAgICBsZXQgbXMgPSBtZWRpYVNlZ21lbnQ7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdTZWdtZW50c1ttcy50eXBlXS5wdXNoKG1zKTtcblxuICAgICAgICBpZiAodGhpcy5fY29uZmlnLmF1dG9DbGVhbnVwU291cmNlQnVmZmVyICYmIHRoaXMuX25lZWRDbGVhbnVwU291cmNlQnVmZmVyKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RvQ2xlYW51cFNvdXJjZUJ1ZmZlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNiID0gdGhpcy5fc291cmNlQnVmZmVyc1ttcy50eXBlXTtcbiAgICAgICAgaWYgKHNiICYmICFzYi51cGRhdGluZyAmJiAhdGhpcy5faGFzUGVuZGluZ1JlbW92ZVJhbmdlcygpKSB7XG4gICAgICAgICAgICB0aGlzLl9kb0FwcGVuZFNlZ21lbnRzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWVrKHNlY29uZHMpIHtcbiAgICAgICAgLy8gcmVtb3ZlIGFsbCBhcHBlbmRlZCBidWZmZXJzXG4gICAgICAgIGZvciAobGV0IHR5cGUgaW4gdGhpcy5fc291cmNlQnVmZmVycykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9zb3VyY2VCdWZmZXJzW3R5cGVdKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFib3J0IGN1cnJlbnQgYnVmZmVyIGFwcGVuZCBhbGdvcml0aG1cbiAgICAgICAgICAgIGxldCBzYiA9IHRoaXMuX3NvdXJjZUJ1ZmZlcnNbdHlwZV07XG4gICAgICAgICAgICBpZiAodGhpcy5fbWVkaWFTb3VyY2UucmVhZHlTdGF0ZSA9PT0gJ29wZW4nKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgcmFuZ2UgcmVtb3ZhbCBhbGdvcml0aG0gaXMgcnVubmluZywgSW52YWxpZFN0YXRlRXJyb3Igd2lsbCBiZSB0aHJvd2VkXG4gICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBpdC5cbiAgICAgICAgICAgICAgICAgICAgc2IuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBMb2cuZSh0aGlzLlRBRywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJRFJMaXN0IHNob3VsZCBiZSBjbGVhclxuICAgICAgICAgICAgdGhpcy5faWRyTGlzdC5jbGVhcigpO1xuXG4gICAgICAgICAgICAvLyBwZW5kaW5nIHNlZ21lbnRzIHNob3VsZCBiZSBkaXNjYXJkXG4gICAgICAgICAgICBsZXQgcHMgPSB0aGlzLl9wZW5kaW5nU2VnbWVudHNbdHlwZV07XG4gICAgICAgICAgICBwcy5zcGxpY2UoMCwgcHMubGVuZ3RoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX21lZGlhU291cmNlLnJlYWR5U3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgICAgICAgICAgICAgLy8gUGFyZW50IE1lZGlhU291cmNlIG9iamVjdCBoYXMgYmVlbiBkZXRhY2hlZCBmcm9tIEhUTUxNZWRpYUVsZW1lbnRcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVjb3JkIHJhbmdlcyB0byBiZSByZW1vdmUgZnJvbSBTb3VyY2VCdWZmZXJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2IuYnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnQgPSBzYi5idWZmZXJlZC5zdGFydChpKTtcbiAgICAgICAgICAgICAgICBsZXQgZW5kID0gc2IuYnVmZmVyZWQuZW5kKGkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdSZW1vdmVSYW5nZXNbdHlwZV0ucHVzaCh7c3RhcnQsIGVuZH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiBzYiBpcyBub3QgdXBkYXRpbmcsIGxldCdzIHJlbW92ZSByYW5nZXMgbm93IVxuICAgICAgICAgICAgaWYgKCFzYi51cGRhdGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RvUmVtb3ZlUmFuZ2VzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNhZmFyaSAxMCBtYXkgZ2V0IEludmFsaWRTdGF0ZUVycm9yIGluIHRoZSBsYXRlciBhcHBlbmRCdWZmZXIoKSBhZnRlciBTb3VyY2VCdWZmZXIucmVtb3ZlKCkgY2FsbFxuICAgICAgICAgICAgLy8gSW50ZXJuYWwgcGFyc2VyJ3Mgc3RhdGUgbWF5IGJlIGludmFsaWQgYXQgdGhpcyB0aW1lLiBSZS1hcHBlbmQgbGFzdCBJbml0U2VnbWVudCB0byB3b3JrYXJvdW5kLlxuICAgICAgICAgICAgLy8gUmVsYXRlZCBpc3N1ZTogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE1OTIzMFxuICAgICAgICAgICAgaWYgKEJyb3dzZXIuc2FmYXJpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxhc3RJbml0U2VnbWVudCA9IHRoaXMuX2xhc3RJbml0U2VnbWVudHNbdHlwZV07XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RJbml0U2VnbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nU2VnbWVudHNbdHlwZV0ucHVzaChsYXN0SW5pdFNlZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNiLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kb0FwcGVuZFNlZ21lbnRzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmRPZlN0cmVhbSgpIHtcbiAgICAgICAgbGV0IG1zID0gdGhpcy5fbWVkaWFTb3VyY2U7XG4gICAgICAgIGxldCBzYiA9IHRoaXMuX3NvdXJjZUJ1ZmZlcnM7XG4gICAgICAgIGlmICghbXMgfHwgbXMucmVhZHlTdGF0ZSAhPT0gJ29wZW4nKSB7XG4gICAgICAgICAgICBpZiAobXMgJiYgbXMucmVhZHlTdGF0ZSA9PT0gJ2Nsb3NlZCcgJiYgdGhpcy5faGFzUGVuZGluZ1NlZ21lbnRzKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBNZWRpYVNvdXJjZSBoYXNuJ3QgdHVybmVkIGludG8gb3BlbiBzdGF0ZSwgYW5kIHRoZXJlJ3JlIHBlbmRpbmcgc2VnbWVudHNcbiAgICAgICAgICAgICAgICAvLyBNYXJrIHBlbmRpbmcgZW5kT2ZTdHJlYW0sIGRlZmVyIGNhbGwgdW50aWwgYWxsIHBlbmRpbmcgc2VnbWVudHMgYXBwZW5kZWQgY29tcGxldGVcbiAgICAgICAgICAgICAgICB0aGlzLl9oYXNQZW5kaW5nRW9zID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2IudmlkZW8gJiYgc2IudmlkZW8udXBkYXRpbmcgfHwgc2IuYXVkaW8gJiYgc2IuYXVkaW8udXBkYXRpbmcpIHtcbiAgICAgICAgICAgIC8vIElmIGFueSBzb3VyY2VidWZmZXIgaXMgdXBkYXRpbmcsIGRlZmVyIGVuZE9mU3RyZWFtIG9wZXJhdGlvblxuICAgICAgICAgICAgLy8gU2VlIF9vblNvdXJjZUJ1ZmZlclVwZGF0ZUVuZCgpXG4gICAgICAgICAgICB0aGlzLl9oYXNQZW5kaW5nRW9zID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2hhc1BlbmRpbmdFb3MgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIE5vdGlmeSBtZWRpYSBkYXRhIGxvYWRpbmcgY29tcGxldGVcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgaGVscGZ1bCBmb3IgY29ycmVjdGluZyB0b3RhbCBkdXJhdGlvbiB0byBtYXRjaCBsYXN0IG1lZGlhIHNlZ21lbnRcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSBNZWRpYUVsZW1lbnQncyBlbmRlZCBldmVudCBtYXkgbm90IGJlIHRyaWdnZXJlZFxuICAgICAgICAgICAgbXMuZW5kT2ZTdHJlYW0oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldE5lYXJlc3RLZXlmcmFtZShkdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkckxpc3QuZ2V0TGFzdFN5bmNQb2ludEJlZm9yZUR0cyhkdHMpO1xuICAgIH1cblxuICAgIF9uZWVkQ2xlYW51cFNvdXJjZUJ1ZmZlcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jb25maWcuYXV0b0NsZWFudXBTb3VyY2VCdWZmZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjdXJyZW50VGltZSA9IHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZTtcblxuICAgICAgICBmb3IgKGxldCB0eXBlIGluIHRoaXMuX3NvdXJjZUJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIGxldCBzYiA9IHRoaXMuX3NvdXJjZUJ1ZmZlcnNbdHlwZV07XG4gICAgICAgICAgICBpZiAoc2IpIHtcbiAgICAgICAgICAgICAgICBsZXQgYnVmZmVyZWQgPSBzYi5idWZmZXJlZDtcbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVyZWQubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUaW1lIC0gYnVmZmVyZWQuc3RhcnQoMCkgPj0gdGhpcy5fY29uZmlnLmF1dG9DbGVhbnVwTWF4QmFja3dhcmREdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgX2RvQ2xlYW51cFNvdXJjZUJ1ZmZlcigpIHtcbiAgICAgICAgbGV0IGN1cnJlbnRUaW1lID0gdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lO1xuXG4gICAgICAgIGZvciAobGV0IHR5cGUgaW4gdGhpcy5fc291cmNlQnVmZmVycykge1xuICAgICAgICAgICAgbGV0IHNiID0gdGhpcy5fc291cmNlQnVmZmVyc1t0eXBlXTtcbiAgICAgICAgICAgIGlmIChzYikge1xuICAgICAgICAgICAgICAgIGxldCBidWZmZXJlZCA9IHNiLmJ1ZmZlcmVkO1xuICAgICAgICAgICAgICAgIGxldCBkb1JlbW92ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3RhcnQgPSBidWZmZXJlZC5zdGFydChpKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVuZCA9IGJ1ZmZlcmVkLmVuZChpKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnQgPD0gY3VycmVudFRpbWUgJiYgY3VycmVudFRpbWUgPCBlbmQgKyAzKSB7ICAvLyBwYWRkaW5nIDMgc2Vjb25kc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUaW1lIC0gc3RhcnQgPj0gdGhpcy5fY29uZmlnLmF1dG9DbGVhbnVwTWF4QmFja3dhcmREdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvUmVtb3ZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVtb3ZlRW5kID0gY3VycmVudFRpbWUgLSB0aGlzLl9jb25maWcuYXV0b0NsZWFudXBNaW5CYWNrd2FyZER1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdSZW1vdmVSYW5nZXNbdHlwZV0ucHVzaCh7c3RhcnQ6IHN0YXJ0LCBlbmQ6IHJlbW92ZUVuZH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVuZCA8IGN1cnJlbnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb1JlbW92ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVtb3ZlUmFuZ2VzW3R5cGVdLnB1c2goe3N0YXJ0OiBzdGFydCwgZW5kOiBlbmR9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkb1JlbW92ZSAmJiAhc2IudXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZG9SZW1vdmVSYW5nZXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdXBkYXRlTWVkaWFTb3VyY2VEdXJhdGlvbigpIHtcbiAgICAgICAgbGV0IHNiID0gdGhpcy5fc291cmNlQnVmZmVycztcbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudC5yZWFkeVN0YXRlID09PSAwIHx8IHRoaXMuX21lZGlhU291cmNlLnJlYWR5U3RhdGUgIT09ICdvcGVuJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoc2IudmlkZW8gJiYgc2IudmlkZW8udXBkYXRpbmcpIHx8IChzYi5hdWRpbyAmJiBzYi5hdWRpby51cGRhdGluZykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5fbWVkaWFTb3VyY2UuZHVyYXRpb247XG4gICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLl9wZW5kaW5nTWVkaWFEdXJhdGlvbjtcblxuICAgICAgICBpZiAodGFyZ2V0ID4gMCAmJiAoaXNOYU4oY3VycmVudCkgfHwgdGFyZ2V0ID4gY3VycmVudCkpIHtcbiAgICAgICAgICAgIExvZy52KHRoaXMuVEFHLCBgVXBkYXRlIE1lZGlhU291cmNlIGR1cmF0aW9uIGZyb20gJHtjdXJyZW50fSB0byAke3RhcmdldH1gKTtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhU291cmNlLmR1cmF0aW9uID0gdGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVxdWlyZVNldE1lZGlhRHVyYXRpb24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ01lZGlhRHVyYXRpb24gPSAwO1xuICAgIH1cblxuICAgIF9kb1JlbW92ZVJhbmdlcygpIHtcbiAgICAgICAgZm9yIChsZXQgdHlwZSBpbiB0aGlzLl9wZW5kaW5nUmVtb3ZlUmFuZ2VzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3NvdXJjZUJ1ZmZlcnNbdHlwZV0gfHwgdGhpcy5fc291cmNlQnVmZmVyc1t0eXBlXS51cGRhdGluZykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHNiID0gdGhpcy5fc291cmNlQnVmZmVyc1t0eXBlXTtcbiAgICAgICAgICAgIGxldCByYW5nZXMgPSB0aGlzLl9wZW5kaW5nUmVtb3ZlUmFuZ2VzW3R5cGVdO1xuICAgICAgICAgICAgd2hpbGUgKHJhbmdlcy5sZW5ndGggJiYgIXNiLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJhbmdlID0gcmFuZ2VzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgc2IucmVtb3ZlKHJhbmdlLnN0YXJ0LCByYW5nZS5lbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2RvQXBwZW5kU2VnbWVudHMoKSB7XG4gICAgICAgIGxldCBwZW5kaW5nU2VnbWVudHMgPSB0aGlzLl9wZW5kaW5nU2VnbWVudHM7XG5cbiAgICAgICAgZm9yIChsZXQgdHlwZSBpbiBwZW5kaW5nU2VnbWVudHMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fc291cmNlQnVmZmVyc1t0eXBlXSB8fCB0aGlzLl9zb3VyY2VCdWZmZXJzW3R5cGVdLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwZW5kaW5nU2VnbWVudHNbdHlwZV0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBzZWdtZW50ID0gcGVuZGluZ1NlZ21lbnRzW3R5cGVdLnNoaWZ0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2VnbWVudC50aW1lc3RhbXBPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIE1QRUcgYXVkaW8gc3RyZWFtIGluIE1TRSwgaWYgdW5idWZmZXJlZC1zZWVraW5nIG9jY3VycmVkXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgZXhwbGljaXRseSBzZXQgdGltZXN0YW1wT2Zmc2V0IHRvIHRoZSBkZXNpcmVkIHBvaW50IGluIHRpbWVsaW5lIGZvciBtcGVnIFNvdXJjZUJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRPZmZzZXQgPSB0aGlzLl9zb3VyY2VCdWZmZXJzW3R5cGVdLnRpbWVzdGFtcE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldE9mZnNldCA9IHNlZ21lbnQudGltZXN0YW1wT2Zmc2V0IC8gMTAwMDsgIC8vIGluIHNlY29uZHNcblxuICAgICAgICAgICAgICAgICAgICBsZXQgZGVsdGEgPSBNYXRoLmFicyhjdXJyZW50T2Zmc2V0IC0gdGFyZ2V0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlbHRhID4gMC4xKSB7ICAvLyBJZiB0aW1lIGRlbHRhID4gMTAwbXNcbiAgICAgICAgICAgICAgICAgICAgICAgIExvZy52KHRoaXMuVEFHLCBgVXBkYXRlIE1QRUcgYXVkaW8gdGltZXN0YW1wT2Zmc2V0IGZyb20gJHtjdXJyZW50T2Zmc2V0fSB0byAke3RhcmdldE9mZnNldH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NvdXJjZUJ1ZmZlcnNbdHlwZV0udGltZXN0YW1wT2Zmc2V0ID0gdGFyZ2V0T2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWdtZW50LnRpbWVzdGFtcE9mZnNldDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNlZ21lbnQuZGF0YSB8fCBzZWdtZW50LmRhdGEuYnl0ZUxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZW1wdHkgYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NvdXJjZUJ1ZmZlcnNbdHlwZV0uYXBwZW5kQnVmZmVyKHNlZ21lbnQuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQnVmZmVyRnVsbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3ZpZGVvJyAmJiBzZWdtZW50Lmhhc093blByb3BlcnR5KCdpbmZvJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lkckxpc3QuYXBwZW5kQXJyYXkoc2VnbWVudC5pbmZvLnN5bmNQb2ludHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1NlZ21lbnRzW3R5cGVdLnVuc2hpZnQoc2VnbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5jb2RlID09PSAyMikgeyAgLy8gUXVvdGFFeGNlZWRlZEVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBOb3RpY2UgdGhhdCBGaXJlRm94IG1heSBub3QgdGhyb3cgUXVvdGFFeGNlZWRlZEVycm9yIGlmIFNvdXJjZUJ1ZmZlciBpcyBmdWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBDdXJyZW50bHkgd2UgY2FuIG9ubHkgZG8gbGF6eS1sb2FkIHRvIGF2b2lkIFNvdXJjZUJ1ZmZlciBiZWNvbWUgc2NhdHRlcmVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogU291cmNlQnVmZmVyIGV2aWN0aW9uIHBvbGljeSBtYXkgYmUgY2hhbmdlZCBpbiBmdXR1cmUgdmVyc2lvbiBvZiBGaXJlRm94LlxuICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFJlbGF0ZWQgaXNzdWVzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTI3OTg4NVxuICAgICAgICAgICAgICAgICAgICAgICAgICogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTI4MDAyM1xuICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlcG9ydCBidWZmZXIgZnVsbCwgYWJvcnQgbmV0d29yayBJT1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pc0J1ZmZlckZ1bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoTVNFRXZlbnRzLkJVRkZFUl9GVUxMKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQnVmZmVyRnVsbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBMb2cuZSh0aGlzLlRBRywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoTVNFRXZlbnRzLkVSUk9SLCB7Y29kZTogZXJyb3IuY29kZSwgbXNnOiBlcnJvci5tZXNzYWdlfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25Tb3VyY2VPcGVuKCkge1xuICAgICAgICBMb2cudih0aGlzLlRBRywgJ01lZGlhU291cmNlIG9uU291cmNlT3BlbicpO1xuICAgICAgICB0aGlzLl9tZWRpYVNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VvcGVuJywgdGhpcy5lLm9uU291cmNlT3Blbik7XG4gICAgICAgIC8vIGRlZmVycmVkIHNvdXJjZWJ1ZmZlciBjcmVhdGlvbiAvIGluaXRpYWxpemF0aW9uXG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nU291cmNlQnVmZmVySW5pdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgcGVuZGluZ3MgPSB0aGlzLl9wZW5kaW5nU291cmNlQnVmZmVySW5pdDtcbiAgICAgICAgICAgIHdoaWxlIChwZW5kaW5ncy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2VnbWVudCA9IHBlbmRpbmdzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRJbml0U2VnbWVudChzZWdtZW50LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB0aGVyZSBtYXkgYmUgc29tZSBwZW5kaW5nIG1lZGlhIHNlZ21lbnRzLCBhcHBlbmQgdGhlbVxuICAgICAgICBpZiAodGhpcy5faGFzUGVuZGluZ1NlZ21lbnRzKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RvQXBwZW5kU2VnbWVudHMoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoTVNFRXZlbnRzLlNPVVJDRV9PUEVOKTtcbiAgICB9XG5cbiAgICBfb25Tb3VyY2VFbmRlZCgpIHtcbiAgICAgICAgLy8gZmlyZWQgb24gZW5kT2ZTdHJlYW1cbiAgICAgICAgTG9nLnYodGhpcy5UQUcsICdNZWRpYVNvdXJjZSBvblNvdXJjZUVuZGVkJyk7XG4gICAgfVxuXG4gICAgX29uU291cmNlQ2xvc2UoKSB7XG4gICAgICAgIC8vIGZpcmVkIG9uIGRldGFjaGluZyBmcm9tIG1lZGlhIGVsZW1lbnRcbiAgICAgICAgTG9nLnYodGhpcy5UQUcsICdNZWRpYVNvdXJjZSBvblNvdXJjZUNsb3NlJyk7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYVNvdXJjZSAmJiB0aGlzLmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFTb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignc291cmNlb3BlbicsIHRoaXMuZS5vblNvdXJjZU9wZW4pO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFTb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignc291cmNlZW5kZWQnLCB0aGlzLmUub25Tb3VyY2VFbmRlZCk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYVNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VjbG9zZScsIHRoaXMuZS5vblNvdXJjZUNsb3NlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9oYXNQZW5kaW5nU2VnbWVudHMoKSB7XG4gICAgICAgIGxldCBwcyA9IHRoaXMuX3BlbmRpbmdTZWdtZW50cztcbiAgICAgICAgcmV0dXJuIHBzLnZpZGVvLmxlbmd0aCA+IDAgfHwgcHMuYXVkaW8ubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICBfaGFzUGVuZGluZ1JlbW92ZVJhbmdlcygpIHtcbiAgICAgICAgbGV0IHByciA9IHRoaXMuX3BlbmRpbmdSZW1vdmVSYW5nZXM7XG4gICAgICAgIHJldHVybiBwcnIudmlkZW8ubGVuZ3RoID4gMCB8fCBwcnIuYXVkaW8ubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICBfb25Tb3VyY2VCdWZmZXJVcGRhdGVFbmQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXF1aXJlU2V0TWVkaWFEdXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlTWVkaWFTb3VyY2VEdXJhdGlvbigpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2hhc1BlbmRpbmdSZW1vdmVSYW5nZXMoKSkge1xuICAgICAgICAgICAgdGhpcy5fZG9SZW1vdmVSYW5nZXMoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9oYXNQZW5kaW5nU2VnbWVudHMoKSkge1xuICAgICAgICAgICAgdGhpcy5fZG9BcHBlbmRTZWdtZW50cygpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2hhc1BlbmRpbmdFb3MpIHtcbiAgICAgICAgICAgIHRoaXMuZW5kT2ZTdHJlYW0oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoTVNFRXZlbnRzLlVQREFURV9FTkQpO1xuICAgIH1cblxuICAgIF9vblNvdXJjZUJ1ZmZlckVycm9yKGUpIHtcbiAgICAgICAgTG9nLmUodGhpcy5UQUcsIGBTb3VyY2VCdWZmZXIgRXJyb3I6ICR7ZX1gKTtcbiAgICAgICAgLy8gdGhpcyBlcnJvciBtaWdodCBub3QgYWx3YXlzIGJlIGZhdGFsLCBqdXN0IGlnbm9yZSBpdFxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBNU0VDb250cm9sbGVyO1xuIiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmNvbnN0IE1TRUV2ZW50cyA9IHtcbiAgICBFUlJPUjogJ2Vycm9yJyxcbiAgICBTT1VSQ0VfT1BFTjogJ3NvdXJjZV9vcGVuJyxcbiAgICBVUERBVEVfRU5EOiAndXBkYXRlX2VuZCcsXG4gICAgQlVGRkVSX0ZVTEw6ICdidWZmZXJfZnVsbCdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE1TRUV2ZW50czsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudHMnO1xuaW1wb3J0IExvZyBmcm9tICcuLi91dGlscy9sb2dnZXIuanMnO1xuaW1wb3J0IExvZ2dpbmdDb250cm9sIGZyb20gJy4uL3V0aWxzL2xvZ2dpbmctY29udHJvbC5qcyc7XG5pbXBvcnQgVHJhbnNtdXhpbmdDb250cm9sbGVyIGZyb20gJy4vdHJhbnNtdXhpbmctY29udHJvbGxlci5qcyc7XG5pbXBvcnQgVHJhbnNtdXhpbmdFdmVudHMgZnJvbSAnLi90cmFuc211eGluZy1ldmVudHMuanMnO1xuaW1wb3J0IFRyYW5zbXV4aW5nV29ya2VyIGZyb20gJy4vdHJhbnNtdXhpbmctd29ya2VyLmpzJztcbmltcG9ydCBNZWRpYUluZm8gZnJvbSAnLi9tZWRpYS1pbmZvLmpzJztcblxuY2xhc3MgVHJhbnNtdXhlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihtZWRpYURhdGFTb3VyY2UsIGNvbmZpZykge1xuICAgICAgICB0aGlzLlRBRyA9ICdUcmFuc211eGVyJztcbiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgICAgICBpZiAoY29uZmlnLmVuYWJsZVdvcmtlciAmJiB0eXBlb2YgKFdvcmtlcikgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxldCB3b3JrID0gcmVxdWlyZSgnd2Vid29ya2lmeScpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmtlciA9IHdvcmsoVHJhbnNtdXhpbmdXb3JrZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmtlckRlc3Ryb3lpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMuX29uV29ya2VyTWVzc2FnZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JrZXIucG9zdE1lc3NhZ2Uoe2NtZDogJ2luaXQnLCBwYXJhbTogW21lZGlhRGF0YVNvdXJjZSwgY29uZmlnXX0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgb25Mb2dnaW5nQ29uZmlnQ2hhbmdlZDogdGhpcy5fb25Mb2dnaW5nQ29uZmlnQ2hhbmdlZC5iaW5kKHRoaXMpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBMb2dnaW5nQ29udHJvbC5yZWdpc3Rlckxpc3RlbmVyKHRoaXMuZS5vbkxvZ2dpbmdDb25maWdDaGFuZ2VkKTtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JrZXIucG9zdE1lc3NhZ2Uoe2NtZDogJ2xvZ2dpbmdfY29uZmlnJywgcGFyYW06IExvZ2dpbmdDb250cm9sLmdldENvbmZpZygpfSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIExvZy5lKHRoaXMuVEFHLCAnRXJyb3Igd2hpbGUgaW5pdGlhbGl6ZSB0cmFuc211eGluZyB3b3JrZXIsIGZhbGxiYWNrIHRvIGlubGluZSB0cmFuc211eGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmtlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29udHJvbGxlciA9IG5ldyBUcmFuc211eGluZ0NvbnRyb2xsZXIobWVkaWFEYXRhU291cmNlLCBjb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY29udHJvbGxlciA9IG5ldyBUcmFuc211eGluZ0NvbnRyb2xsZXIobWVkaWFEYXRhU291cmNlLCBjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGxldCBjdGwgPSB0aGlzLl9jb250cm9sbGVyO1xuICAgICAgICAgICAgY3RsLm9uKFRyYW5zbXV4aW5nRXZlbnRzLklPX0VSUk9SLCB0aGlzLl9vbklPRXJyb3IuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjdGwub24oVHJhbnNtdXhpbmdFdmVudHMuREVNVVhfRVJST1IsIHRoaXMuX29uRGVtdXhFcnJvci5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGN0bC5vbihUcmFuc211eGluZ0V2ZW50cy5JTklUX1NFR01FTlQsIHRoaXMuX29uSW5pdFNlZ21lbnQuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjdGwub24oVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfU0VHTUVOVCwgdGhpcy5fb25NZWRpYVNlZ21lbnQuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjdGwub24oVHJhbnNtdXhpbmdFdmVudHMuTE9BRElOR19DT01QTEVURSwgdGhpcy5fb25Mb2FkaW5nQ29tcGxldGUuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjdGwub24oVHJhbnNtdXhpbmdFdmVudHMuUkVDT1ZFUkVEX0VBUkxZX0VPRiwgdGhpcy5fb25SZWNvdmVyZWRFYXJseUVvZi5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGN0bC5vbihUcmFuc211eGluZ0V2ZW50cy5NRURJQV9JTkZPLCB0aGlzLl9vbk1lZGlhSW5mby5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGN0bC5vbihUcmFuc211eGluZ0V2ZW50cy5TVEFUSVNUSUNTX0lORk8sIHRoaXMuX29uU3RhdGlzdGljc0luZm8uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjdGwub24oVHJhbnNtdXhpbmdFdmVudHMuUkVDT01NRU5EX1NFRUtQT0lOVCwgdGhpcy5fb25SZWNvbW1lbmRTZWVrcG9pbnQuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjdGwub24oVHJhbnNtdXhpbmdFdmVudHMuTE9BREVEX1NFSSwgdGhpcy5fb25Mb2FkZWRTZWkuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fd29ya2VyKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3dvcmtlckRlc3Ryb3lpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JrZXJEZXN0cm95aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JrZXIucG9zdE1lc3NhZ2Uoe2NtZDogJ2Rlc3Ryb3knfSk7XG4gICAgICAgICAgICAgICAgTG9nZ2luZ0NvbnRyb2wucmVtb3ZlTGlzdGVuZXIodGhpcy5lLm9uTG9nZ2luZ0NvbmZpZ0NoYW5nZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250cm9sbGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIgPSBudWxsO1xuICAgIH1cblxuICAgIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLmFkZExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgaGFzV29ya2VyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd29ya2VyICE9IG51bGw7XG4gICAgfVxuXG4gICAgb3BlbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dvcmtlcikge1xuICAgICAgICAgICAgdGhpcy5fd29ya2VyLnBvc3RNZXNzYWdlKHtjbWQ6ICdzdGFydCd9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xsZXIuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5fd29ya2VyKSB7XG4gICAgICAgICAgICB0aGlzLl93b3JrZXIucG9zdE1lc3NhZ2Uoe2NtZDogJ3N0b3AnfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250cm9sbGVyLnN0b3AoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlZWsobWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIGlmICh0aGlzLl93b3JrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtlci5wb3N0TWVzc2FnZSh7Y21kOiAnc2VlaycsIHBhcmFtOiBtaWxsaXNlY29uZHN9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xsZXIuc2VlayhtaWxsaXNlY29uZHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl93b3JrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtlci5wb3N0TWVzc2FnZSh7Y21kOiAncGF1c2UnfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250cm9sbGVyLnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXN1bWUoKSB7XG4gICAgICAgIGlmICh0aGlzLl93b3JrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtlci5wb3N0TWVzc2FnZSh7Y21kOiAncmVzdW1lJ30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY29udHJvbGxlci5yZXN1bWUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkluaXRTZWdtZW50KHR5cGUsIGluaXRTZWdtZW50KSB7XG4gICAgICAgIC8vIGRvIGFzeW5jIGludm9rZVxuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5JTklUX1NFR01FTlQsIHR5cGUsIGluaXRTZWdtZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX29uTWVkaWFTZWdtZW50KHR5cGUsIG1lZGlhU2VnbWVudCkge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5NRURJQV9TRUdNRU5ULCB0eXBlLCBtZWRpYVNlZ21lbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfb25Mb2FkaW5nQ29tcGxldGUoKSB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFRyYW5zbXV4aW5nRXZlbnRzLkxPQURJTkdfQ09NUExFVEUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfb25SZWNvdmVyZWRFYXJseUVvZigpIHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuUkVDT1ZFUkVEX0VBUkxZX0VPRik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9vbk1lZGlhSW5mbyhtZWRpYUluZm8pIHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfSU5GTywgbWVkaWFJbmZvKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX29uU3RhdGlzdGljc0luZm8oc3RhdGlzdGljc0luZm8pIHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuU1RBVElTVElDU19JTkZPLCBzdGF0aXN0aWNzSW5mbyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9vbklPRXJyb3IodHlwZSwgaW5mbykge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5JT19FUlJPUiwgdHlwZSwgaW5mbyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9vbkRlbXV4RXJyb3IodHlwZSwgaW5mbykge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5ERU1VWF9FUlJPUiwgdHlwZSwgaW5mbyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9vblJlY29tbWVuZFNlZWtwb2ludChtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuUkVDT01NRU5EX1NFRUtQT0lOVCwgbWlsbGlzZWNvbmRzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX29uTG9hZGVkU2VpKHRpbWVzdGFtcCxkYXRhKSB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFRyYW5zbXV4aW5nRXZlbnRzLkxPQURFRF9TRUksIHRpbWVzdGFtcCwgZGF0YSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9vbkxvZ2dpbmdDb25maWdDaGFuZ2VkKGNvbmZpZykge1xuICAgICAgICBpZiAodGhpcy5fd29ya2VyKSB7XG4gICAgICAgICAgICB0aGlzLl93b3JrZXIucG9zdE1lc3NhZ2Uoe2NtZDogJ2xvZ2dpbmdfY29uZmlnJywgcGFyYW06IGNvbmZpZ30pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uV29ya2VyTWVzc2FnZShlKSB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gZS5kYXRhO1xuICAgICAgICBsZXQgZGF0YSA9IG1lc3NhZ2UuZGF0YTtcblxuICAgICAgICBpZiAobWVzc2FnZS5tc2cgPT09ICdkZXN0cm95ZWQnIHx8IHRoaXMuX3dvcmtlckRlc3Ryb3lpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtlckRlc3Ryb3lpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtlci50ZXJtaW5hdGUoKTtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtlciA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UubXNnKSB7XG4gICAgICAgICAgICBjYXNlIFRyYW5zbXV4aW5nRXZlbnRzLklOSVRfU0VHTUVOVDpcbiAgICAgICAgICAgIGNhc2UgVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfU0VHTUVOVDpcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQobWVzc2FnZS5tc2csIGRhdGEudHlwZSwgZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVHJhbnNtdXhpbmdFdmVudHMuTE9BRElOR19DT01QTEVURTpcbiAgICAgICAgICAgIGNhc2UgVHJhbnNtdXhpbmdFdmVudHMuUkVDT1ZFUkVEX0VBUkxZX0VPRjpcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQobWVzc2FnZS5tc2cpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUcmFuc211eGluZ0V2ZW50cy5NRURJQV9JTkZPOlxuICAgICAgICAgICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihkYXRhLCBNZWRpYUluZm8ucHJvdG90eXBlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQobWVzc2FnZS5tc2csIGRhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUcmFuc211eGluZ0V2ZW50cy5TVEFUSVNUSUNTX0lORk86XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KG1lc3NhZ2UubXNnLCBkYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVHJhbnNtdXhpbmdFdmVudHMuSU9fRVJST1I6XG4gICAgICAgICAgICBjYXNlIFRyYW5zbXV4aW5nRXZlbnRzLkRFTVVYX0VSUk9SOlxuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChtZXNzYWdlLm1zZywgZGF0YS50eXBlLCBkYXRhLmluZm8pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUcmFuc211eGluZ0V2ZW50cy5SRUNPTU1FTkRfU0VFS1BPSU5UOlxuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChtZXNzYWdlLm1zZywgZGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdsb2djYXRfY2FsbGJhY2snOlxuICAgICAgICAgICAgICAgIExvZy5lbWl0dGVyLmVtaXQoJ2xvZycsIGRhdGEudHlwZSwgZGF0YS5sb2djYXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBUcmFuc211eGVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ2V2ZW50cyc7XG5pbXBvcnQgTG9nIGZyb20gJy4uL3V0aWxzL2xvZ2dlci5qcyc7XG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi91dGlscy9icm93c2VyLmpzJztcbmltcG9ydCBNZWRpYUluZm8gZnJvbSAnLi9tZWRpYS1pbmZvLmpzJztcbmltcG9ydCBGTFZEZW11eGVyIGZyb20gJy4uL2RlbXV4L2Zsdi1kZW11eGVyLmpzJztcbmltcG9ydCBNUDRSZW11eGVyIGZyb20gJy4uL3JlbXV4L21wNC1yZW11eGVyLmpzJztcbmltcG9ydCBEZW11eEVycm9ycyBmcm9tICcuLi9kZW11eC9kZW11eC1lcnJvcnMuanMnO1xuaW1wb3J0IElPQ29udHJvbGxlciBmcm9tICcuLi9pby9pby1jb250cm9sbGVyLmpzJztcbmltcG9ydCBUcmFuc211eGluZ0V2ZW50cyBmcm9tICcuL3RyYW5zbXV4aW5nLWV2ZW50cy5qcyc7XG5pbXBvcnQge0xvYWRlclN0YXR1cywgTG9hZGVyRXJyb3JzfSBmcm9tICcuLi9pby9sb2FkZXIuanMnO1xuXG4vLyBUcmFuc211eGluZyAoSU8sIERlbXV4aW5nLCBSZW11eGluZykgY29udHJvbGxlciwgd2l0aCBtdWx0aXBhcnQgc3VwcG9ydFxuY2xhc3MgVHJhbnNtdXhpbmdDb250cm9sbGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKG1lZGlhRGF0YVNvdXJjZSwgY29uZmlnKSB7XG4gICAgICAgIHRoaXMuVEFHID0gJ1RyYW5zbXV4aW5nQ29udHJvbGxlcic7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuXG4gICAgICAgIC8vIHRyZWF0IHNpbmdsZSBwYXJ0IG1lZGlhIGFzIG11bHRpcGFydCBtZWRpYSwgd2hpY2ggaGFzIG9ubHkgb25lIHNlZ21lbnRcbiAgICAgICAgaWYgKCFtZWRpYURhdGFTb3VyY2Uuc2VnbWVudHMpIHtcbiAgICAgICAgICAgIG1lZGlhRGF0YVNvdXJjZS5zZWdtZW50cyA9IFt7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IG1lZGlhRGF0YVNvdXJjZS5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICBmaWxlc2l6ZTogbWVkaWFEYXRhU291cmNlLmZpbGVzaXplLFxuICAgICAgICAgICAgICAgIHVybDogbWVkaWFEYXRhU291cmNlLnVybFxuICAgICAgICAgICAgfV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaWxsIGluIGRlZmF1bHQgSU8gcGFyYW1zIGlmIG5vdCBleGlzdHNcbiAgICAgICAgaWYgKHR5cGVvZiBtZWRpYURhdGFTb3VyY2UuY29ycyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBtZWRpYURhdGFTb3VyY2UuY29ycyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBtZWRpYURhdGFTb3VyY2Uud2l0aENyZWRlbnRpYWxzICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIG1lZGlhRGF0YVNvdXJjZS53aXRoQ3JlZGVudGlhbHMgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21lZGlhRGF0YVNvdXJjZSA9IG1lZGlhRGF0YVNvdXJjZTtcbiAgICAgICAgdGhpcy5fY3VycmVudFNlZ21lbnRJbmRleCA9IDA7XG4gICAgICAgIGxldCB0b3RhbER1cmF0aW9uID0gMDtcblxuICAgICAgICB0aGlzLl9tZWRpYURhdGFTb3VyY2Uuc2VnbWVudHMuZm9yRWFjaCgoc2VnbWVudCkgPT4ge1xuICAgICAgICAgICAgLy8gdGltZXN0YW1wQmFzZSBmb3IgZWFjaCBzZWdtZW50LCBhbmQgY2FsY3VsYXRlIHRvdGFsIGR1cmF0aW9uXG4gICAgICAgICAgICBzZWdtZW50LnRpbWVzdGFtcEJhc2UgPSB0b3RhbER1cmF0aW9uO1xuICAgICAgICAgICAgdG90YWxEdXJhdGlvbiArPSBzZWdtZW50LmR1cmF0aW9uO1xuICAgICAgICAgICAgLy8gcGFyYW1zIG5lZWRlZCBieSBJT0NvbnRyb2xsZXJcbiAgICAgICAgICAgIHNlZ21lbnQuY29ycyA9IG1lZGlhRGF0YVNvdXJjZS5jb3JzO1xuICAgICAgICAgICAgc2VnbWVudC53aXRoQ3JlZGVudGlhbHMgPSBtZWRpYURhdGFTb3VyY2Uud2l0aENyZWRlbnRpYWxzO1xuICAgICAgICAgICAgLy8gcmVmZXJyZXIgcG9saWN5IGNvbnRyb2wsIGlmIGV4aXN0XG4gICAgICAgICAgICBpZiAoY29uZmlnLnJlZmVycmVyUG9saWN5KSB7XG4gICAgICAgICAgICAgICAgc2VnbWVudC5yZWZlcnJlclBvbGljeSA9IGNvbmZpZy5yZWZlcnJlclBvbGljeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFpc05hTih0b3RhbER1cmF0aW9uKSAmJiB0aGlzLl9tZWRpYURhdGFTb3VyY2UuZHVyYXRpb24gIT09IHRvdGFsRHVyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRGF0YVNvdXJjZS5kdXJhdGlvbiA9IHRvdGFsRHVyYXRpb247XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tZWRpYUluZm8gPSBudWxsO1xuICAgICAgICB0aGlzLl9kZW11eGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVtdXhlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX2lvY3RsID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9wZW5kaW5nU2Vla1RpbWUgPSBudWxsO1xuICAgICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZVNlZWtQb2ludCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9tZWRpYUluZm8gPSBudWxsO1xuICAgICAgICB0aGlzLl9tZWRpYURhdGFTb3VyY2UgPSBudWxsO1xuXG4gICAgICAgIGlmICh0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faW9jdGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2lvY3RsLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX2lvY3RsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGVtdXhlcikge1xuICAgICAgICAgICAgdGhpcy5fZGVtdXhlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9kZW11eGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcmVtdXhlcikge1xuICAgICAgICAgICAgdGhpcy5fcmVtdXhlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9yZW11eGVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2VtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIgPSBudWxsO1xuICAgIH1cblxuICAgIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLmFkZExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuX2xvYWRTZWdtZW50KDApO1xuICAgICAgICB0aGlzLl9lbmFibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKTtcbiAgICB9XG5cbiAgICBfbG9hZFNlZ21lbnQoc2VnbWVudEluZGV4LCBvcHRpb25hbEZyb20pIHtcbiAgICAgICAgdGhpcy5fY3VycmVudFNlZ21lbnRJbmRleCA9IHNlZ21lbnRJbmRleDtcbiAgICAgICAgbGV0IGRhdGFTb3VyY2UgPSB0aGlzLl9tZWRpYURhdGFTb3VyY2Uuc2VnbWVudHNbc2VnbWVudEluZGV4XTtcblxuICAgICAgICBsZXQgaW9jdGwgPSB0aGlzLl9pb2N0bCA9IG5ldyBJT0NvbnRyb2xsZXIoZGF0YVNvdXJjZSwgdGhpcy5fY29uZmlnLCBzZWdtZW50SW5kZXgpO1xuICAgICAgICBpb2N0bC5vbkVycm9yID0gdGhpcy5fb25JT0V4Y2VwdGlvbi5iaW5kKHRoaXMpO1xuICAgICAgICBpb2N0bC5vblNlZWtlZCA9IHRoaXMuX29uSU9TZWVrZWQuYmluZCh0aGlzKTtcbiAgICAgICAgaW9jdGwub25Db21wbGV0ZSA9IHRoaXMuX29uSU9Db21wbGV0ZS5iaW5kKHRoaXMpO1xuICAgICAgICBpb2N0bC5vblJlZGlyZWN0ID0gdGhpcy5fb25JT1JlZGlyZWN0LmJpbmQodGhpcyk7XG4gICAgICAgIGlvY3RsLm9uUmVjb3ZlcmVkRWFybHlFb2YgPSB0aGlzLl9vbklPUmVjb3ZlcmVkRWFybHlFb2YuYmluZCh0aGlzKTtcblxuICAgICAgICBpZiAob3B0aW9uYWxGcm9tKSB7XG4gICAgICAgICAgICB0aGlzLl9kZW11eGVyLmJpbmREYXRhU291cmNlKHRoaXMuX2lvY3RsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlvY3RsLm9uRGF0YUFycml2YWwgPSB0aGlzLl9vbkluaXRDaHVua0Fycml2YWwuYmluZCh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlvY3RsLm9wZW4ob3B0aW9uYWxGcm9tKTtcbiAgICB9XG5cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLl9pbnRlcm5hbEFib3J0KCk7XG4gICAgICAgIHRoaXMuX2Rpc2FibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKTtcbiAgICB9XG5cbiAgICBfaW50ZXJuYWxBYm9ydCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lvY3RsKSB7XG4gICAgICAgICAgICB0aGlzLl9pb2N0bC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9pb2N0bCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwYXVzZSgpIHsgIC8vIHRha2UgYSByZXN0XG4gICAgICAgIGlmICh0aGlzLl9pb2N0bCAmJiB0aGlzLl9pb2N0bC5pc1dvcmtpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5faW9jdGwucGF1c2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlc3VtZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lvY3RsICYmIHRoaXMuX2lvY3RsLmlzUGF1c2VkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2lvY3RsLnJlc3VtZSgpO1xuICAgICAgICAgICAgdGhpcy5fZW5hYmxlU3RhdGlzdGljc1JlcG9ydGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWVrKG1pbGxpc2Vjb25kcykge1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFJbmZvID09IG51bGwgfHwgIXRoaXMuX21lZGlhSW5mby5pc1NlZWthYmxlKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0YXJnZXRTZWdtZW50SW5kZXggPSB0aGlzLl9zZWFyY2hTZWdtZW50SW5kZXhDb250YWlucyhtaWxsaXNlY29uZHMpO1xuXG4gICAgICAgIGlmICh0YXJnZXRTZWdtZW50SW5kZXggPT09IHRoaXMuX2N1cnJlbnRTZWdtZW50SW5kZXgpIHtcbiAgICAgICAgICAgIC8vIGludHJhLXNlZ21lbnQgc2Vla2luZ1xuICAgICAgICAgICAgbGV0IHNlZ21lbnRJbmZvID0gdGhpcy5fbWVkaWFJbmZvLnNlZ21lbnRzW3RhcmdldFNlZ21lbnRJbmRleF07XG5cbiAgICAgICAgICAgIGlmIChzZWdtZW50SW5mbyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBjdXJyZW50IHNlZ21lbnQgbG9hZGluZyBzdGFydGVkLCBidXQgbWVkaWFpbmZvIGhhc24ndCByZWNlaXZlZCB5ZXRcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciB0aGUgbWV0YWRhdGEgbG9hZGVkLCB0aGVuIHNlZWsgdG8gZXhwZWN0ZWQgcG9zaXRpb25cbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nU2Vla1RpbWUgPSBtaWxsaXNlY29uZHM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBrZXlmcmFtZSA9IHNlZ21lbnRJbmZvLmdldE5lYXJlc3RLZXlmcmFtZShtaWxsaXNlY29uZHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbXV4ZXIuc2VlayhrZXlmcmFtZS5taWxsaXNlY29uZHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2lvY3RsLnNlZWsoa2V5ZnJhbWUuZmlsZXBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAvLyBXaWxsIGJlIHJlc29sdmVkIGluIF9vblJlbXV4ZXJNZWRpYVNlZ21lbnRBcnJpdmFsKClcbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZVNlZWtQb2ludCA9IGtleWZyYW1lLm1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGNyb3NzLXNlZ21lbnQgc2Vla2luZ1xuICAgICAgICAgICAgbGV0IHRhcmdldFNlZ21lbnRJbmZvID0gdGhpcy5fbWVkaWFJbmZvLnNlZ21lbnRzW3RhcmdldFNlZ21lbnRJbmRleF07XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXRTZWdtZW50SW5mbyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyB0YXJnZXQgc2VnbWVudCBoYXNuJ3QgYmVlbiBsb2FkZWQuIFdlIG5lZWQgbWV0YWRhdGEgdGhlbiBzZWVrIHRvIGV4cGVjdGVkIHRpbWVcbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nU2Vla1RpbWUgPSBtaWxsaXNlY29uZHM7XG4gICAgICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxBYm9ydCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbXV4ZXIuc2VlaygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbXV4ZXIuaW5zZXJ0RGlzY29udGludWl0eSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRTZWdtZW50KHRhcmdldFNlZ21lbnRJbmRleCk7XG4gICAgICAgICAgICAgICAgLy8gSGVyZSB3ZSB3YWl0IGZvciB0aGUgbWV0YWRhdGEgbG9hZGVkLCB0aGVuIHNlZWsgdG8gZXhwZWN0ZWQgcG9zaXRpb25cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSB0YXJnZXQgc2VnbWVudCdzIG1ldGFkYXRhLCBkaXJlY3Qgc2VlayB0byB0YXJnZXQgcG9zaXRpb25cbiAgICAgICAgICAgICAgICBsZXQga2V5ZnJhbWUgPSB0YXJnZXRTZWdtZW50SW5mby5nZXROZWFyZXN0S2V5ZnJhbWUobWlsbGlzZWNvbmRzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnRlcm5hbEFib3J0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtdXhlci5zZWVrKG1pbGxpc2Vjb25kcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtdXhlci5pbnNlcnREaXNjb250aW51aXR5KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVtdXhlci5yZXNldE1lZGlhSW5mbygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlbXV4ZXIudGltZXN0YW1wQmFzZSA9IHRoaXMuX21lZGlhRGF0YVNvdXJjZS5zZWdtZW50c1t0YXJnZXRTZWdtZW50SW5kZXhdLnRpbWVzdGFtcEJhc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZFNlZ21lbnQodGFyZ2V0U2VnbWVudEluZGV4LCBrZXlmcmFtZS5maWxlcG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdSZXNvbHZlU2Vla1BvaW50ID0ga2V5ZnJhbWUubWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlcG9ydFNlZ21lbnRNZWRpYUluZm8odGFyZ2V0U2VnbWVudEluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2VuYWJsZVN0YXRpc3RpY3NSZXBvcnRlcigpO1xuICAgIH1cblxuICAgIF9zZWFyY2hTZWdtZW50SW5kZXhDb250YWlucyhtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgbGV0IHNlZ21lbnRzID0gdGhpcy5fbWVkaWFEYXRhU291cmNlLnNlZ21lbnRzO1xuICAgICAgICBsZXQgaWR4ID0gc2VnbWVudHMubGVuZ3RoIC0gMTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobWlsbGlzZWNvbmRzIDwgc2VnbWVudHNbaV0udGltZXN0YW1wQmFzZSkge1xuICAgICAgICAgICAgICAgIGlkeCA9IGkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpZHg7XG4gICAgfVxuXG4gICAgX29uSW5pdENodW5rQXJyaXZhbChkYXRhLCBieXRlU3RhcnQpIHtcbiAgICAgICAgbGV0IHByb2JlRGF0YSA9IG51bGw7XG4gICAgICAgIGxldCBjb25zdW1lZCA9IDA7XG5cbiAgICAgICAgaWYgKGJ5dGVTdGFydCA+IDApIHtcbiAgICAgICAgICAgIC8vIElPQ29udHJvbGxlciBzZWVrZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgb3BlbmVkLCBieXRlU3RhcnQgPiAwIGNhbGxiYWNrIG1heSByZWNlaXZlZFxuICAgICAgICAgICAgdGhpcy5fZGVtdXhlci5iaW5kRGF0YVNvdXJjZSh0aGlzLl9pb2N0bCk7XG4gICAgICAgICAgICB0aGlzLl9kZW11eGVyLnRpbWVzdGFtcEJhc2UgPSB0aGlzLl9tZWRpYURhdGFTb3VyY2Uuc2VnbWVudHNbdGhpcy5fY3VycmVudFNlZ21lbnRJbmRleF0udGltZXN0YW1wQmFzZTtcblxuICAgICAgICAgICAgY29uc3VtZWQgPSB0aGlzLl9kZW11eGVyLnBhcnNlQ2h1bmtzKGRhdGEsIGJ5dGVTdGFydCk7XG4gICAgICAgIH0gZWxzZSBpZiAoKHByb2JlRGF0YSA9IEZMVkRlbXV4ZXIucHJvYmUoZGF0YSkpLm1hdGNoKSB7XG4gICAgICAgICAgICAvLyBBbHdheXMgY3JlYXRlIG5ldyBGTFZEZW11eGVyXG4gICAgICAgICAgICB0aGlzLl9kZW11eGVyID0gbmV3IEZMVkRlbXV4ZXIocHJvYmVEYXRhLCB0aGlzLl9jb25maWcpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX3JlbXV4ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW11eGVyID0gbmV3IE1QNFJlbXV4ZXIodGhpcy5fY29uZmlnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IG1kcyA9IHRoaXMuX21lZGlhRGF0YVNvdXJjZTtcbiAgICAgICAgICAgIGlmIChtZHMuZHVyYXRpb24gIT0gdW5kZWZpbmVkICYmICFpc05hTihtZHMuZHVyYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVtdXhlci5vdmVycmlkZWREdXJhdGlvbiA9IG1kcy5kdXJhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgbWRzLmhhc0F1ZGlvID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZW11eGVyLm92ZXJyaWRlZEhhc0F1ZGlvID0gbWRzLmhhc0F1ZGlvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZHMuaGFzVmlkZW8gPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlbXV4ZXIub3ZlcnJpZGVkSGFzVmlkZW8gPSBtZHMuaGFzVmlkZW87XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2RlbXV4ZXIudGltZXN0YW1wQmFzZSA9IG1kcy5zZWdtZW50c1t0aGlzLl9jdXJyZW50U2VnbWVudEluZGV4XS50aW1lc3RhbXBCYXNlO1xuXG4gICAgICAgICAgICB0aGlzLl9kZW11eGVyLm9uRXJyb3IgPSB0aGlzLl9vbkRlbXV4RXhjZXB0aW9uLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9kZW11eGVyLm9uTWVkaWFJbmZvID0gdGhpcy5fb25NZWRpYUluZm8uYmluZCh0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5fZGVtdXhlci5vbkxvYWRlZFNlaSA9IHRoaXMuX29uTG9hZGVkU2VpLmJpbmQodGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlbXV4ZXIuYmluZERhdGFTb3VyY2UodGhpcy5fZGVtdXhlclxuICAgICAgICAgICAgICAgICAgICAgICAgIC5iaW5kRGF0YVNvdXJjZSh0aGlzLl9pb2N0bFxuICAgICAgICAgICAgKSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlbXV4ZXIub25Jbml0U2VnbWVudCA9IHRoaXMuX29uUmVtdXhlckluaXRTZWdtZW50QXJyaXZhbC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fcmVtdXhlci5vbk1lZGlhU2VnbWVudCA9IHRoaXMuX29uUmVtdXhlck1lZGlhU2VnbWVudEFycml2YWwuYmluZCh0aGlzKTtcblxuICAgICAgICAgICAgY29uc3VtZWQgPSB0aGlzLl9kZW11eGVyLnBhcnNlQ2h1bmtzKGRhdGEsIGJ5dGVTdGFydCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9iZURhdGEgPSBudWxsO1xuICAgICAgICAgICAgTG9nLmUodGhpcy5UQUcsICdOb24tRkxWLCBVbnN1cHBvcnRlZCBtZWRpYSB0eXBlIScpO1xuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxBYm9ydCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuREVNVVhfRVJST1IsIERlbXV4RXJyb3JzLkZPUk1BVF9VTlNVUFBPUlRFRCwgJ05vbi1GTFYsIFVuc3VwcG9ydGVkIG1lZGlhIHR5cGUnKTtcblxuICAgICAgICAgICAgY29uc3VtZWQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnN1bWVkO1xuICAgIH1cblxuICAgIF9vbk1lZGlhSW5mbyhtZWRpYUluZm8pIHtcbiAgICAgICAgaWYgKHRoaXMuX21lZGlhSW5mbyA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBTdG9yZSBmaXJzdCBzZWdtZW50J3MgbWVkaWFpbmZvIGFzIGdsb2JhbCBtZWRpYUluZm9cbiAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mbyA9IE9iamVjdC5hc3NpZ24oe30sIG1lZGlhSW5mbyk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8ua2V5ZnJhbWVzSW5kZXggPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLnNlZ21lbnRzID0gW107XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8uc2VnbWVudENvdW50ID0gdGhpcy5fbWVkaWFEYXRhU291cmNlLnNlZ21lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLl9tZWRpYUluZm8sIE1lZGlhSW5mby5wcm90b3R5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNlZ21lbnRJbmZvID0gT2JqZWN0LmFzc2lnbih7fSwgbWVkaWFJbmZvKTtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHNlZ21lbnRJbmZvLCBNZWRpYUluZm8ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvLnNlZ21lbnRzW3RoaXMuX2N1cnJlbnRTZWdtZW50SW5kZXhdID0gc2VnbWVudEluZm87XG5cbiAgICAgICAgLy8gbm90aWZ5IG1lZGlhSW5mbyB1cGRhdGVcbiAgICAgICAgdGhpcy5fcmVwb3J0U2VnbWVudE1lZGlhSW5mbyh0aGlzLl9jdXJyZW50U2VnbWVudEluZGV4KTtcblxuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ1NlZWtUaW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLl9wZW5kaW5nU2Vla1RpbWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1NlZWtUaW1lID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnNlZWsodGFyZ2V0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uTG9hZGVkU2VpKHRpbWVzdGFtcCwgZGF0YSkge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuTE9BREVEX1NFSSx0aW1lc3RhbXAsZGF0YSk7XG4gICAgfVxuXG4gICAgX29uSU9TZWVrZWQoKSB7XG4gICAgICAgIHRoaXMuX3JlbXV4ZXIuaW5zZXJ0RGlzY29udGludWl0eSgpO1xuICAgIH1cblxuICAgIF9vbklPQ29tcGxldGUoZXh0cmFEYXRhKSB7XG4gICAgICAgIGxldCBzZWdtZW50SW5kZXggPSBleHRyYURhdGE7XG4gICAgICAgIGxldCBuZXh0U2VnbWVudEluZGV4ID0gc2VnbWVudEluZGV4ICsgMTtcblxuICAgICAgICBpZiAobmV4dFNlZ21lbnRJbmRleCA8IHRoaXMuX21lZGlhRGF0YVNvdXJjZS5zZWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX2ludGVybmFsQWJvcnQoKTtcbiAgICAgICAgICAgIHRoaXMuX3JlbXV4ZXIuZmx1c2hTdGFzaGVkU2FtcGxlcygpO1xuICAgICAgICAgICAgdGhpcy5fbG9hZFNlZ21lbnQobmV4dFNlZ21lbnRJbmRleCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZW11eGVyLmZsdXNoU3Rhc2hlZFNhbXBsZXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5MT0FESU5HX0NPTVBMRVRFKTtcbiAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbklPUmVkaXJlY3QocmVkaXJlY3RlZFVSTCkge1xuICAgICAgICBsZXQgc2VnbWVudEluZGV4ID0gdGhpcy5faW9jdGwuZXh0cmFEYXRhO1xuICAgICAgICB0aGlzLl9tZWRpYURhdGFTb3VyY2Uuc2VnbWVudHNbc2VnbWVudEluZGV4XS5yZWRpcmVjdGVkVVJMID0gcmVkaXJlY3RlZFVSTDtcbiAgICB9XG5cbiAgICBfb25JT1JlY292ZXJlZEVhcmx5RW9mKCkge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuUkVDT1ZFUkVEX0VBUkxZX0VPRik7XG4gICAgfVxuXG4gICAgX29uSU9FeGNlcHRpb24odHlwZSwgaW5mbykge1xuICAgICAgICBMb2cuZSh0aGlzLlRBRywgYElPRXhjZXB0aW9uOiB0eXBlID0gJHt0eXBlfSwgY29kZSA9ICR7aW5mby5jb2RlfSwgbXNnID0gJHtpbmZvLm1zZ31gKTtcbiAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFRyYW5zbXV4aW5nRXZlbnRzLklPX0VSUk9SLCB0eXBlLCBpbmZvKTtcbiAgICAgICAgdGhpcy5fZGlzYWJsZVN0YXRpc3RpY3NSZXBvcnRlcigpO1xuICAgIH1cblxuICAgIF9vbkRlbXV4RXhjZXB0aW9uKHR5cGUsIGluZm8pIHtcbiAgICAgICAgTG9nLmUodGhpcy5UQUcsIGBEZW11eEV4Y2VwdGlvbjogdHlwZSA9ICR7dHlwZX0sIGluZm8gPSAke2luZm99YCk7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5ERU1VWF9FUlJPUiwgdHlwZSwgaW5mbyk7XG4gICAgfVxuXG4gICAgX29uUmVtdXhlckluaXRTZWdtZW50QXJyaXZhbCh0eXBlLCBpbml0U2VnbWVudCkge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuSU5JVF9TRUdNRU5ULCB0eXBlLCBpbml0U2VnbWVudCk7XG4gICAgfVxuXG4gICAgX29uUmVtdXhlck1lZGlhU2VnbWVudEFycml2YWwodHlwZSwgbWVkaWFTZWdtZW50KSB7XG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nU2Vla1RpbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gTWVkaWEgc2VnbWVudHMgYWZ0ZXIgbmV3LXNlZ21lbnQgY3Jvc3Mtc2Vla2luZyBzaG91bGQgYmUgZHJvcHBlZC5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfU0VHTUVOVCwgdHlwZSwgbWVkaWFTZWdtZW50KTtcblxuICAgICAgICAvLyBSZXNvbHZlIHBlbmRpbmcgc2Vla1BvaW50XG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nUmVzb2x2ZVNlZWtQb2ludCAhPSBudWxsICYmIHR5cGUgPT09ICd2aWRlbycpIHtcbiAgICAgICAgICAgIGxldCBzeW5jUG9pbnRzID0gbWVkaWFTZWdtZW50LmluZm8uc3luY1BvaW50cztcbiAgICAgICAgICAgIGxldCBzZWVrcG9pbnQgPSB0aGlzLl9wZW5kaW5nUmVzb2x2ZVNlZWtQb2ludDtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdSZXNvbHZlU2Vla1BvaW50ID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gU2FmYXJpOiBQYXNzIFBUUyBmb3IgcmVjb21tZW5kX3NlZWtwb2ludFxuICAgICAgICAgICAgaWYgKEJyb3dzZXIuc2FmYXJpICYmIHN5bmNQb2ludHMubGVuZ3RoID4gMCAmJiBzeW5jUG9pbnRzWzBdLm9yaWdpbmFsRHRzID09PSBzZWVrcG9pbnQpIHtcbiAgICAgICAgICAgICAgICBzZWVrcG9pbnQgPSBzeW5jUG9pbnRzWzBdLnB0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVsc2U6IHVzZSBvcmlnaW5hbCBEVFMgKGtleWZyYW1lLm1pbGxpc2Vjb25kcylcblxuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFRyYW5zbXV4aW5nRXZlbnRzLlJFQ09NTUVORF9TRUVLUE9JTlQsIHNlZWtwb2ludCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZW5hYmxlU3RhdGlzdGljc1JlcG9ydGVyKCkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlciA9IHNlbGYuc2V0SW50ZXJ2YWwoXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVwb3J0U3RhdGlzdGljc0luZm8uYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy5zdGF0aXN0aWNzSW5mb1JlcG9ydEludGVydmFsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9kaXNhYmxlU3RhdGlzdGljc1JlcG9ydGVyKCkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyKSB7XG4gICAgICAgICAgICBzZWxmLmNsZWFySW50ZXJ2YWwodGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyKTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcmVwb3J0U2VnbWVudE1lZGlhSW5mbyhzZWdtZW50SW5kZXgpIHtcbiAgICAgICAgbGV0IHNlZ21lbnRJbmZvID0gdGhpcy5fbWVkaWFJbmZvLnNlZ21lbnRzW3NlZ21lbnRJbmRleF07XG4gICAgICAgIGxldCBleHBvcnRJbmZvID0gT2JqZWN0LmFzc2lnbih7fSwgc2VnbWVudEluZm8pO1xuXG4gICAgICAgIGV4cG9ydEluZm8uZHVyYXRpb24gPSB0aGlzLl9tZWRpYUluZm8uZHVyYXRpb247XG4gICAgICAgIGV4cG9ydEluZm8uc2VnbWVudENvdW50ID0gdGhpcy5fbWVkaWFJbmZvLnNlZ21lbnRDb3VudDtcbiAgICAgICAgZGVsZXRlIGV4cG9ydEluZm8uc2VnbWVudHM7XG4gICAgICAgIGRlbGV0ZSBleHBvcnRJbmZvLmtleWZyYW1lc0luZGV4O1xuXG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5NRURJQV9JTkZPLCBleHBvcnRJbmZvKTtcbiAgICB9XG5cbiAgICBfcmVwb3J0U3RhdGlzdGljc0luZm8oKSB7XG4gICAgICAgIGxldCBpbmZvID0ge307XG5cbiAgICAgICAgaW5mby51cmwgPSB0aGlzLl9pb2N0bC5jdXJyZW50VVJMO1xuICAgICAgICBpbmZvLmhhc1JlZGlyZWN0ID0gdGhpcy5faW9jdGwuaGFzUmVkaXJlY3Q7XG4gICAgICAgIGlmIChpbmZvLmhhc1JlZGlyZWN0KSB7XG4gICAgICAgICAgICBpbmZvLnJlZGlyZWN0ZWRVUkwgPSB0aGlzLl9pb2N0bC5jdXJyZW50UmVkaXJlY3RlZFVSTDtcbiAgICAgICAgfVxuXG4gICAgICAgIGluZm8uc3BlZWQgPSB0aGlzLl9pb2N0bC5jdXJyZW50U3BlZWQ7XG4gICAgICAgIGluZm8ubG9hZGVyVHlwZSA9IHRoaXMuX2lvY3RsLmxvYWRlclR5cGU7XG4gICAgICAgIGluZm8uY3VycmVudFNlZ21lbnRJbmRleCA9IHRoaXMuX2N1cnJlbnRTZWdtZW50SW5kZXg7XG4gICAgICAgIGluZm8udG90YWxTZWdtZW50Q291bnQgPSB0aGlzLl9tZWRpYURhdGFTb3VyY2Uuc2VnbWVudHMubGVuZ3RoO1xuXG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5TVEFUSVNUSUNTX0lORk8sIGluZm8pO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBUcmFuc211eGluZ0NvbnRyb2xsZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmNvbnN0IFRyYW5zbXV4aW5nRXZlbnRzID0ge1xuICAgIElPX0VSUk9SOiAnaW9fZXJyb3InLFxuICAgIERFTVVYX0VSUk9SOiAnZGVtdXhfZXJyb3InLFxuICAgIElOSVRfU0VHTUVOVDogJ2luaXRfc2VnbWVudCcsXG4gICAgTUVESUFfU0VHTUVOVDogJ21lZGlhX3NlZ21lbnQnLFxuICAgIExPQURJTkdfQ09NUExFVEU6ICdsb2FkaW5nX2NvbXBsZXRlJyxcbiAgICBSRUNPVkVSRURfRUFSTFlfRU9GOiAncmVjb3ZlcmVkX2Vhcmx5X2VvZicsXG4gICAgTUVESUFfSU5GTzogJ21lZGlhX2luZm8nLFxuICAgIFNUQVRJU1RJQ1NfSU5GTzogJ3N0YXRpc3RpY3NfaW5mbycsXG4gICAgUkVDT01NRU5EX1NFRUtQT0lOVDogJ3JlY29tbWVuZF9zZWVrcG9pbnQnLFxuICAgIExPQURFRF9TRUk6ICdsb2FkZWRfc2VpJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVHJhbnNtdXhpbmdFdmVudHM7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmltcG9ydCBMb2dnaW5nQ29udHJvbCBmcm9tICcuLi91dGlscy9sb2dnaW5nLWNvbnRyb2wuanMnO1xuaW1wb3J0IFBvbHlmaWxsIGZyb20gJy4uL3V0aWxzL3BvbHlmaWxsLmpzJztcbmltcG9ydCBUcmFuc211eGluZ0NvbnRyb2xsZXIgZnJvbSAnLi90cmFuc211eGluZy1jb250cm9sbGVyLmpzJztcbmltcG9ydCBUcmFuc211eGluZ0V2ZW50cyBmcm9tICcuL3RyYW5zbXV4aW5nLWV2ZW50cy5qcyc7XG5cbi8qIHBvc3QgbWVzc2FnZSB0byB3b3JrZXI6XG4gICBkYXRhOiB7XG4gICAgICAgY21kOiBzdHJpbmdcbiAgICAgICBwYXJhbTogYW55XG4gICB9XG5cbiAgIHJlY2VpdmUgbWVzc2FnZSBmcm9tIHdvcmtlcjpcbiAgIGRhdGE6IHtcbiAgICAgICBtc2c6IHN0cmluZyxcbiAgICAgICBkYXRhOiBhbnlcbiAgIH1cbiAqL1xuXG5sZXQgVHJhbnNtdXhpbmdXb3JrZXIgPSBmdW5jdGlvbiAoc2VsZikge1xuXG4gICAgbGV0IFRBRyA9ICdUcmFuc211eGluZ1dvcmtlcic7XG4gICAgbGV0IGNvbnRyb2xsZXIgPSBudWxsO1xuICAgIGxldCBsb2djYXRMaXN0ZW5lciA9IG9uTG9nY2F0Q2FsbGJhY2suYmluZCh0aGlzKTtcblxuICAgIFBvbHlmaWxsLmluc3RhbGwoKTtcblxuICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHN3aXRjaCAoZS5kYXRhLmNtZCkge1xuICAgICAgICAgICAgY2FzZSAnaW5pdCc6XG4gICAgICAgICAgICAgICAgY29udHJvbGxlciA9IG5ldyBUcmFuc211eGluZ0NvbnRyb2xsZXIoZS5kYXRhLnBhcmFtWzBdLCBlLmRhdGEucGFyYW1bMV0pO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIub24oVHJhbnNtdXhpbmdFdmVudHMuSU9fRVJST1IsIG9uSU9FcnJvci5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLkRFTVVYX0VSUk9SLCBvbkRlbXV4RXJyb3IuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5vbihUcmFuc211eGluZ0V2ZW50cy5JTklUX1NFR01FTlQsIG9uSW5pdFNlZ21lbnQuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5vbihUcmFuc211eGluZ0V2ZW50cy5NRURJQV9TRUdNRU5ULCBvbk1lZGlhU2VnbWVudC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLkxPQURJTkdfQ09NUExFVEUsIG9uTG9hZGluZ0NvbXBsZXRlLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIub24oVHJhbnNtdXhpbmdFdmVudHMuUkVDT1ZFUkVEX0VBUkxZX0VPRiwgb25SZWNvdmVyZWRFYXJseUVvZi5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLk1FRElBX0lORk8sIG9uTWVkaWFJbmZvLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIub24oVHJhbnNtdXhpbmdFdmVudHMuU1RBVElTVElDU19JTkZPLCBvblN0YXRpc3RpY3NJbmZvLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIub24oVHJhbnNtdXhpbmdFdmVudHMuUkVDT01NRU5EX1NFRUtQT0lOVCwgb25SZWNvbW1lbmRTZWVrcG9pbnQuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkZXN0cm95JzpcbiAgICAgICAgICAgICAgICBpZiAoY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoe21zZzogJ2Rlc3Ryb3llZCd9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzdG9wJzpcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLnN0b3AoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NlZWsnOlxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuc2VlayhlLmRhdGEucGFyYW0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncGF1c2UnOlxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIucGF1c2UoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3Jlc3VtZSc6XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5yZXN1bWUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2xvZ2dpbmdfY29uZmlnJzoge1xuICAgICAgICAgICAgICAgIGxldCBjb25maWcgPSBlLmRhdGEucGFyYW07XG4gICAgICAgICAgICAgICAgTG9nZ2luZ0NvbnRyb2wuYXBwbHlDb25maWcoY29uZmlnKTtcblxuICAgICAgICAgICAgICAgIGlmIChjb25maWcuZW5hYmxlQ2FsbGJhY2sgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nZ2luZ0NvbnRyb2wuYWRkTG9nTGlzdGVuZXIobG9nY2F0TGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIExvZ2dpbmdDb250cm9sLnJlbW92ZUxvZ0xpc3RlbmVyKGxvZ2NhdExpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIG9uSW5pdFNlZ21lbnQodHlwZSwgaW5pdFNlZ21lbnQpIHtcbiAgICAgICAgbGV0IG9iaiA9IHtcbiAgICAgICAgICAgIG1zZzogVHJhbnNtdXhpbmdFdmVudHMuSU5JVF9TRUdNRU5ULFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgZGF0YTogaW5pdFNlZ21lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZShvYmosIFtpbml0U2VnbWVudC5kYXRhXSk7ICAvLyBkYXRhOiBBcnJheUJ1ZmZlclxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTWVkaWFTZWdtZW50KHR5cGUsIG1lZGlhU2VnbWVudCkge1xuICAgICAgICBsZXQgb2JqID0ge1xuICAgICAgICAgICAgbXNnOiBUcmFuc211eGluZ0V2ZW50cy5NRURJQV9TRUdNRU5ULFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgZGF0YTogbWVkaWFTZWdtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uob2JqLCBbbWVkaWFTZWdtZW50LmRhdGFdKTsgIC8vIGRhdGE6IEFycmF5QnVmZmVyXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Mb2FkaW5nQ29tcGxldGUoKSB7XG4gICAgICAgIGxldCBvYmogPSB7XG4gICAgICAgICAgICBtc2c6IFRyYW5zbXV4aW5nRXZlbnRzLkxPQURJTkdfQ09NUExFVEVcbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZShvYmopO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uUmVjb3ZlcmVkRWFybHlFb2YoKSB7XG4gICAgICAgIGxldCBvYmogPSB7XG4gICAgICAgICAgICBtc2c6IFRyYW5zbXV4aW5nRXZlbnRzLlJFQ09WRVJFRF9FQVJMWV9FT0ZcbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZShvYmopO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTWVkaWFJbmZvKG1lZGlhSW5mbykge1xuICAgICAgICBsZXQgb2JqID0ge1xuICAgICAgICAgICAgbXNnOiBUcmFuc211eGluZ0V2ZW50cy5NRURJQV9JTkZPLFxuICAgICAgICAgICAgZGF0YTogbWVkaWFJbmZvXG4gICAgICAgIH07XG4gICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uob2JqKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblN0YXRpc3RpY3NJbmZvKHN0YXRJbmZvKSB7XG4gICAgICAgIGxldCBvYmogPSB7XG4gICAgICAgICAgICBtc2c6IFRyYW5zbXV4aW5nRXZlbnRzLlNUQVRJU1RJQ1NfSU5GTyxcbiAgICAgICAgICAgIGRhdGE6IHN0YXRJbmZvXG4gICAgICAgIH07XG4gICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uob2JqKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbklPRXJyb3IodHlwZSwgaW5mbykge1xuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIG1zZzogVHJhbnNtdXhpbmdFdmVudHMuSU9fRVJST1IsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICBpbmZvOiBpbmZvXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uRGVtdXhFcnJvcih0eXBlLCBpbmZvKSB7XG4gICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgbXNnOiBUcmFuc211eGluZ0V2ZW50cy5ERU1VWF9FUlJPUixcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIGluZm86IGluZm9cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25SZWNvbW1lbmRTZWVrcG9pbnQobWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgbXNnOiBUcmFuc211eGluZ0V2ZW50cy5SRUNPTU1FTkRfU0VFS1BPSU5ULFxuICAgICAgICAgICAgZGF0YTogbWlsbGlzZWNvbmRzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTG9nY2F0Q2FsbGJhY2sodHlwZSwgc3RyKSB7XG4gICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgbXNnOiAnbG9nY2F0X2NhbGxiYWNrJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIGxvZ2NhdDogc3RyXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxufTtcblxuZXhwb3J0IGRlZmF1bHQgVHJhbnNtdXhpbmdXb3JrZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmltcG9ydCBkZWNvZGVVVEY4IGZyb20gJy4uL3V0aWxzL3V0ZjgtY29udi5qcyc7XG5pbXBvcnQge0lsbGVnYWxTdGF0ZUV4Y2VwdGlvbn0gZnJvbSAnLi4vdXRpbHMvZXhjZXB0aW9uLmpzJztcblxubGV0IGxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgYnVmID0gbmV3IEFycmF5QnVmZmVyKDIpO1xuICAgIChuZXcgRGF0YVZpZXcoYnVmKSkuc2V0SW50MTYoMCwgMjU2LCB0cnVlKTsgIC8vIGxpdHRsZS1lbmRpYW4gd3JpdGVcbiAgICByZXR1cm4gKG5ldyBJbnQxNkFycmF5KGJ1ZikpWzBdID09PSAyNTY7ICAvLyBwbGF0Zm9ybS1zcGVjIHJlYWQsIGlmIGVxdWFsIHRoZW4gTEVcbn0pKCk7XG5cbmNsYXNzIEFNRiB7XG5cbiAgICBzdGF0aWMgcGFyc2VTY3JpcHREYXRhKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSkge1xuICAgICAgICBsZXQgZGF0YSA9IHt9O1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgbmFtZSA9IEFNRi5wYXJzZVZhbHVlKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBBTUYucGFyc2VWYWx1ZShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIG5hbWUuc2l6ZSwgZGF0YVNpemUgLSBuYW1lLnNpemUpO1xuXG4gICAgICAgICAgICBkYXRhW25hbWUuZGF0YV0gPSB2YWx1ZS5kYXRhO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBMb2cuZSgnQU1GJywgZS50b1N0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIHN0YXRpYyBwYXJzZU9iamVjdChhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDwgMykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignRGF0YSBub3QgZW5vdWdoIHdoZW4gcGFyc2UgU2NyaXB0RGF0YU9iamVjdCcpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuYW1lID0gQU1GLnBhcnNlU3RyaW5nKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG4gICAgICAgIGxldCB2YWx1ZSA9IEFNRi5wYXJzZVZhbHVlKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgbmFtZS5zaXplLCBkYXRhU2l6ZSAtIG5hbWUuc2l6ZSk7XG4gICAgICAgIGxldCBpc09iamVjdEVuZCA9IHZhbHVlLm9iamVjdEVuZDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUuZGF0YSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUuZGF0YVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpemU6IG5hbWUuc2l6ZSArIHZhbHVlLnNpemUsXG4gICAgICAgICAgICBvYmplY3RFbmQ6IGlzT2JqZWN0RW5kXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIHBhcnNlVmFyaWFibGUoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKSB7XG4gICAgICAgIHJldHVybiBBTUYucGFyc2VPYmplY3QoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcGFyc2VTdHJpbmcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKSB7XG4gICAgICAgIGlmIChkYXRhU2l6ZSA8IDIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ0RhdGEgbm90IGVub3VnaCB3aGVuIHBhcnNlIFN0cmluZycpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG4gICAgICAgIGxldCBsZW5ndGggPSB2LmdldFVpbnQxNigwLCAhbGUpO1xuXG4gICAgICAgIGxldCBzdHI7XG4gICAgICAgIGlmIChsZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzdHIgPSBkZWNvZGVVVEY4KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgMiwgbGVuZ3RoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHIgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiBzdHIsXG4gICAgICAgICAgICBzaXplOiAyICsgbGVuZ3RoXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIHBhcnNlTG9uZ1N0cmluZyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDwgNCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignRGF0YSBub3QgZW5vdWdoIHdoZW4gcGFyc2UgTG9uZ1N0cmluZycpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG4gICAgICAgIGxldCBsZW5ndGggPSB2LmdldFVpbnQzMigwLCAhbGUpO1xuXG4gICAgICAgIGxldCBzdHI7XG4gICAgICAgIGlmIChsZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzdHIgPSBkZWNvZGVVVEY4KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgNCwgbGVuZ3RoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHIgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiBzdHIsXG4gICAgICAgICAgICBzaXplOiA0ICsgbGVuZ3RoXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIHBhcnNlRGF0ZShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDwgMTApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ0RhdGEgc2l6ZSBpbnZhbGlkIHdoZW4gcGFyc2UgRGF0ZScpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG4gICAgICAgIGxldCB0aW1lc3RhbXAgPSB2LmdldEZsb2F0NjQoMCwgIWxlKTtcbiAgICAgICAgbGV0IGxvY2FsVGltZU9mZnNldCA9IHYuZ2V0SW50MTYoOCwgIWxlKTtcbiAgICAgICAgdGltZXN0YW1wICs9IGxvY2FsVGltZU9mZnNldCAqIDYwICogMTAwMDsgIC8vIGdldCBVVEMgdGltZVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiBuZXcgRGF0ZSh0aW1lc3RhbXApLFxuICAgICAgICAgICAgc2l6ZTogOCArIDJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcGFyc2VWYWx1ZShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDwgMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignRGF0YSBub3QgZW5vdWdoIHdoZW4gcGFyc2UgVmFsdWUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB2ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG5cbiAgICAgICAgbGV0IG9mZnNldCA9IDE7XG4gICAgICAgIGxldCB0eXBlID0gdi5nZXRVaW50OCgwKTtcbiAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICBsZXQgb2JqZWN0RW5kID0gZmFsc2U7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogIC8vIE51bWJlcihEb3VibGUpIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2LmdldEZsb2F0NjQoMSwgIWxlKTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDg7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTogeyAgLy8gQm9vbGVhbiB0eXBlXG4gICAgICAgICAgICAgICAgICAgIGxldCBiID0gdi5nZXRVaW50OCgxKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBiID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgMjogeyAgLy8gU3RyaW5nIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFtZnN0ciA9IEFNRi5wYXJzZVN0cmluZyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIDEsIGRhdGFTaXplIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYW1mc3RyLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSBhbWZzdHIuc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgMzogeyAvLyBPYmplY3QocykgdHlwZVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGVybWluYWwgPSAwOyAgLy8gd29ya2Fyb3VuZCBmb3IgbWFsZm9ybWVkIE9iamVjdHMgd2hpY2ggaGFzIG1pc3NpbmcgU2NyaXB0RGF0YU9iamVjdEVuZFxuICAgICAgICAgICAgICAgICAgICBpZiAoKHYuZ2V0VWludDMyKGRhdGFTaXplIC0gNCwgIWxlKSAmIDB4MDBGRkZGRkYpID09PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hbCA9IDM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IG1heExvb3AgPSAxMDAwMFxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAob2Zmc2V0IDwgZGF0YVNpemUgLSA0ICYmIG1heExvb3AtLSA+IDApIHsgIC8vIDQgPT09IHR5cGUoVUk4KSArIFNjcmlwdERhdGFPYmplY3RFbmQoVUkyNClcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhbWZvYmogPSBBTUYucGFyc2VPYmplY3QoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyBvZmZzZXQsIGRhdGFTaXplIC0gb2Zmc2V0IC0gdGVybWluYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFtZm9iai5vYmplY3RFbmQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVthbWZvYmouZGF0YS5uYW1lXSA9IGFtZm9iai5kYXRhLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGFtZm9iai5zaXplO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvZmZzZXQgPD0gZGF0YVNpemUgLSAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWFya2VyID0gdi5nZXRVaW50MzIob2Zmc2V0IC0gMSwgIWxlKSAmIDB4MDBGRkZGRkY7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFya2VyID09PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgODogeyAvLyBFQ01BIGFycmF5IHR5cGUgKE1peGVkIGFycmF5KVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gNDsgIC8vIEVDTUFBcnJheUxlbmd0aChVSTMyKVxuICAgICAgICAgICAgICAgICAgICBsZXQgdGVybWluYWwgPSAwOyAgLy8gd29ya2Fyb3VuZCBmb3IgbWFsZm9ybWVkIE1peGVkQXJyYXlzIHdoaWNoIGhhcyBtaXNzaW5nIFNjcmlwdERhdGFPYmplY3RFbmRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh2LmdldFVpbnQzMihkYXRhU2l6ZSAtIDQsICFsZSkgJiAweDAwRkZGRkZGKSA9PT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVybWluYWwgPSAzO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IG1heExvb3AgPSAxMDAwMFxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAob2Zmc2V0IDwgZGF0YVNpemUgLSA4ICYmIG1heExvb3AtLSA+IDApIHsgIC8vIDggPT09IHR5cGUoVUk4KSArIEVDTUFBcnJheUxlbmd0aChVSTMyKSArIFNjcmlwdERhdGFWYXJpYWJsZUVuZChVSTI0KVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFtZnZhciA9IEFNRi5wYXJzZVZhcmlhYmxlKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgb2Zmc2V0LCBkYXRhU2l6ZSAtIG9mZnNldCAtIHRlcm1pbmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbWZ2YXIub2JqZWN0RW5kKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVbYW1mdmFyLmRhdGEubmFtZV0gPSBhbWZ2YXIuZGF0YS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSBhbWZ2YXIuc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0IDw9IGRhdGFTaXplIC0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1hcmtlciA9IHYuZ2V0VWludDMyKG9mZnNldCAtIDEsICFsZSkgJiAweDAwRkZGRkZGO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcmtlciA9PT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIDk6ICAvLyBTY3JpcHREYXRhT2JqZWN0RW5kXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSAxO1xuICAgICAgICAgICAgICAgICAgICBvYmplY3RFbmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEwOiB7ICAvLyBTdHJpY3QgYXJyYXkgdHlwZVxuICAgICAgICAgICAgICAgICAgICAvLyBTY3JpcHREYXRhVmFsdWVbbl0uIE5PVEU6IGFjY29yZGluZyB0byB2aWRlb19maWxlX2Zvcm1hdF9zcGVjX3YxMF8xLnBkZlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3RyaWN0QXJyYXlMZW5ndGggPSB2LmdldFVpbnQzMigxLCAhbGUpO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gNDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpY3RBcnJheUxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmFsID0gQU1GLnBhcnNlVmFsdWUoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyBvZmZzZXQsIGRhdGFTaXplIC0gb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnB1c2godmFsLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHZhbC5zaXplO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIDExOiB7ICAvLyBEYXRlIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGUgPSBBTUYucGFyc2VEYXRlKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgMSwgZGF0YVNpemUgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBkYXRlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSBkYXRlLnNpemU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIDEyOiB7ICAvLyBMb25nIHN0cmluZyB0eXBlXG4gICAgICAgICAgICAgICAgICAgIGxldCBhbWZMb25nU3RyID0gQU1GLnBhcnNlU3RyaW5nKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgMSwgZGF0YVNpemUgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhbWZMb25nU3RyLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSBhbWZMb25nU3RyLnNpemU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUgYW5kIHNraXBcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gZGF0YVNpemU7XG4gICAgICAgICAgICAgICAgICAgIExvZy53KCdBTUYnLCAnVW5zdXBwb3J0ZWQgQU1GIHZhbHVlIHR5cGUgJyArIHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBMb2cuZSgnQU1GJywgZS50b1N0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiB2YWx1ZSxcbiAgICAgICAgICAgIHNpemU6IG9mZnNldCxcbiAgICAgICAgICAgIG9iamVjdEVuZDogb2JqZWN0RW5kXG4gICAgICAgIH07XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEFNRjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jb25zdCBEZW11eEVycm9ycyA9IHtcbiAgICBPSzogJ09LJyxcbiAgICBGT1JNQVRfRVJST1I6ICdGb3JtYXRFcnJvcicsXG4gICAgRk9STUFUX1VOU1VQUE9SVEVEOiAnRm9ybWF0VW5zdXBwb3J0ZWQnLFxuICAgIENPREVDX1VOU1VQUE9SVEVEOiAnQ29kZWNVbnN1cHBvcnRlZCdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IERlbXV4RXJyb3JzOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0lsbGVnYWxTdGF0ZUV4Y2VwdGlvbiwgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9ufSBmcm9tICcuLi91dGlscy9leGNlcHRpb24uanMnO1xuXG4vLyBFeHBvbmVudGlhbC1Hb2xvbWIgYnVmZmVyIGRlY29kZXJcbmNsYXNzIEV4cEdvbG9tYiB7XG5cbiAgICBjb25zdHJ1Y3Rvcih1aW50OGFycmF5KSB7XG4gICAgICAgIHRoaXMuVEFHID0gJ0V4cEdvbG9tYic7XG5cbiAgICAgICAgdGhpcy5fYnVmZmVyID0gdWludDhhcnJheTtcbiAgICAgICAgdGhpcy5fYnVmZmVyX2luZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fdG90YWxfYnl0ZXMgPSB1aW50OGFycmF5LmJ5dGVMZW5ndGg7XG4gICAgICAgIHRoaXMuX3RvdGFsX2JpdHMgPSB1aW50OGFycmF5LmJ5dGVMZW5ndGggKiA4O1xuICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmQgPSAwO1xuICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0ID0gMDtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9idWZmZXIgPSBudWxsO1xuICAgIH1cblxuICAgIF9maWxsQ3VycmVudFdvcmQoKSB7XG4gICAgICAgIGxldCBidWZmZXJfYnl0ZXNfbGVmdCA9IHRoaXMuX3RvdGFsX2J5dGVzIC0gdGhpcy5fYnVmZmVyX2luZGV4O1xuICAgICAgICBpZiAoYnVmZmVyX2J5dGVzX2xlZnQgPD0gMClcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ0V4cEdvbG9tYjogX2ZpbGxDdXJyZW50V29yZCgpIGJ1dCBubyBieXRlcyBhdmFpbGFibGUnKTtcblxuICAgICAgICBsZXQgYnl0ZXNfcmVhZCA9IE1hdGgubWluKDQsIGJ1ZmZlcl9ieXRlc19sZWZ0KTtcbiAgICAgICAgbGV0IHdvcmQgPSBuZXcgVWludDhBcnJheSg0KTtcbiAgICAgICAgd29yZC5zZXQodGhpcy5fYnVmZmVyLnN1YmFycmF5KHRoaXMuX2J1ZmZlcl9pbmRleCwgdGhpcy5fYnVmZmVyX2luZGV4ICsgYnl0ZXNfcmVhZCkpO1xuICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmQgPSBuZXcgRGF0YVZpZXcod29yZC5idWZmZXIpLmdldFVpbnQzMigwLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5fYnVmZmVyX2luZGV4ICs9IGJ5dGVzX3JlYWQ7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQgPSBieXRlc19yZWFkICogODtcbiAgICB9XG5cbiAgICByZWFkQml0cyhiaXRzKSB7XG4gICAgICAgIGlmIChiaXRzID4gMzIpXG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdFeHBHb2xvbWI6IHJlYWRCaXRzKCkgYml0cyBleGNlZWRlZCBtYXggMzJiaXRzIScpO1xuXG4gICAgICAgIGlmIChiaXRzIDw9IHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQpIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSB0aGlzLl9jdXJyZW50X3dvcmQgPj4+ICgzMiAtIGJpdHMpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudF93b3JkIDw8PSBiaXRzO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudF93b3JkX2JpdHNfbGVmdCAtPSBiaXRzO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0ID8gdGhpcy5fY3VycmVudF93b3JkIDogMDtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ID4+PiAoMzIgLSB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0KTtcbiAgICAgICAgbGV0IGJpdHNfbmVlZF9sZWZ0ID0gYml0cyAtIHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQ7XG5cbiAgICAgICAgdGhpcy5fZmlsbEN1cnJlbnRXb3JkKCk7XG4gICAgICAgIGxldCBiaXRzX3JlYWRfbmV4dCA9IE1hdGgubWluKGJpdHNfbmVlZF9sZWZ0LCB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0KTtcblxuICAgICAgICBsZXQgcmVzdWx0MiA9IHRoaXMuX2N1cnJlbnRfd29yZCA+Pj4gKDMyIC0gYml0c19yZWFkX25leHQpO1xuICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmQgPDw9IGJpdHNfcmVhZF9uZXh0O1xuICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0IC09IGJpdHNfcmVhZF9uZXh0O1xuXG4gICAgICAgIHJlc3VsdCA9IChyZXN1bHQgPDwgYml0c19yZWFkX25leHQpIHwgcmVzdWx0MjtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZWFkQm9vbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEJpdHMoMSkgPT09IDE7XG4gICAgfVxuXG4gICAgcmVhZEJ5dGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRCaXRzKDgpO1xuICAgIH1cblxuICAgIF9za2lwTGVhZGluZ1plcm8oKSB7XG4gICAgICAgIGxldCB6ZXJvX2NvdW50O1xuICAgICAgICBmb3IgKHplcm9fY291bnQgPSAwOyB6ZXJvX2NvdW50IDwgdGhpcy5fY3VycmVudF93b3JkX2JpdHNfbGVmdDsgemVyb19jb3VudCsrKSB7XG4gICAgICAgICAgICBpZiAoMCAhPT0gKHRoaXMuX2N1cnJlbnRfd29yZCAmICgweDgwMDAwMDAwID4+PiB6ZXJvX2NvdW50KSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmQgPDw9IHplcm9fY291bnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudF93b3JkX2JpdHNfbGVmdCAtPSB6ZXJvX2NvdW50O1xuICAgICAgICAgICAgICAgIHJldHVybiB6ZXJvX2NvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZpbGxDdXJyZW50V29yZCgpO1xuICAgICAgICByZXR1cm4gemVyb19jb3VudCArIHRoaXMuX3NraXBMZWFkaW5nWmVybygpO1xuICAgIH1cblxuICAgIHJlYWRVRUcoKSB7ICAvLyB1bnNpZ25lZCBleHBvbmVudGlhbCBnb2xvbWJcbiAgICAgICAgbGV0IGxlYWRpbmdfemVyb3MgPSB0aGlzLl9za2lwTGVhZGluZ1plcm8oKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEJpdHMobGVhZGluZ196ZXJvcyArIDEpIC0gMTtcbiAgICB9XG5cbiAgICByZWFkU0VHKCkgeyAgLy8gc2lnbmVkIGV4cG9uZW50aWFsIGdvbG9tYlxuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLnJlYWRVRUcoKTtcbiAgICAgICAgaWYgKHZhbHVlICYgMHgwMSkge1xuICAgICAgICAgICAgcmV0dXJuICh2YWx1ZSArIDEpID4+PiAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIC0xICogKHZhbHVlID4+PiAxKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBFeHBHb2xvbWI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmltcG9ydCBBTUYgZnJvbSAnLi9hbWYtcGFyc2VyLmpzJztcbmltcG9ydCBTUFNQYXJzZXIgZnJvbSAnLi9zcHMtcGFyc2VyLmpzJztcbmltcG9ydCBEZW11eEVycm9ycyBmcm9tICcuL2RlbXV4LWVycm9ycy5qcyc7XG5pbXBvcnQgTWVkaWFJbmZvIGZyb20gJy4uL2NvcmUvbWVkaWEtaW5mby5qcyc7XG5pbXBvcnQge0lsbGVnYWxTdGF0ZUV4Y2VwdGlvbn0gZnJvbSAnLi4vdXRpbHMvZXhjZXB0aW9uLmpzJztcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRzJztcblxuZnVuY3Rpb24gU3dhcDE2KHNyYykge1xuICAgIHJldHVybiAoKChzcmMgPj4+IDgpICYgMHhGRikgfFxuICAgICAgICAgICAgKChzcmMgJiAweEZGKSA8PCA4KSk7XG59XG5cbmZ1bmN0aW9uIFN3YXAzMihzcmMpIHtcbiAgICByZXR1cm4gKCgoc3JjICYgMHhGRjAwMDAwMCkgPj4+IDI0KSB8XG4gICAgICAgICAgICAoKHNyYyAmIDB4MDBGRjAwMDApID4+PiA4KSAgfFxuICAgICAgICAgICAgKChzcmMgJiAweDAwMDBGRjAwKSA8PCA4KSAgIHxcbiAgICAgICAgICAgICgoc3JjICYgMHgwMDAwMDBGRikgPDwgMjQpKTtcbn1cblxuZnVuY3Rpb24gUmVhZEJpZzMyKGFycmF5LCBpbmRleCkge1xuICAgIHJldHVybiAoKGFycmF5W2luZGV4XSA8PCAyNCkgICAgIHxcbiAgICAgICAgICAgIChhcnJheVtpbmRleCArIDFdIDw8IDE2KSB8XG4gICAgICAgICAgICAoYXJyYXlbaW5kZXggKyAyXSA8PCA4KSAgfFxuICAgICAgICAgICAgKGFycmF5W2luZGV4ICsgM10pKTtcbn1cblxuXG5jbGFzcyBGTFZEZW11eGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKHByb2JlRGF0YSwgY29uZmlnKSB7XG4gICAgICAgIHRoaXMuVEFHID0gJ0ZMVkRlbXV4ZXInO1xuXG4gICAgICAgIHRoaXMuX2VtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuXG4gICAgICAgIHRoaXMuX29uRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbk1lZGlhSW5mbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uVHJhY2tNZXRhZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uRGF0YUF2YWlsYWJsZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fZGF0YU9mZnNldCA9IHByb2JlRGF0YS5kYXRhT2Zmc2V0O1xuICAgICAgICB0aGlzLl9maXJzdFBhcnNlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2ggPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9oYXNBdWRpbyA9IHByb2JlRGF0YS5oYXNBdWRpb1RyYWNrO1xuICAgICAgICB0aGlzLl9oYXNWaWRlbyA9IHByb2JlRGF0YS5oYXNWaWRlb1RyYWNrO1xuXG4gICAgICAgIHRoaXMuX2hhc0F1ZGlvRmxhZ092ZXJyaWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9oYXNWaWRlb0ZsYWdPdmVycmlkZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9hdWRpb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdmlkZW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvID0gbmV3IE1lZGlhSW5mbygpO1xuICAgICAgICB0aGlzLl9tZWRpYUluZm8uaGFzQXVkaW8gPSB0aGlzLl9oYXNBdWRpbztcbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhhc1ZpZGVvID0gdGhpcy5faGFzVmlkZW87XG4gICAgICAgIHRoaXMuX21ldGFkYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYXVkaW9NZXRhZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ZpZGVvTWV0YWRhdGEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX25hbHVMZW5ndGhTaXplID0gNDtcbiAgICAgICAgdGhpcy5fdGltZXN0YW1wQmFzZSA9IDA7ICAvLyBpbnQzMiwgaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgIHRoaXMuX3RpbWVzY2FsZSA9IDEwMDA7XG4gICAgICAgIHRoaXMuX2R1cmF0aW9uID0gMDsgIC8vIGludDMyLCBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgdGhpcy5fZHVyYXRpb25PdmVycmlkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcmVmZXJlbmNlRnJhbWVSYXRlID0ge1xuICAgICAgICAgICAgZml4ZWQ6IHRydWUsXG4gICAgICAgICAgICBmcHM6IDIzLjk3NixcbiAgICAgICAgICAgIGZwc19udW06IDIzOTc2LFxuICAgICAgICAgICAgZnBzX2RlbjogMTAwMFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX2ZsdlNvdW5kUmF0ZVRhYmxlID0gWzU1MDAsIDExMDI1LCAyMjA1MCwgNDQxMDAsIDQ4MDAwXTtcblxuICAgICAgICB0aGlzLl9tcGVnU2FtcGxpbmdSYXRlcyA9IFtcbiAgICAgICAgICAgIDk2MDAwLCA4ODIwMCwgNjQwMDAsIDQ4MDAwLCA0NDEwMCwgMzIwMDAsXG4gICAgICAgICAgICAyNDAwMCwgMjIwNTAsIDE2MDAwLCAxMjAwMCwgMTEwMjUsIDgwMDAsIDczNTBcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9tcGVnQXVkaW9WMTBTYW1wbGVSYXRlVGFibGUgPSBbNDQxMDAsIDQ4MDAwLCAzMjAwMCwgMF07XG4gICAgICAgIHRoaXMuX21wZWdBdWRpb1YyMFNhbXBsZVJhdGVUYWJsZSA9IFsyMjA1MCwgMjQwMDAsIDE2MDAwLCAwXTtcbiAgICAgICAgdGhpcy5fbXBlZ0F1ZGlvVjI1U2FtcGxlUmF0ZVRhYmxlID0gWzExMDI1LCAxMjAwMCwgODAwMCwgIDBdO1xuXG4gICAgICAgIHRoaXMuX21wZWdBdWRpb0wxQml0UmF0ZVRhYmxlID0gWzAsIDMyLCA2NCwgOTYsIDEyOCwgMTYwLCAxOTIsIDIyNCwgMjU2LCAyODgsIDMyMCwgMzUyLCAzODQsIDQxNiwgNDQ4LCAtMV07XG4gICAgICAgIHRoaXMuX21wZWdBdWRpb0wyQml0UmF0ZVRhYmxlID0gWzAsIDMyLCA0OCwgNTYsICA2NCwgIDgwLCAgOTYsIDExMiwgMTI4LCAxNjAsIDE5MiwgMjI0LCAyNTYsIDMyMCwgMzg0LCAtMV07XG4gICAgICAgIHRoaXMuX21wZWdBdWRpb0wzQml0UmF0ZVRhYmxlID0gWzAsIDMyLCA0MCwgNDgsICA1NiwgIDY0LCAgODAsICA5NiwgMTEyLCAxMjgsIDE2MCwgMTkyLCAyMjQsIDI1NiwgMzIwLCAtMV07XG5cbiAgICAgICAgdGhpcy5fdmlkZW9UcmFjayA9IHt0eXBlOiAndmlkZW8nLCBpZDogMSwgc2VxdWVuY2VOdW1iZXI6IDAsIHNhbXBsZXM6IFtdLCBsZW5ndGg6IDB9O1xuICAgICAgICB0aGlzLl9hdWRpb1RyYWNrID0ge3R5cGU6ICdhdWRpbycsIGlkOiAyLCBzZXF1ZW5jZU51bWJlcjogMCwgc2FtcGxlczogW10sIGxlbmd0aDogMH07XG5cbiAgICAgICAgdGhpcy5fbGl0dGxlRW5kaWFuID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxldCBidWYgPSBuZXcgQXJyYXlCdWZmZXIoMik7XG4gICAgICAgICAgICAobmV3IERhdGFWaWV3KGJ1ZikpLnNldEludDE2KDAsIDI1NiwgdHJ1ZSk7ICAvLyBsaXR0bGUtZW5kaWFuIHdyaXRlXG4gICAgICAgICAgICByZXR1cm4gKG5ldyBJbnQxNkFycmF5KGJ1ZikpWzBdID09PSAyNTY7ICAvLyBwbGF0Zm9ybS1zcGVjIHJlYWQsIGlmIGVxdWFsIHRoZW4gTEVcbiAgICAgICAgfSkoKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9tZWRpYUluZm8gPSBudWxsO1xuICAgICAgICB0aGlzLl9tZXRhZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2F1ZGlvTWV0YWRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLl92aWRlb01ldGFkYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdmlkZW9UcmFjayA9IG51bGw7XG4gICAgICAgIHRoaXMuX2F1ZGlvVHJhY2sgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX29uRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbk1lZGlhSW5mbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uVHJhY2tNZXRhZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uRGF0YUF2YWlsYWJsZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG51bGw7XG4gICAgfVxuXG4gICAgc3RhdGljIHByb2JlKGJ1ZmZlcikge1xuICAgICAgICBsZXQgZGF0YSA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgICAgIGxldCBtaXNtYXRjaCA9IHttYXRjaDogZmFsc2V9O1xuXG4gICAgICAgIGlmIChkYXRhWzBdICE9PSAweDQ2IHx8IGRhdGFbMV0gIT09IDB4NEMgfHwgZGF0YVsyXSAhPT0gMHg1NiB8fCBkYXRhWzNdICE9PSAweDAxKSB7XG4gICAgICAgICAgICByZXR1cm4gbWlzbWF0Y2g7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGFzQXVkaW8gPSAoKGRhdGFbNF0gJiA0KSA+Pj4gMikgIT09IDA7XG4gICAgICAgIGxldCBoYXNWaWRlbyA9IChkYXRhWzRdICYgMSkgIT09IDA7XG5cbiAgICAgICAgbGV0IG9mZnNldCA9IFJlYWRCaWczMihkYXRhLCA1KTtcblxuICAgICAgICBpZiAob2Zmc2V0IDwgOSkge1xuICAgICAgICAgICAgcmV0dXJuIG1pc21hdGNoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1hdGNoOiB0cnVlLFxuICAgICAgICAgICAgY29uc3VtZWQ6IG9mZnNldCxcbiAgICAgICAgICAgIGRhdGFPZmZzZXQ6IG9mZnNldCxcbiAgICAgICAgICAgIGhhc0F1ZGlvVHJhY2s6IGhhc0F1ZGlvLFxuICAgICAgICAgICAgaGFzVmlkZW9UcmFjazogaGFzVmlkZW9cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBiaW5kRGF0YVNvdXJjZShsb2FkZXIpIHtcbiAgICAgICAgbG9hZGVyLm9uRGF0YUFycml2YWwgPSB0aGlzLnBhcnNlQ2h1bmtzLmJpbmQodGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIHByb3RvdHlwZTogZnVuY3Rpb24odHlwZTogc3RyaW5nLCBtZXRhZGF0YTogYW55KTogdm9pZFxuICAgIGdldCBvblRyYWNrTWV0YWRhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vblRyYWNrTWV0YWRhdGE7XG4gICAgfVxuXG4gICAgc2V0IG9uVHJhY2tNZXRhZGF0YShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vblRyYWNrTWV0YWRhdGEgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICAvLyBwcm90b3R5cGU6IGZ1bmN0aW9uKG1lZGlhSW5mbzogTWVkaWFJbmZvKTogdm9pZFxuICAgIGdldCBvbk1lZGlhSW5mbygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uTWVkaWFJbmZvO1xuICAgIH1cblxuICAgIHNldCBvbk1lZGlhSW5mbyhjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbk1lZGlhSW5mbyA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIC8vIHByb3RvdHlwZTogZnVuY3Rpb24odHlwZTogbnVtYmVyLCBpbmZvOiBzdHJpbmcpOiB2b2lkXG4gICAgZ2V0IG9uRXJyb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkVycm9yO1xuICAgIH1cblxuICAgIHNldCBvbkVycm9yKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uRXJyb3IgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICAvLyBwcm90b3R5cGU6IGZ1bmN0aW9uKHZpZGVvVHJhY2s6IGFueSwgYXVkaW9UcmFjazogYW55KTogdm9pZFxuICAgIGdldCBvbkRhdGFBdmFpbGFibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkRhdGFBdmFpbGFibGU7XG4gICAgfVxuXG4gICAgc2V0IG9uRGF0YUF2YWlsYWJsZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbkRhdGFBdmFpbGFibGUgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICAvLyB0aW1lc3RhbXAgYmFzZSBmb3Igb3V0cHV0IHNhbXBsZXMsIG11c3QgYmUgaW4gbWlsbGlzZWNvbmRzXG4gICAgZ2V0IHRpbWVzdGFtcEJhc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW1lc3RhbXBCYXNlO1xuICAgIH1cblxuICAgIHNldCB0aW1lc3RhbXBCYXNlKGJhc2UpIHtcbiAgICAgICAgdGhpcy5fdGltZXN0YW1wQmFzZSA9IGJhc2U7XG4gICAgfVxuXG4gICAgZ2V0IG92ZXJyaWRlZER1cmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHVyYXRpb247XG4gICAgfVxuXG4gICAgLy8gRm9yY2Utb3ZlcnJpZGUgbWVkaWEgZHVyYXRpb24uIE11c3QgYmUgaW4gbWlsbGlzZWNvbmRzLCBpbnQzMlxuICAgIHNldCBvdmVycmlkZWREdXJhdGlvbihkdXJhdGlvbikge1xuICAgICAgICB0aGlzLl9kdXJhdGlvbk92ZXJyaWRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2R1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICAgIHRoaXMuX21lZGlhSW5mby5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgIH1cblxuICAgIC8vIEZvcmNlLW92ZXJyaWRlIGF1ZGlvIHRyYWNrIHByZXNlbnQgZmxhZywgYm9vbGVhblxuICAgIHNldCBvdmVycmlkZWRIYXNBdWRpbyhoYXNBdWRpbykge1xuICAgICAgICB0aGlzLl9oYXNBdWRpb0ZsYWdPdmVycmlkZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9oYXNBdWRpbyA9IGhhc0F1ZGlvO1xuICAgICAgICB0aGlzLl9tZWRpYUluZm8uaGFzQXVkaW8gPSBoYXNBdWRpbztcbiAgICB9XG5cbiAgICAvLyBGb3JjZS1vdmVycmlkZSB2aWRlbyB0cmFjayBwcmVzZW50IGZsYWcsIGJvb2xlYW5cbiAgICBzZXQgb3ZlcnJpZGVkSGFzVmlkZW8oaGFzVmlkZW8pIHtcbiAgICAgICAgdGhpcy5faGFzVmlkZW9GbGFnT3ZlcnJpZGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faGFzVmlkZW8gPSBoYXNWaWRlbztcbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhhc1ZpZGVvID0gaGFzVmlkZW87XG4gICAgfVxuXG4gICAgcmVzZXRNZWRpYUluZm8oKSB7XG4gICAgICAgIHRoaXMuX21lZGlhSW5mbyA9IG5ldyBNZWRpYUluZm8oKTtcbiAgICB9XG5cbiAgICBfaXNJbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkKCkge1xuICAgICAgICBpZiAodGhpcy5faGFzQXVkaW8gJiYgdGhpcy5faGFzVmlkZW8pIHsgIC8vIGJvdGggYXVkaW8gJiB2aWRlb1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1ZGlvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCAmJiB0aGlzLl92aWRlb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2hhc0F1ZGlvICYmICF0aGlzLl9oYXNWaWRlbykgeyAgLy8gYXVkaW8gb25seVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1ZGlvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2hhc0F1ZGlvICYmIHRoaXMuX2hhc1ZpZGVvKSB7ICAvLyB2aWRlbyBvbmx5XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmlkZW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBmdW5jdGlvbiBwYXJzZUNodW5rcyhjaHVuazogQXJyYXlCdWZmZXIsIGJ5dGVTdGFydDogbnVtYmVyKTogbnVtYmVyO1xuICAgIHBhcnNlQ2h1bmtzKGNodW5rLCBieXRlU3RhcnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9vbkVycm9yIHx8ICF0aGlzLl9vbk1lZGlhSW5mbyB8fCAhdGhpcy5fb25UcmFja01ldGFkYXRhIHx8ICF0aGlzLl9vbkRhdGFBdmFpbGFibGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ0Zsdjogb25FcnJvciAmIG9uTWVkaWFJbmZvICYgb25UcmFja01ldGFkYXRhICYgb25EYXRhQXZhaWxhYmxlIGNhbGxiYWNrIG11c3QgYmUgc3BlY2lmaWVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgbGV0IGxlID0gdGhpcy5fbGl0dGxlRW5kaWFuO1xuXG4gICAgICAgIGlmIChieXRlU3RhcnQgPT09IDApIHsgIC8vIGJ1ZmZlciB3aXRoIEZMViBoZWFkZXJcbiAgICAgICAgICAgIGlmIChjaHVuay5ieXRlTGVuZ3RoID4gMTMpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJvYmVEYXRhID0gRkxWRGVtdXhlci5wcm9iZShjaHVuayk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gcHJvYmVEYXRhLmRhdGFPZmZzZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZpcnN0UGFyc2UpIHsgIC8vIGhhbmRsZSBQcmV2aW91c1RhZ1NpemUwIGJlZm9yZSBUYWcxXG4gICAgICAgICAgICB0aGlzLl9maXJzdFBhcnNlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoYnl0ZVN0YXJ0ICsgb2Zmc2V0ICE9PSB0aGlzLl9kYXRhT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsICdGaXJzdCB0aW1lIHBhcnNpbmcgYnV0IGNodW5rIGJ5dGVTdGFydCBpbnZhbGlkIScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdiA9IG5ldyBEYXRhVmlldyhjaHVuaywgb2Zmc2V0KTtcbiAgICAgICAgICAgIGxldCBwcmV2VGFnU2l6ZTAgPSB2LmdldFVpbnQzMigwLCAhbGUpO1xuICAgICAgICAgICAgaWYgKHByZXZUYWdTaXplMCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCAnUHJldlRhZ1NpemUwICE9PSAwICEhIScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAob2Zmc2V0IDwgY2h1bmsuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2ggPSB0cnVlO1xuXG4gICAgICAgICAgICBsZXQgdiA9IG5ldyBEYXRhVmlldyhjaHVuaywgb2Zmc2V0KTtcblxuICAgICAgICAgICAgaWYgKG9mZnNldCArIDExICsgNCA+IGNodW5rLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBkYXRhIG5vdCBlbm91Z2ggZm9yIHBhcnNpbmcgYW4gZmx2IHRhZ1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdGFnVHlwZSA9IHYuZ2V0VWludDgoMCk7XG4gICAgICAgICAgICBsZXQgZGF0YVNpemUgPSB2LmdldFVpbnQzMigwLCAhbGUpICYgMHgwMEZGRkZGRjtcblxuICAgICAgICAgICAgaWYgKG9mZnNldCArIDExICsgZGF0YVNpemUgKyA0ID4gY2h1bmsuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIGRhdGEgbm90IGVub3VnaCBmb3IgcGFyc2luZyBhY3R1YWwgZGF0YSBib2R5XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0YWdUeXBlICE9PSA4ICYmIHRhZ1R5cGUgIT09IDkgJiYgdGFnVHlwZSAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgYFVuc3VwcG9ydGVkIHRhZyB0eXBlICR7dGFnVHlwZX0sIHNraXBwZWRgKTtcbiAgICAgICAgICAgICAgICAvLyBjb25zdW1lIHRoZSB3aG9sZSB0YWcgKHNraXAgaXQpXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDExICsgZGF0YVNpemUgKyA0O1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdHMyID0gdi5nZXRVaW50OCg0KTtcbiAgICAgICAgICAgIGxldCB0czEgPSB2LmdldFVpbnQ4KDUpO1xuICAgICAgICAgICAgbGV0IHRzMCA9IHYuZ2V0VWludDgoNik7XG4gICAgICAgICAgICBsZXQgdHMzID0gdi5nZXRVaW50OCg3KTtcblxuICAgICAgICAgICAgbGV0IHRpbWVzdGFtcCA9IHRzMCB8ICh0czEgPDwgOCkgfCAodHMyIDw8IDE2KSB8ICh0czMgPDwgMjQpO1xuXG4gICAgICAgICAgICBsZXQgc3RyZWFtSWQgPSB2LmdldFVpbnQzMig3LCAhbGUpICYgMHgwMEZGRkZGRjtcbiAgICAgICAgICAgIGlmIChzdHJlYW1JZCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCAnTWVldCB0YWcgd2hpY2ggaGFzIFN0cmVhbUlEICE9IDAhJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBkYXRhT2Zmc2V0ID0gb2Zmc2V0ICsgMTE7XG5cbiAgICAgICAgICAgIHN3aXRjaCAodGFnVHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgODogIC8vIEF1ZGlvXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcnNlQXVkaW9EYXRhKGNodW5rLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSwgdGltZXN0YW1wKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA5OiAgLy8gVmlkZW9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFyc2VWaWRlb0RhdGEoY2h1bmssIGRhdGFPZmZzZXQsIGRhdGFTaXplLCB0aW1lc3RhbXAsIGJ5dGVTdGFydCArIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTg6ICAvLyBTY3JpcHREYXRhT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcnNlU2NyaXB0RGF0YShjaHVuaywgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHByZXZUYWdTaXplID0gdi5nZXRVaW50MzIoMTEgKyBkYXRhU2l6ZSwgIWxlKTtcbiAgICAgICAgICAgIGlmIChwcmV2VGFnU2l6ZSAhPT0gMTEgKyBkYXRhU2l6ZSkge1xuICAgICAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCBgSW52YWxpZCBQcmV2VGFnU2l6ZSAke3ByZXZUYWdTaXplfWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvZmZzZXQgKz0gMTEgKyBkYXRhU2l6ZSArIDQ7ICAvLyB0YWdCb2R5ICsgZGF0YVNpemUgKyBwcmV2VGFnU2l6ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGlzcGF0Y2ggcGFyc2VkIGZyYW1lcyB0byBjb25zdW1lciAodHlwaWNhbGx5LCB0aGUgcmVtdXhlcilcbiAgICAgICAgaWYgKHRoaXMuX2lzSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCgpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGlzcGF0Y2ggJiYgKHRoaXMuX2F1ZGlvVHJhY2subGVuZ3RoIHx8IHRoaXMuX3ZpZGVvVHJhY2subGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRGF0YUF2YWlsYWJsZSh0aGlzLl9hdWRpb1RyYWNrLCB0aGlzLl92aWRlb1RyYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvZmZzZXQ7ICAvLyBjb25zdW1lZCBieXRlcywganVzdCBlcXVhbHMgbGF0ZXN0IG9mZnNldCBpbmRleFxuICAgIH1cblxuICAgIF9wYXJzZVNjcmlwdERhdGEoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKSB7XG4gICAgICAgIGxldCBzY3JpcHREYXRhID0gQU1GLnBhcnNlU2NyaXB0RGF0YShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuXG4gICAgICAgIGlmIChzY3JpcHREYXRhLmhhc093blByb3BlcnR5KCdvbk1ldGFEYXRhJykpIHtcbiAgICAgICAgICAgIGlmIChzY3JpcHREYXRhLm9uTWV0YURhdGEgPT0gbnVsbCB8fCB0eXBlb2Ygc2NyaXB0RGF0YS5vbk1ldGFEYXRhICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCAnSW52YWxpZCBvbk1ldGFEYXRhIHN0cnVjdHVyZSEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fbWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgJ0ZvdW5kIGFub3RoZXIgb25NZXRhRGF0YSB0YWchJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tZXRhZGF0YSA9IHNjcmlwdERhdGE7XG4gICAgICAgICAgICBsZXQgb25NZXRhRGF0YSA9IHRoaXMuX21ldGFkYXRhLm9uTWV0YURhdGE7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoJ21ldGFkYXRhX2Fycml2ZWQnLCBvbk1ldGFEYXRhKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbk1ldGFEYXRhLmhhc0F1ZGlvID09PSAnYm9vbGVhbicpIHsgIC8vIGhhc0F1ZGlvXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2hhc0F1ZGlvRmxhZ092ZXJyaWRlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFzQXVkaW8gPSBvbk1ldGFEYXRhLmhhc0F1ZGlvO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8uaGFzQXVkaW8gPSB0aGlzLl9oYXNBdWRpbztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uTWV0YURhdGEuaGFzVmlkZW8gPT09ICdib29sZWFuJykgeyAgLy8gaGFzVmlkZW9cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faGFzVmlkZW9GbGFnT3ZlcnJpZGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYXNWaWRlbyA9IG9uTWV0YURhdGEuaGFzVmlkZW87XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5oYXNWaWRlbyA9IHRoaXMuX2hhc1ZpZGVvO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25NZXRhRGF0YS5hdWRpb2RhdGFyYXRlID09PSAnbnVtYmVyJykgeyAgLy8gYXVkaW9kYXRhcmF0ZVxuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5hdWRpb0RhdGFSYXRlID0gb25NZXRhRGF0YS5hdWRpb2RhdGFyYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbk1ldGFEYXRhLnZpZGVvZGF0YXJhdGUgPT09ICdudW1iZXInKSB7ICAvLyB2aWRlb2RhdGFyYXRlXG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLnZpZGVvRGF0YVJhdGUgPSBvbk1ldGFEYXRhLnZpZGVvZGF0YXJhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uTWV0YURhdGEud2lkdGggPT09ICdudW1iZXInKSB7ICAvLyB3aWR0aFxuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby53aWR0aCA9IG9uTWV0YURhdGEud2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uTWV0YURhdGEuaGVpZ2h0ID09PSAnbnVtYmVyJykgeyAgLy8gaGVpZ2h0XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhlaWdodCA9IG9uTWV0YURhdGEuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbk1ldGFEYXRhLmR1cmF0aW9uID09PSAnbnVtYmVyJykgeyAgLy8gZHVyYXRpb25cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2R1cmF0aW9uT3ZlcnJpZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9IE1hdGguZmxvb3Iob25NZXRhRGF0YS5kdXJhdGlvbiAqIHRoaXMuX3RpbWVzY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmR1cmF0aW9uID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25NZXRhRGF0YS5mcmFtZXJhdGUgPT09ICdudW1iZXInKSB7ICAvLyBmcmFtZXJhdGVcbiAgICAgICAgICAgICAgICBsZXQgZnBzX251bSA9IE1hdGguZmxvb3Iob25NZXRhRGF0YS5mcmFtZXJhdGUgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICBpZiAoZnBzX251bSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZwcyA9IGZwc19udW0gLyAxMDAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZlcmVuY2VGcmFtZVJhdGUuZml4ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZlcmVuY2VGcmFtZVJhdGUuZnBzID0gZnBzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZlcmVuY2VGcmFtZVJhdGUuZnBzX251bSA9IGZwc19udW07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUZyYW1lUmF0ZS5mcHNfZGVuID0gMTAwMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmZwcyA9IGZwcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uTWV0YURhdGEua2V5ZnJhbWVzID09PSAnb2JqZWN0JykgeyAgLy8ga2V5ZnJhbWVzXG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhhc0tleWZyYW1lc0luZGV4ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsZXQga2V5ZnJhbWVzID0gb25NZXRhRGF0YS5rZXlmcmFtZXM7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmtleWZyYW1lc0luZGV4ID0gdGhpcy5fcGFyc2VLZXlmcmFtZXNJbmRleChrZXlmcmFtZXMpO1xuICAgICAgICAgICAgICAgIG9uTWV0YURhdGEua2V5ZnJhbWVzID0gbnVsbDsgIC8vIGtleWZyYW1lcyBoYXMgYmVlbiBleHRyYWN0ZWQsIHJlbW92ZSBpdFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8uaGFzS2V5ZnJhbWVzSW5kZXggPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8ubWV0YWRhdGEgPSBvbk1ldGFEYXRhO1xuICAgICAgICAgICAgTG9nLnYodGhpcy5UQUcsICdQYXJzZWQgb25NZXRhRGF0YScpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX21lZGlhSW5mby5pc0NvbXBsZXRlKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbk1lZGlhSW5mbyh0aGlzLl9tZWRpYUluZm8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3BhcnNlS2V5ZnJhbWVzSW5kZXgoa2V5ZnJhbWVzKSB7XG4gICAgICAgIGxldCB0aW1lcyA9IFtdO1xuICAgICAgICBsZXQgZmlsZXBvc2l0aW9ucyA9IFtdO1xuXG4gICAgICAgIC8vIGlnbm9yZSBmaXJzdCBrZXlmcmFtZSB3aGljaCBpcyBhY3R1YWxseSBBVkMgU2VxdWVuY2UgSGVhZGVyIChBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZClcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBrZXlmcmFtZXMudGltZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB0aW1lID0gdGhpcy5fdGltZXN0YW1wQmFzZSArIE1hdGguZmxvb3Ioa2V5ZnJhbWVzLnRpbWVzW2ldICogMTAwMCk7XG4gICAgICAgICAgICB0aW1lcy5wdXNoKHRpbWUpO1xuICAgICAgICAgICAgZmlsZXBvc2l0aW9ucy5wdXNoKGtleWZyYW1lcy5maWxlcG9zaXRpb25zW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0aW1lczogdGltZXMsXG4gICAgICAgICAgICBmaWxlcG9zaXRpb25zOiBmaWxlcG9zaXRpb25zXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX3BhcnNlQXVkaW9EYXRhKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSwgdGFnVGltZXN0YW1wKSB7XG4gICAgICAgIGlmIChkYXRhU2l6ZSA8PSAxKSB7XG4gICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgJ0ZsdjogSW52YWxpZCBhdWRpbyBwYWNrZXQsIG1pc3NpbmcgU291bmREYXRhIHBheWxvYWQhJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faGFzQXVkaW9GbGFnT3ZlcnJpZGVkID09PSB0cnVlICYmIHRoaXMuX2hhc0F1ZGlvID09PSBmYWxzZSkge1xuICAgICAgICAgICAgLy8gSWYgaGFzQXVkaW86IGZhbHNlIGluZGljYXRlZCBleHBsaWNpdGx5IGluIE1lZGlhRGF0YVNvdXJjZSxcbiAgICAgICAgICAgIC8vIElnbm9yZSBhbGwgdGhlIGF1ZGlvIHBhY2tldHNcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsZSA9IHRoaXMuX2xpdHRsZUVuZGlhbjtcbiAgICAgICAgbGV0IHYgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcblxuICAgICAgICBsZXQgc291bmRTcGVjID0gdi5nZXRVaW50OCgwKTtcblxuICAgICAgICBsZXQgc291bmRGb3JtYXQgPSBzb3VuZFNwZWMgPj4+IDQ7XG4gICAgICAgIGlmIChzb3VuZEZvcm1hdCAhPT0gMiAmJiBzb3VuZEZvcm1hdCAhPT0gMTApIHsgIC8vIE1QMyBvciBBQUNcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoRGVtdXhFcnJvcnMuQ09ERUNfVU5TVVBQT1JURUQsICdGbHY6IFVuc3VwcG9ydGVkIGF1ZGlvIGNvZGVjIGlkeDogJyArIHNvdW5kRm9ybWF0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzb3VuZFJhdGUgPSAwO1xuICAgICAgICBsZXQgc291bmRSYXRlSW5kZXggPSAoc291bmRTcGVjICYgMTIpID4+PiAyO1xuICAgICAgICBpZiAoc291bmRSYXRlSW5kZXggPj0gMCAmJiBzb3VuZFJhdGVJbmRleCA8PSA0KSB7XG4gICAgICAgICAgICBzb3VuZFJhdGUgPSB0aGlzLl9mbHZTb3VuZFJhdGVUYWJsZVtzb3VuZFJhdGVJbmRleF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkZPUk1BVF9FUlJPUiwgJ0ZsdjogSW52YWxpZCBhdWRpbyBzYW1wbGUgcmF0ZSBpZHg6ICcgKyBzb3VuZFJhdGVJbmRleCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc291bmRTaXplID0gKHNvdW5kU3BlYyAmIDIpID4+PiAxOyAgLy8gdW51c2VkXG4gICAgICAgIGxldCBzb3VuZFR5cGUgPSAoc291bmRTcGVjICYgMSk7XG5cblxuICAgICAgICBsZXQgbWV0YSA9IHRoaXMuX2F1ZGlvTWV0YWRhdGE7XG4gICAgICAgIGxldCB0cmFjayA9IHRoaXMuX2F1ZGlvVHJhY2s7XG5cbiAgICAgICAgaWYgKCFtZXRhKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faGFzQXVkaW8gPT09IGZhbHNlICYmIHRoaXMuX2hhc0F1ZGlvRmxhZ092ZXJyaWRlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYXNBdWRpbyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhhc0F1ZGlvID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaW5pdGlhbCBtZXRhZGF0YVxuICAgICAgICAgICAgbWV0YSA9IHRoaXMuX2F1ZGlvTWV0YWRhdGEgPSB7fTtcbiAgICAgICAgICAgIG1ldGEudHlwZSA9ICdhdWRpbyc7XG4gICAgICAgICAgICBtZXRhLmlkID0gdHJhY2suaWQ7XG4gICAgICAgICAgICBtZXRhLnRpbWVzY2FsZSA9IHRoaXMuX3RpbWVzY2FsZTtcbiAgICAgICAgICAgIG1ldGEuZHVyYXRpb24gPSB0aGlzLl9kdXJhdGlvbjtcbiAgICAgICAgICAgIG1ldGEuYXVkaW9TYW1wbGVSYXRlID0gc291bmRSYXRlO1xuICAgICAgICAgICAgbWV0YS5jaGFubmVsQ291bnQgPSAoc291bmRUeXBlID09PSAwID8gMSA6IDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNvdW5kRm9ybWF0ID09PSAxMCkgeyAgLy8gQUFDXG4gICAgICAgICAgICBsZXQgYWFjRGF0YSA9IHRoaXMuX3BhcnNlQUFDQXVkaW9EYXRhKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgMSwgZGF0YVNpemUgLSAxKTtcbiAgICAgICAgICAgIGlmIChhYWNEYXRhID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGFhY0RhdGEucGFja2V0VHlwZSA9PT0gMCkgeyAgLy8gQUFDIHNlcXVlbmNlIGhlYWRlciAoQXVkaW9TcGVjaWZpY0NvbmZpZylcbiAgICAgICAgICAgICAgICBpZiAobWV0YS5jb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsICdGb3VuZCBhbm90aGVyIEF1ZGlvU3BlY2lmaWNDb25maWchJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBtaXNjID0gYWFjRGF0YS5kYXRhO1xuICAgICAgICAgICAgICAgIG1ldGEuYXVkaW9TYW1wbGVSYXRlID0gbWlzYy5zYW1wbGluZ1JhdGU7XG4gICAgICAgICAgICAgICAgbWV0YS5jaGFubmVsQ291bnQgPSBtaXNjLmNoYW5uZWxDb3VudDtcbiAgICAgICAgICAgICAgICBtZXRhLmNvZGVjID0gbWlzYy5jb2RlYztcbiAgICAgICAgICAgICAgICBtZXRhLm9yaWdpbmFsQ29kZWMgPSBtaXNjLm9yaWdpbmFsQ29kZWM7XG4gICAgICAgICAgICAgICAgbWV0YS5jb25maWcgPSBtaXNjLmNvbmZpZztcbiAgICAgICAgICAgICAgICAvLyBUaGUgZGVjb2RlIHJlc3VsdCBvZiBhbiBhYWMgc2FtcGxlIGlzIDEwMjQgUENNIHNhbXBsZXNcbiAgICAgICAgICAgICAgICBtZXRhLnJlZlNhbXBsZUR1cmF0aW9uID0gMTAyNCAvIG1ldGEuYXVkaW9TYW1wbGVSYXRlICogbWV0YS50aW1lc2NhbGU7XG4gICAgICAgICAgICAgICAgTG9nLnYodGhpcy5UQUcsICdQYXJzZWQgQXVkaW9TcGVjaWZpY0NvbmZpZycpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vbi1pbml0aWFsIG1ldGFkYXRhLCBmb3JjZSBkaXNwYXRjaCAob3IgZmx1c2gpIHBhcnNlZCBmcmFtZXMgdG8gcmVtdXhlclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZGlzcGF0Y2ggJiYgKHRoaXMuX2F1ZGlvVHJhY2subGVuZ3RoIHx8IHRoaXMuX3ZpZGVvVHJhY2subGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25EYXRhQXZhaWxhYmxlKHRoaXMuX2F1ZGlvVHJhY2ssIHRoaXMuX3ZpZGVvVHJhY2spO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXVkaW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gdGhlbiBub3RpZnkgbmV3IG1ldGFkYXRhXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vblRyYWNrTWV0YWRhdGEoJ2F1ZGlvJywgbWV0YSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgbWkgPSB0aGlzLl9tZWRpYUluZm87XG4gICAgICAgICAgICAgICAgbWkuYXVkaW9Db2RlYyA9IG1ldGEub3JpZ2luYWxDb2RlYztcbiAgICAgICAgICAgICAgICBtaS5hdWRpb1NhbXBsZVJhdGUgPSBtZXRhLmF1ZGlvU2FtcGxlUmF0ZTtcbiAgICAgICAgICAgICAgICBtaS5hdWRpb0NoYW5uZWxDb3VudCA9IG1ldGEuY2hhbm5lbENvdW50O1xuICAgICAgICAgICAgICAgIGlmIChtaS5oYXNWaWRlbykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWkudmlkZW9Db2RlYyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaS5taW1lVHlwZSA9ICd2aWRlby94LWZsdjsgY29kZWNzPVwiJyArIG1pLnZpZGVvQ29kZWMgKyAnLCcgKyBtaS5hdWRpb0NvZGVjICsgJ1wiJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1pLm1pbWVUeXBlID0gJ3ZpZGVvL3gtZmx2OyBjb2RlY3M9XCInICsgbWkuYXVkaW9Db2RlYyArICdcIic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtaS5pc0NvbXBsZXRlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25NZWRpYUluZm8obWkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYWFjRGF0YS5wYWNrZXRUeXBlID09PSAxKSB7ICAvLyBBQUMgcmF3IGZyYW1lIGRhdGFcbiAgICAgICAgICAgICAgICBsZXQgZHRzID0gdGhpcy5fdGltZXN0YW1wQmFzZSArIHRhZ1RpbWVzdGFtcDtcbiAgICAgICAgICAgICAgICBsZXQgYWFjU2FtcGxlID0ge3VuaXQ6IGFhY0RhdGEuZGF0YSwgbGVuZ3RoOiBhYWNEYXRhLmRhdGEuYnl0ZUxlbmd0aCwgZHRzOiBkdHMsIHB0czogZHRzfTtcbiAgICAgICAgICAgICAgICB0cmFjay5zYW1wbGVzLnB1c2goYWFjU2FtcGxlKTtcbiAgICAgICAgICAgICAgICB0cmFjay5sZW5ndGggKz0gYWFjRGF0YS5kYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgTG9nLmUodGhpcy5UQUcsIGBGbHY6IFVuc3VwcG9ydGVkIEFBQyBkYXRhIHR5cGUgJHthYWNEYXRhLnBhY2tldFR5cGV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc291bmRGb3JtYXQgPT09IDIpIHsgIC8vIE1QM1xuICAgICAgICAgICAgaWYgKCFtZXRhLmNvZGVjKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgbmVlZCBtZXRhZGF0YSBmb3IgbXAzIGF1ZGlvIHRyYWNrLCBleHRyYWN0IGluZm8gZnJvbSBmcmFtZSBoZWFkZXJcbiAgICAgICAgICAgICAgICBsZXQgbWlzYyA9IHRoaXMuX3BhcnNlTVAzQXVkaW9EYXRhKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgMSwgZGF0YVNpemUgLSAxLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAobWlzYyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtZXRhLmF1ZGlvU2FtcGxlUmF0ZSA9IG1pc2Muc2FtcGxpbmdSYXRlO1xuICAgICAgICAgICAgICAgIG1ldGEuY2hhbm5lbENvdW50ID0gbWlzYy5jaGFubmVsQ291bnQ7XG4gICAgICAgICAgICAgICAgbWV0YS5jb2RlYyA9IG1pc2MuY29kZWM7XG4gICAgICAgICAgICAgICAgbWV0YS5vcmlnaW5hbENvZGVjID0gbWlzYy5vcmlnaW5hbENvZGVjO1xuICAgICAgICAgICAgICAgIC8vIFRoZSBkZWNvZGUgcmVzdWx0IG9mIGFuIG1wMyBzYW1wbGUgaXMgMTE1MiBQQ00gc2FtcGxlc1xuICAgICAgICAgICAgICAgIG1ldGEucmVmU2FtcGxlRHVyYXRpb24gPSAxMTUyIC8gbWV0YS5hdWRpb1NhbXBsZVJhdGUgKiBtZXRhLnRpbWVzY2FsZTtcbiAgICAgICAgICAgICAgICBMb2cudih0aGlzLlRBRywgJ1BhcnNlZCBNUEVHIEF1ZGlvIEZyYW1lIEhlYWRlcicpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fYXVkaW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vblRyYWNrTWV0YWRhdGEoJ2F1ZGlvJywgbWV0YSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgbWkgPSB0aGlzLl9tZWRpYUluZm87XG4gICAgICAgICAgICAgICAgbWkuYXVkaW9Db2RlYyA9IG1ldGEuY29kZWM7XG4gICAgICAgICAgICAgICAgbWkuYXVkaW9TYW1wbGVSYXRlID0gbWV0YS5hdWRpb1NhbXBsZVJhdGU7XG4gICAgICAgICAgICAgICAgbWkuYXVkaW9DaGFubmVsQ291bnQgPSBtZXRhLmNoYW5uZWxDb3VudDtcbiAgICAgICAgICAgICAgICBtaS5hdWRpb0RhdGFSYXRlID0gbWlzYy5iaXRSYXRlO1xuICAgICAgICAgICAgICAgIGlmIChtaS5oYXNWaWRlbykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWkudmlkZW9Db2RlYyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaS5taW1lVHlwZSA9ICd2aWRlby94LWZsdjsgY29kZWNzPVwiJyArIG1pLnZpZGVvQ29kZWMgKyAnLCcgKyBtaS5hdWRpb0NvZGVjICsgJ1wiJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1pLm1pbWVUeXBlID0gJ3ZpZGVvL3gtZmx2OyBjb2RlY3M9XCInICsgbWkuYXVkaW9Db2RlYyArICdcIic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtaS5pc0NvbXBsZXRlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25NZWRpYUluZm8obWkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVGhpcyBwYWNrZXQgaXMgYWx3YXlzIGEgdmFsaWQgYXVkaW8gcGFja2V0LCBleHRyYWN0IGl0XG4gICAgICAgICAgICBsZXQgZGF0YSA9IHRoaXMuX3BhcnNlTVAzQXVkaW9EYXRhKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgMSwgZGF0YVNpemUgLSAxLCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoZGF0YSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZHRzID0gdGhpcy5fdGltZXN0YW1wQmFzZSArIHRhZ1RpbWVzdGFtcDtcbiAgICAgICAgICAgIGxldCBtcDNTYW1wbGUgPSB7dW5pdDogZGF0YSwgbGVuZ3RoOiBkYXRhLmJ5dGVMZW5ndGgsIGR0czogZHRzLCBwdHM6IGR0c307XG4gICAgICAgICAgICB0cmFjay5zYW1wbGVzLnB1c2gobXAzU2FtcGxlKTtcbiAgICAgICAgICAgIHRyYWNrLmxlbmd0aCArPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9wYXJzZUFBQ0F1ZGlvRGF0YShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDw9IDEpIHtcbiAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCAnRmx2OiBJbnZhbGlkIEFBQyBwYWNrZXQsIG1pc3NpbmcgQUFDUGFja2V0VHlwZSBvci9hbmQgRGF0YSEnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXN1bHQgPSB7fTtcbiAgICAgICAgbGV0IGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcblxuICAgICAgICByZXN1bHQucGFja2V0VHlwZSA9IGFycmF5WzBdO1xuXG4gICAgICAgIGlmIChhcnJheVswXSA9PT0gMCkge1xuICAgICAgICAgICAgcmVzdWx0LmRhdGEgPSB0aGlzLl9wYXJzZUFBQ0F1ZGlvU3BlY2lmaWNDb25maWcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyAxLCBkYXRhU2l6ZSAtIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LmRhdGEgPSBhcnJheS5zdWJhcnJheSgxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgX3BhcnNlQUFDQXVkaW9TcGVjaWZpY0NvbmZpZyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgbGV0IGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcbiAgICAgICAgbGV0IGNvbmZpZyA9IG51bGw7XG5cbiAgICAgICAgLyogQXVkaW8gT2JqZWN0IFR5cGU6XG4gICAgICAgICAgIDA6IE51bGxcbiAgICAgICAgICAgMTogQUFDIE1haW5cbiAgICAgICAgICAgMjogQUFDIExDXG4gICAgICAgICAgIDM6IEFBQyBTU1IgKFNjYWxhYmxlIFNhbXBsZSBSYXRlKVxuICAgICAgICAgICA0OiBBQUMgTFRQIChMb25nIFRlcm0gUHJlZGljdGlvbilcbiAgICAgICAgICAgNTogSEUtQUFDIC8gU0JSIChTcGVjdHJhbCBCYW5kIFJlcGxpY2F0aW9uKVxuICAgICAgICAgICA2OiBBQUMgU2NhbGFibGVcbiAgICAgICAgKi9cblxuICAgICAgICBsZXQgYXVkaW9PYmplY3RUeXBlID0gMDtcbiAgICAgICAgbGV0IG9yaWdpbmFsQXVkaW9PYmplY3RUeXBlID0gMDtcbiAgICAgICAgbGV0IGF1ZGlvRXh0ZW5zaW9uT2JqZWN0VHlwZSA9IG51bGw7XG4gICAgICAgIGxldCBzYW1wbGluZ0luZGV4ID0gMDtcbiAgICAgICAgbGV0IGV4dGVuc2lvblNhbXBsaW5nSW5kZXggPSBudWxsO1xuXG4gICAgICAgIC8vIDUgYml0c1xuICAgICAgICBhdWRpb09iamVjdFR5cGUgPSBvcmlnaW5hbEF1ZGlvT2JqZWN0VHlwZSA9IGFycmF5WzBdID4+PiAzO1xuICAgICAgICAvLyA0IGJpdHNcbiAgICAgICAgc2FtcGxpbmdJbmRleCA9ICgoYXJyYXlbMF0gJiAweDA3KSA8PCAxKSB8IChhcnJheVsxXSA+Pj4gNyk7XG4gICAgICAgIGlmIChzYW1wbGluZ0luZGV4IDwgMCB8fCBzYW1wbGluZ0luZGV4ID49IHRoaXMuX21wZWdTYW1wbGluZ1JhdGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcihEZW11eEVycm9ycy5GT1JNQVRfRVJST1IsICdGbHY6IEFBQyBpbnZhbGlkIHNhbXBsaW5nIGZyZXF1ZW5jeSBpbmRleCEnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzYW1wbGluZ0ZyZXF1ZW5jZSA9IHRoaXMuX21wZWdTYW1wbGluZ1JhdGVzW3NhbXBsaW5nSW5kZXhdO1xuXG4gICAgICAgIC8vIDQgYml0c1xuICAgICAgICBsZXQgY2hhbm5lbENvbmZpZyA9IChhcnJheVsxXSAmIDB4NzgpID4+PiAzO1xuICAgICAgICBpZiAoY2hhbm5lbENvbmZpZyA8IDAgfHwgY2hhbm5lbENvbmZpZyA+PSA4KSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkZPUk1BVF9FUlJPUiwgJ0ZsdjogQUFDIGludmFsaWQgY2hhbm5lbCBjb25maWd1cmF0aW9uJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXVkaW9PYmplY3RUeXBlID09PSA1KSB7ICAvLyBIRS1BQUM/XG4gICAgICAgICAgICAvLyA0IGJpdHNcbiAgICAgICAgICAgIGV4dGVuc2lvblNhbXBsaW5nSW5kZXggPSAoKGFycmF5WzFdICYgMHgwNykgPDwgMSkgfCAoYXJyYXlbMl0gPj4+IDcpO1xuICAgICAgICAgICAgLy8gNSBiaXRzXG4gICAgICAgICAgICBhdWRpb0V4dGVuc2lvbk9iamVjdFR5cGUgPSAoYXJyYXlbMl0gJiAweDdDKSA+Pj4gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdvcmthcm91bmRzIGZvciB2YXJpb3VzIGJyb3dzZXJzXG4gICAgICAgIGxldCB1c2VyQWdlbnQgPSBzZWxmLm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBpZiAodXNlckFnZW50LmluZGV4T2YoJ2ZpcmVmb3gnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIGZpcmVmb3g6IHVzZSBTQlIgKEhFLUFBQykgaWYgZnJlcSBsZXNzIHRoYW4gMjRrSHpcbiAgICAgICAgICAgIGlmIChzYW1wbGluZ0luZGV4ID49IDYpIHtcbiAgICAgICAgICAgICAgICBhdWRpb09iamVjdFR5cGUgPSA1O1xuICAgICAgICAgICAgICAgIGNvbmZpZyA9IG5ldyBBcnJheSg0KTtcbiAgICAgICAgICAgICAgICBleHRlbnNpb25TYW1wbGluZ0luZGV4ID0gc2FtcGxpbmdJbmRleCAtIDM7XG4gICAgICAgICAgICB9IGVsc2UgeyAgLy8gdXNlIExDLUFBQ1xuICAgICAgICAgICAgICAgIGF1ZGlvT2JqZWN0VHlwZSA9IDI7XG4gICAgICAgICAgICAgICAgY29uZmlnID0gbmV3IEFycmF5KDIpO1xuICAgICAgICAgICAgICAgIGV4dGVuc2lvblNhbXBsaW5nSW5kZXggPSBzYW1wbGluZ0luZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5pbmRleE9mKCdhbmRyb2lkJykgIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBhbmRyb2lkOiBhbHdheXMgdXNlIExDLUFBQ1xuICAgICAgICAgICAgYXVkaW9PYmplY3RUeXBlID0gMjtcbiAgICAgICAgICAgIGNvbmZpZyA9IG5ldyBBcnJheSgyKTtcbiAgICAgICAgICAgIGV4dGVuc2lvblNhbXBsaW5nSW5kZXggPSBzYW1wbGluZ0luZGV4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZm9yIG90aGVyIGJyb3dzZXJzLCBlLmcuIGNocm9tZS4uLlxuICAgICAgICAgICAgLy8gQWx3YXlzIHVzZSBIRS1BQUMgdG8gbWFrZSBpdCBlYXNpZXIgdG8gc3dpdGNoIGFhYyBjb2RlYyBwcm9maWxlXG4gICAgICAgICAgICBhdWRpb09iamVjdFR5cGUgPSA1O1xuICAgICAgICAgICAgZXh0ZW5zaW9uU2FtcGxpbmdJbmRleCA9IHNhbXBsaW5nSW5kZXg7XG4gICAgICAgICAgICBjb25maWcgPSBuZXcgQXJyYXkoNCk7XG5cbiAgICAgICAgICAgIGlmIChzYW1wbGluZ0luZGV4ID49IDYpIHtcbiAgICAgICAgICAgICAgICBleHRlbnNpb25TYW1wbGluZ0luZGV4ID0gc2FtcGxpbmdJbmRleCAtIDM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxDb25maWcgPT09IDEpIHsgIC8vIE1vbm8gY2hhbm5lbFxuICAgICAgICAgICAgICAgIGF1ZGlvT2JqZWN0VHlwZSA9IDI7XG4gICAgICAgICAgICAgICAgY29uZmlnID0gbmV3IEFycmF5KDIpO1xuICAgICAgICAgICAgICAgIGV4dGVuc2lvblNhbXBsaW5nSW5kZXggPSBzYW1wbGluZ0luZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uZmlnWzBdICA9IGF1ZGlvT2JqZWN0VHlwZSA8PCAzO1xuICAgICAgICBjb25maWdbMF0gfD0gKHNhbXBsaW5nSW5kZXggJiAweDBGKSA+Pj4gMTtcbiAgICAgICAgY29uZmlnWzFdICA9IChzYW1wbGluZ0luZGV4ICYgMHgwRikgPDwgNztcbiAgICAgICAgY29uZmlnWzFdIHw9IChjaGFubmVsQ29uZmlnICYgMHgwRikgPDwgMztcbiAgICAgICAgaWYgKGF1ZGlvT2JqZWN0VHlwZSA9PT0gNSkge1xuICAgICAgICAgICAgY29uZmlnWzFdIHw9ICgoZXh0ZW5zaW9uU2FtcGxpbmdJbmRleCAmIDB4MEYpID4+PiAxKTtcbiAgICAgICAgICAgIGNvbmZpZ1syXSAgPSAoZXh0ZW5zaW9uU2FtcGxpbmdJbmRleCAmIDB4MDEpIDw8IDc7XG4gICAgICAgICAgICAvLyBleHRlbmRlZCBhdWRpbyBvYmplY3QgdHlwZTogZm9yY2UgdG8gMiAoTEMtQUFDKVxuICAgICAgICAgICAgY29uZmlnWzJdIHw9ICgyIDw8IDIpO1xuICAgICAgICAgICAgY29uZmlnWzNdICA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgICAgICBzYW1wbGluZ1JhdGU6IHNhbXBsaW5nRnJlcXVlbmNlLFxuICAgICAgICAgICAgY2hhbm5lbENvdW50OiBjaGFubmVsQ29uZmlnLFxuICAgICAgICAgICAgY29kZWM6ICdtcDRhLjQwLicgKyBhdWRpb09iamVjdFR5cGUsXG4gICAgICAgICAgICBvcmlnaW5hbENvZGVjOiAnbXA0YS40MC4nICsgb3JpZ2luYWxBdWRpb09iamVjdFR5cGVcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfcGFyc2VNUDNBdWRpb0RhdGEoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplLCByZXF1ZXN0SGVhZGVyKSB7XG4gICAgICAgIGlmIChkYXRhU2l6ZSA8IDQpIHtcbiAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCAnRmx2OiBJbnZhbGlkIE1QMyBwYWNrZXQsIGhlYWRlciBtaXNzaW5nIScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxlID0gdGhpcy5fbGl0dGxlRW5kaWFuO1xuICAgICAgICBsZXQgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gbnVsbDtcblxuICAgICAgICBpZiAocmVxdWVzdEhlYWRlcikge1xuICAgICAgICAgICAgaWYgKGFycmF5WzBdICE9PSAweEZGKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHZlciA9IChhcnJheVsxXSA+Pj4gMykgJiAweDAzO1xuICAgICAgICAgICAgbGV0IGxheWVyID0gKGFycmF5WzFdICYgMHgwNikgPj4gMTtcblxuICAgICAgICAgICAgbGV0IGJpdHJhdGVfaW5kZXggPSAoYXJyYXlbMl0gJiAweEYwKSA+Pj4gNDtcbiAgICAgICAgICAgIGxldCBzYW1wbGluZ19mcmVxX2luZGV4ID0gKGFycmF5WzJdICYgMHgwQykgPj4+IDI7XG5cbiAgICAgICAgICAgIGxldCBjaGFubmVsX21vZGUgPSAoYXJyYXlbM10gPj4+IDYpICYgMHgwMztcbiAgICAgICAgICAgIGxldCBjaGFubmVsX2NvdW50ID0gY2hhbm5lbF9tb2RlICE9PSAzID8gMiA6IDE7XG5cbiAgICAgICAgICAgIGxldCBzYW1wbGVfcmF0ZSA9IDA7XG4gICAgICAgICAgICBsZXQgYml0X3JhdGUgPSAwO1xuICAgICAgICAgICAgbGV0IG9iamVjdF90eXBlID0gMzQ7ICAvLyBMYXllci0zLCBsaXN0ZWQgaW4gTVBFRy00IEF1ZGlvIE9iamVjdCBUeXBlc1xuXG4gICAgICAgICAgICBsZXQgY29kZWMgPSAnbXAzJztcblxuICAgICAgICAgICAgc3dpdGNoICh2ZXIpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6ICAvLyBNUEVHIDIuNVxuICAgICAgICAgICAgICAgICAgICBzYW1wbGVfcmF0ZSA9IHRoaXMuX21wZWdBdWRpb1YyNVNhbXBsZVJhdGVUYWJsZVtzYW1wbGluZ19mcmVxX2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOiAgLy8gTVBFRyAyXG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZV9yYXRlID0gdGhpcy5fbXBlZ0F1ZGlvVjIwU2FtcGxlUmF0ZVRhYmxlW3NhbXBsaW5nX2ZyZXFfaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6ICAvLyBNUEVHIDFcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlX3JhdGUgPSB0aGlzLl9tcGVnQXVkaW9WMTBTYW1wbGVSYXRlVGFibGVbc2FtcGxpbmdfZnJlcV9pbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzd2l0Y2ggKGxheWVyKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOiAgLy8gTGF5ZXIgM1xuICAgICAgICAgICAgICAgICAgICBvYmplY3RfdHlwZSA9IDM0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoYml0cmF0ZV9pbmRleCA8IHRoaXMuX21wZWdBdWRpb0wzQml0UmF0ZVRhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYml0X3JhdGUgPSB0aGlzLl9tcGVnQXVkaW9MM0JpdFJhdGVUYWJsZVtiaXRyYXRlX2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6ICAvLyBMYXllciAyXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdF90eXBlID0gMzM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiaXRyYXRlX2luZGV4IDwgdGhpcy5fbXBlZ0F1ZGlvTDJCaXRSYXRlVGFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiaXRfcmF0ZSA9IHRoaXMuX21wZWdBdWRpb0wyQml0UmF0ZVRhYmxlW2JpdHJhdGVfaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzogIC8vIExheWVyIDFcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0X3R5cGUgPSAzMjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJpdHJhdGVfaW5kZXggPCB0aGlzLl9tcGVnQXVkaW9MMUJpdFJhdGVUYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpdF9yYXRlID0gdGhpcy5fbXBlZ0F1ZGlvTDFCaXRSYXRlVGFibGVbYml0cmF0ZV9pbmRleF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBiaXRSYXRlOiBiaXRfcmF0ZSxcbiAgICAgICAgICAgICAgICBzYW1wbGluZ1JhdGU6IHNhbXBsZV9yYXRlLFxuICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogY2hhbm5lbF9jb3VudCxcbiAgICAgICAgICAgICAgICBjb2RlYzogY29kZWMsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxDb2RlYzogY29kZWNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBhcnJheTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgX3BhcnNlVmlkZW9EYXRhKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSwgdGFnVGltZXN0YW1wLCB0YWdQb3NpdGlvbikge1xuICAgICAgICBpZiAoZGF0YVNpemUgPD0gMSkge1xuICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsICdGbHY6IEludmFsaWQgdmlkZW8gcGFja2V0LCBtaXNzaW5nIFZpZGVvRGF0YSBwYXlsb2FkIScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2hhc1ZpZGVvRmxhZ092ZXJyaWRlZCA9PT0gdHJ1ZSAmJiB0aGlzLl9oYXNWaWRlbyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIC8vIElmIGhhc1ZpZGVvOiBmYWxzZSBpbmRpY2F0ZWQgZXhwbGljaXRseSBpbiBNZWRpYURhdGFTb3VyY2UsXG4gICAgICAgICAgICAvLyBJZ25vcmUgYWxsIHRoZSB2aWRlbyBwYWNrZXRzXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3BlYyA9IChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpKVswXTtcblxuICAgICAgICBsZXQgZnJhbWVUeXBlID0gKHNwZWMgJiAyNDApID4+PiA0O1xuICAgICAgICBsZXQgY29kZWNJZCA9IHNwZWMgJiAxNTtcblxuICAgICAgICBpZiAoY29kZWNJZCAhPT0gNykge1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcihEZW11eEVycm9ycy5DT0RFQ19VTlNVUFBPUlRFRCwgYEZsdjogVW5zdXBwb3J0ZWQgY29kZWMgaW4gdmlkZW8gZnJhbWU6ICR7Y29kZWNJZH1gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3BhcnNlQVZDVmlkZW9QYWNrZXQoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyAxLCBkYXRhU2l6ZSAtIDEsIHRhZ1RpbWVzdGFtcCwgdGFnUG9zaXRpb24sIGZyYW1lVHlwZSk7XG4gICAgfVxuXG4gICAgX3BhcnNlQVZDVmlkZW9QYWNrZXQoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplLCB0YWdUaW1lc3RhbXAsIHRhZ1Bvc2l0aW9uLCBmcmFtZVR5cGUpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDwgNCkge1xuICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsICdGbHY6IEludmFsaWQgQVZDIHBhY2tldCwgbWlzc2luZyBBVkNQYWNrZXRUeXBlIG9yL2FuZCBDb21wb3NpdGlvblRpbWUnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsZSA9IHRoaXMuX2xpdHRsZUVuZGlhbjtcbiAgICAgICAgbGV0IHYgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcblxuICAgICAgICBsZXQgcGFja2V0VHlwZSA9IHYuZ2V0VWludDgoMCk7XG4gICAgICAgIGxldCBjdHNfdW5zaWduZWQgPSB2LmdldFVpbnQzMigwLCAhbGUpICYgMHgwMEZGRkZGRjtcbiAgICAgICAgbGV0IGN0cyA9IChjdHNfdW5zaWduZWQgPDwgOCkgPj4gODsgIC8vIGNvbnZlcnQgdG8gMjQtYml0IHNpZ25lZCBpbnRcblxuICAgICAgICBpZiAocGFja2V0VHlwZSA9PT0gMCkgeyAgLy8gQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmRcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyA0LCBkYXRhU2l6ZSAtIDQpO1xuICAgICAgICB9IGVsc2UgaWYgKHBhY2tldFR5cGUgPT09IDEpIHsgIC8vIE9uZSBvciBtb3JlIE5hbHVzXG4gICAgICAgICAgICB0aGlzLl9wYXJzZUFWQ1ZpZGVvRGF0YShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIDQsIGRhdGFTaXplIC0gNCwgdGFnVGltZXN0YW1wLCB0YWdQb3NpdGlvbiwgZnJhbWVUeXBlLCBjdHMpO1xuICAgICAgICB9IGVsc2UgaWYgKHBhY2tldFR5cGUgPT09IDIpIHtcbiAgICAgICAgICAgIC8vIGVtcHR5LCBBVkMgZW5kIG9mIHNlcXVlbmNlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkZPUk1BVF9FUlJPUiwgYEZsdjogSW52YWxpZCB2aWRlbyBwYWNrZXQgdHlwZSAke3BhY2tldFR5cGV9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcGFyc2VBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZChhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDwgNykge1xuICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsICdGbHY6IEludmFsaWQgQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQsIGxhY2sgb2YgZGF0YSEnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtZXRhID0gdGhpcy5fdmlkZW9NZXRhZGF0YTtcbiAgICAgICAgbGV0IHRyYWNrID0gdGhpcy5fdmlkZW9UcmFjaztcbiAgICAgICAgbGV0IGxlID0gdGhpcy5fbGl0dGxlRW5kaWFuO1xuICAgICAgICBsZXQgdiA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuXG4gICAgICAgIGlmICghbWV0YSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2hhc1ZpZGVvID09PSBmYWxzZSAmJiB0aGlzLl9oYXNWaWRlb0ZsYWdPdmVycmlkZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFzVmlkZW8gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5oYXNWaWRlbyA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1ldGEgPSB0aGlzLl92aWRlb01ldGFkYXRhID0ge307XG4gICAgICAgICAgICBtZXRhLnR5cGUgPSAndmlkZW8nO1xuICAgICAgICAgICAgbWV0YS5pZCA9IHRyYWNrLmlkO1xuICAgICAgICAgICAgbWV0YS50aW1lc2NhbGUgPSB0aGlzLl90aW1lc2NhbGU7XG4gICAgICAgICAgICBtZXRhLmR1cmF0aW9uID0gdGhpcy5fZHVyYXRpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1ldGEuYXZjYyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgJ0ZvdW5kIGFub3RoZXIgQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdmVyc2lvbiA9IHYuZ2V0VWludDgoMCk7ICAvLyBjb25maWd1cmF0aW9uVmVyc2lvblxuICAgICAgICBsZXQgYXZjUHJvZmlsZSA9IHYuZ2V0VWludDgoMSk7ICAvLyBhdmNQcm9maWxlSW5kaWNhdGlvblxuICAgICAgICBsZXQgcHJvZmlsZUNvbXBhdGliaWxpdHkgPSB2LmdldFVpbnQ4KDIpOyAgLy8gcHJvZmlsZV9jb21wYXRpYmlsaXR5XG4gICAgICAgIGxldCBhdmNMZXZlbCA9IHYuZ2V0VWludDgoMyk7ICAvLyBBVkNMZXZlbEluZGljYXRpb25cblxuICAgICAgICBpZiAodmVyc2lvbiAhPT0gMSB8fCBhdmNQcm9maWxlID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkZPUk1BVF9FUlJPUiwgJ0ZsdjogSW52YWxpZCBBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbmFsdUxlbmd0aFNpemUgPSAodi5nZXRVaW50OCg0KSAmIDMpICsgMTsgIC8vIGxlbmd0aFNpemVNaW51c09uZVxuICAgICAgICBpZiAodGhpcy5fbmFsdUxlbmd0aFNpemUgIT09IDMgJiYgdGhpcy5fbmFsdUxlbmd0aFNpemUgIT09IDQpIHsgIC8vIGhvbHkgc2hpdCEhIVxuICAgICAgICAgICAgdGhpcy5fb25FcnJvcihEZW11eEVycm9ycy5GT1JNQVRfRVJST1IsIGBGbHY6IFN0cmFuZ2UgTmFsdUxlbmd0aFNpemVNaW51c09uZTogJHt0aGlzLl9uYWx1TGVuZ3RoU2l6ZSAtIDF9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3BzQ291bnQgPSB2LmdldFVpbnQ4KDUpICYgMzE7ICAvLyBudW1PZlNlcXVlbmNlUGFyYW1ldGVyU2V0c1xuICAgICAgICBpZiAoc3BzQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoRGVtdXhFcnJvcnMuRk9STUFUX0VSUk9SLCAnRmx2OiBJbnZhbGlkIEFWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkOiBObyBTUFMnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChzcHNDb3VudCA+IDEpIHtcbiAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCBgRmx2OiBTdHJhbmdlIEFWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkOiBTUFMgQ291bnQgPSAke3Nwc0NvdW50fWApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9mZnNldCA9IDY7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcHNDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbGVuID0gdi5nZXRVaW50MTYob2Zmc2V0LCAhbGUpOyAgLy8gc2VxdWVuY2VQYXJhbWV0ZXJTZXRMZW5ndGhcbiAgICAgICAgICAgIG9mZnNldCArPSAyO1xuXG4gICAgICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5vdGljZTogTmFsdSB3aXRob3V0IHN0YXJ0Y29kZSBoZWFkZXIgKDAwIDAwIDAwIDAxKVxuICAgICAgICAgICAgbGV0IHNwcyA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgb2Zmc2V0LCBsZW4pO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IGxlbjtcblxuICAgICAgICAgICAgbGV0IGNvbmZpZyA9IFNQU1BhcnNlci5wYXJzZVNQUyhzcHMpO1xuICAgICAgICAgICAgaWYgKGkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBpZ25vcmUgb3RoZXIgc3BzJ3MgY29uZmlnXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1ldGEuY29kZWNXaWR0aCA9IGNvbmZpZy5jb2RlY19zaXplLndpZHRoO1xuICAgICAgICAgICAgbWV0YS5jb2RlY0hlaWdodCA9IGNvbmZpZy5jb2RlY19zaXplLmhlaWdodDtcbiAgICAgICAgICAgIG1ldGEucHJlc2VudFdpZHRoID0gY29uZmlnLnByZXNlbnRfc2l6ZS53aWR0aDtcbiAgICAgICAgICAgIG1ldGEucHJlc2VudEhlaWdodCA9IGNvbmZpZy5wcmVzZW50X3NpemUuaGVpZ2h0O1xuXG4gICAgICAgICAgICBtZXRhLnByb2ZpbGUgPSBjb25maWcucHJvZmlsZV9zdHJpbmc7XG4gICAgICAgICAgICBtZXRhLmxldmVsID0gY29uZmlnLmxldmVsX3N0cmluZztcbiAgICAgICAgICAgIG1ldGEuYml0RGVwdGggPSBjb25maWcuYml0X2RlcHRoO1xuICAgICAgICAgICAgbWV0YS5jaHJvbWFGb3JtYXQgPSBjb25maWcuY2hyb21hX2Zvcm1hdDtcbiAgICAgICAgICAgIG1ldGEuc2FyUmF0aW8gPSBjb25maWcuc2FyX3JhdGlvO1xuICAgICAgICAgICAgbWV0YS5mcmFtZVJhdGUgPSBjb25maWcuZnJhbWVfcmF0ZTtcblxuICAgICAgICAgICAgaWYgKGNvbmZpZy5mcmFtZV9yYXRlLmZpeGVkID09PSBmYWxzZSB8fFxuICAgICAgICAgICAgICAgIGNvbmZpZy5mcmFtZV9yYXRlLmZwc19udW0gPT09IDAgfHxcbiAgICAgICAgICAgICAgICBjb25maWcuZnJhbWVfcmF0ZS5mcHNfZGVuID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbWV0YS5mcmFtZVJhdGUgPSB0aGlzLl9yZWZlcmVuY2VGcmFtZVJhdGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBmcHNfZGVuID0gbWV0YS5mcmFtZVJhdGUuZnBzX2RlbjtcbiAgICAgICAgICAgIGxldCBmcHNfbnVtID0gbWV0YS5mcmFtZVJhdGUuZnBzX251bTtcbiAgICAgICAgICAgIG1ldGEucmVmU2FtcGxlRHVyYXRpb24gPSBtZXRhLnRpbWVzY2FsZSAqIChmcHNfZGVuIC8gZnBzX251bSk7XG5cbiAgICAgICAgICAgIGxldCBjb2RlY0FycmF5ID0gc3BzLnN1YmFycmF5KDEsIDQpO1xuICAgICAgICAgICAgbGV0IGNvZGVjU3RyaW5nID0gJ2F2YzEuJztcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaisrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGggPSBjb2RlY0FycmF5W2pdLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgICAgICBpZiAoaC5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGggPSAnMCcgKyBoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb2RlY1N0cmluZyArPSBoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWV0YS5jb2RlYyA9IGNvZGVjU3RyaW5nO1xuXG4gICAgICAgICAgICBsZXQgbWkgPSB0aGlzLl9tZWRpYUluZm87XG4gICAgICAgICAgICBtaS53aWR0aCA9IG1ldGEuY29kZWNXaWR0aDtcbiAgICAgICAgICAgIG1pLmhlaWdodCA9IG1ldGEuY29kZWNIZWlnaHQ7XG4gICAgICAgICAgICBtaS5mcHMgPSBtZXRhLmZyYW1lUmF0ZS5mcHM7XG4gICAgICAgICAgICBtaS5wcm9maWxlID0gbWV0YS5wcm9maWxlO1xuICAgICAgICAgICAgbWkubGV2ZWwgPSBtZXRhLmxldmVsO1xuICAgICAgICAgICAgbWkucmVmRnJhbWVzID0gY29uZmlnLnJlZl9mcmFtZXM7XG4gICAgICAgICAgICBtaS5jaHJvbWFGb3JtYXQgPSBjb25maWcuY2hyb21hX2Zvcm1hdF9zdHJpbmc7XG4gICAgICAgICAgICBtaS5zYXJOdW0gPSBtZXRhLnNhclJhdGlvLndpZHRoO1xuICAgICAgICAgICAgbWkuc2FyRGVuID0gbWV0YS5zYXJSYXRpby5oZWlnaHQ7XG4gICAgICAgICAgICBtaS52aWRlb0NvZGVjID0gY29kZWNTdHJpbmc7XG5cbiAgICAgICAgICAgIGlmIChtaS5oYXNBdWRpbykge1xuICAgICAgICAgICAgICAgIGlmIChtaS5hdWRpb0NvZGVjICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbWkubWltZVR5cGUgPSAndmlkZW8veC1mbHY7IGNvZGVjcz1cIicgKyBtaS52aWRlb0NvZGVjICsgJywnICsgbWkuYXVkaW9Db2RlYyArICdcIic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtaS5taW1lVHlwZSA9ICd2aWRlby94LWZsdjsgY29kZWNzPVwiJyArIG1pLnZpZGVvQ29kZWMgKyAnXCInO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1pLmlzQ29tcGxldGUoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uTWVkaWFJbmZvKG1pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwcHNDb3VudCA9IHYuZ2V0VWludDgob2Zmc2V0KTsgIC8vIG51bU9mUGljdHVyZVBhcmFtZXRlclNldHNcbiAgICAgICAgaWYgKHBwc0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkZPUk1BVF9FUlJPUiwgJ0ZsdjogSW52YWxpZCBBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZDogTm8gUFBTJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAocHBzQ291bnQgPiAxKSB7XG4gICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgYEZsdjogU3RyYW5nZSBBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZDogUFBTIENvdW50ID0gJHtwcHNDb3VudH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9mZnNldCsrO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHBzQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IGxlbiA9IHYuZ2V0VWludDE2KG9mZnNldCwgIWxlKTsgIC8vIHBpY3R1cmVQYXJhbWV0ZXJTZXRMZW5ndGhcbiAgICAgICAgICAgIG9mZnNldCArPSAyO1xuXG4gICAgICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHBwcyBpcyB1c2VsZXNzIGZvciBleHRyYWN0aW5nIHZpZGVvIGluZm9ybWF0aW9uXG4gICAgICAgICAgICBvZmZzZXQgKz0gbGVuO1xuICAgICAgICB9XG5cbiAgICAgICAgbWV0YS5hdmNjID0gbmV3IFVpbnQ4QXJyYXkoZGF0YVNpemUpO1xuICAgICAgICBtZXRhLmF2Y2Muc2V0KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSksIDApO1xuICAgICAgICBMb2cudih0aGlzLlRBRywgJ1BhcnNlZCBBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZCcpO1xuXG4gICAgICAgIGlmICh0aGlzLl9pc0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQoKSkge1xuICAgICAgICAgICAgLy8gZmx1c2ggcGFyc2VkIGZyYW1lc1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Rpc3BhdGNoICYmICh0aGlzLl9hdWRpb1RyYWNrLmxlbmd0aCB8fCB0aGlzLl92aWRlb1RyYWNrLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkRhdGFBdmFpbGFibGUodGhpcy5fYXVkaW9UcmFjaywgdGhpcy5fdmlkZW9UcmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl92aWRlb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vdGlmeSBuZXcgbWV0YWRhdGFcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2ggPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fb25UcmFja01ldGFkYXRhKCd2aWRlbycsIG1ldGEpO1xuICAgIH1cblxuICAgIF9wYXJzZUFWQ1ZpZGVvRGF0YShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUsIHRhZ1RpbWVzdGFtcCwgdGFnUG9zaXRpb24sIGZyYW1lVHlwZSwgY3RzKSB7XG4gICAgICAgIGxldCBsZSA9IHRoaXMuX2xpdHRsZUVuZGlhbjtcbiAgICAgICAgbGV0IHYgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcblxuICAgICAgICBsZXQgdW5pdHMgPSBbXSwgbGVuZ3RoID0gMDtcblxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgY29uc3QgbGVuZ3RoU2l6ZSA9IHRoaXMuX25hbHVMZW5ndGhTaXplO1xuICAgICAgICBsZXQgZHRzID0gdGhpcy5fdGltZXN0YW1wQmFzZSArIHRhZ1RpbWVzdGFtcDtcbiAgICAgICAgbGV0IGtleWZyYW1lID0gKGZyYW1lVHlwZSA9PT0gMSk7ICAvLyBmcm9tIEZMViBGcmFtZSBUeXBlIGNvbnN0YW50c1xuXG4gICAgICAgIHdoaWxlIChvZmZzZXQgPCBkYXRhU2l6ZSkge1xuICAgICAgICAgICAgaWYgKG9mZnNldCArIDQgPj0gZGF0YVNpemUpIHtcbiAgICAgICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgYE1hbGZvcm1lZCBOYWx1IG5lYXIgdGltZXN0YW1wICR7ZHRzfSwgb2Zmc2V0ID0gJHtvZmZzZXR9LCBkYXRhU2l6ZSA9ICR7ZGF0YVNpemV9YCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7ICAvLyBkYXRhIG5vdCBlbm91Z2ggZm9yIG5leHQgTmFsdVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTmFsdSB3aXRoIGxlbmd0aC1oZWFkZXIgKEFWQzEpXG4gICAgICAgICAgICBsZXQgbmFsdVNpemUgPSB2LmdldFVpbnQzMihvZmZzZXQsICFsZSk7ICAvLyBCaWctRW5kaWFuIHJlYWRcbiAgICAgICAgICAgIGlmIChsZW5ndGhTaXplID09PSAzKSB7XG4gICAgICAgICAgICAgICAgbmFsdVNpemUgPj4+PSA4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5hbHVTaXplID4gZGF0YVNpemUgLSBsZW5ndGhTaXplKSB7XG4gICAgICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsIGBNYWxmb3JtZWQgTmFsdXMgbmVhciB0aW1lc3RhbXAgJHtkdHN9LCBOYWx1U2l6ZSA+IERhdGFTaXplIWApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHVuaXRUeXBlID0gdi5nZXRVaW50OChvZmZzZXQgKyBsZW5ndGhTaXplKSAmIDB4MUY7XG5cbiAgICAgICAgICAgIGlmICh1bml0VHlwZSA9PT0gNSkgeyAgLy8gSURSXG4gICAgICAgICAgICAgICAga2V5ZnJhbWUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgZGF0YSA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgb2Zmc2V0LCBsZW5ndGhTaXplICsgbmFsdVNpemUpO1xuICAgICAgICAgICAgbGV0IHVuaXQgPSB7dHlwZTogdW5pdFR5cGUsIGRhdGE6IGRhdGF9O1xuICAgICAgICAgICAgdW5pdHMucHVzaCh1bml0KTtcbiAgICAgICAgICAgIGxlbmd0aCArPSBkYXRhLmJ5dGVMZW5ndGg7XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBsZW5ndGhTaXplICsgbmFsdVNpemU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodW5pdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgdHJhY2sgPSB0aGlzLl92aWRlb1RyYWNrO1xuICAgICAgICAgICAgbGV0IGF2Y1NhbXBsZSA9IHtcbiAgICAgICAgICAgICAgICB1bml0czogdW5pdHMsXG4gICAgICAgICAgICAgICAgbGVuZ3RoOiBsZW5ndGgsXG4gICAgICAgICAgICAgICAgaXNLZXlmcmFtZToga2V5ZnJhbWUsXG4gICAgICAgICAgICAgICAgZHRzOiBkdHMsXG4gICAgICAgICAgICAgICAgY3RzOiBjdHMsXG4gICAgICAgICAgICAgICAgcHRzOiAoZHRzICsgY3RzKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChrZXlmcmFtZSkge1xuICAgICAgICAgICAgICAgIGF2Y1NhbXBsZS5maWxlcG9zaXRpb24gPSB0YWdQb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYWNrLnNhbXBsZXMucHVzaChhdmNTYW1wbGUpO1xuICAgICAgICAgICAgdHJhY2subGVuZ3RoICs9IGxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBGTFZEZW11eGVyO1xuIiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBFeHBHb2xvbWIgZnJvbSAnLi9leHAtZ29sb21iLmpzJztcblxuY2xhc3MgU1BTUGFyc2VyIHtcblxuICAgIHN0YXRpYyBfZWJzcDJyYnNwKHVpbnQ4YXJyYXkpIHtcbiAgICAgICAgbGV0IHNyYyA9IHVpbnQ4YXJyYXk7XG4gICAgICAgIGxldCBzcmNfbGVuZ3RoID0gc3JjLmJ5dGVMZW5ndGg7XG4gICAgICAgIGxldCBkc3QgPSBuZXcgVWludDhBcnJheShzcmNfbGVuZ3RoKTtcbiAgICAgICAgbGV0IGRzdF9pZHggPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3JjX2xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA+PSAyKSB7XG4gICAgICAgICAgICAgICAgLy8gVW5lc2NhcGU6IFNraXAgMHgwMyBhZnRlciAwMCAwMFxuICAgICAgICAgICAgICAgIGlmIChzcmNbaV0gPT09IDB4MDMgJiYgc3JjW2kgLSAxXSA9PT0gMHgwMCAmJiBzcmNbaSAtIDJdID09PSAweDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRzdFtkc3RfaWR4XSA9IHNyY1tpXTtcbiAgICAgICAgICAgIGRzdF9pZHgrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShkc3QuYnVmZmVyLCAwLCBkc3RfaWR4KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcGFyc2VTUFModWludDhhcnJheSkge1xuICAgICAgICBsZXQgcmJzcCA9IFNQU1BhcnNlci5fZWJzcDJyYnNwKHVpbnQ4YXJyYXkpO1xuICAgICAgICBsZXQgZ2IgPSBuZXcgRXhwR29sb21iKHJic3ApO1xuXG4gICAgICAgIGdiLnJlYWRCeXRlKCk7XG4gICAgICAgIGxldCBwcm9maWxlX2lkYyA9IGdiLnJlYWRCeXRlKCk7ICAvLyBwcm9maWxlX2lkY1xuICAgICAgICBnYi5yZWFkQnl0ZSgpOyAgLy8gY29uc3RyYWludF9zZXRfZmxhZ3NbNV0gKyByZXNlcnZlZF96ZXJvWzNdXG4gICAgICAgIGxldCBsZXZlbF9pZGMgPSBnYi5yZWFkQnl0ZSgpOyAgLy8gbGV2ZWxfaWRjXG4gICAgICAgIGdiLnJlYWRVRUcoKTsgIC8vIHNlcV9wYXJhbWV0ZXJfc2V0X2lkXG5cbiAgICAgICAgbGV0IHByb2ZpbGVfc3RyaW5nID0gU1BTUGFyc2VyLmdldFByb2ZpbGVTdHJpbmcocHJvZmlsZV9pZGMpO1xuICAgICAgICBsZXQgbGV2ZWxfc3RyaW5nID0gU1BTUGFyc2VyLmdldExldmVsU3RyaW5nKGxldmVsX2lkYyk7XG4gICAgICAgIGxldCBjaHJvbWFfZm9ybWF0X2lkYyA9IDE7XG4gICAgICAgIGxldCBjaHJvbWFfZm9ybWF0ID0gNDIwO1xuICAgICAgICBsZXQgY2hyb21hX2Zvcm1hdF90YWJsZSA9IFswLCA0MjAsIDQyMiwgNDQ0XTtcbiAgICAgICAgbGV0IGJpdF9kZXB0aCA9IDg7XG5cbiAgICAgICAgaWYgKHByb2ZpbGVfaWRjID09PSAxMDAgfHwgcHJvZmlsZV9pZGMgPT09IDExMCB8fCBwcm9maWxlX2lkYyA9PT0gMTIyIHx8XG4gICAgICAgICAgICBwcm9maWxlX2lkYyA9PT0gMjQ0IHx8IHByb2ZpbGVfaWRjID09PSA0NCB8fCBwcm9maWxlX2lkYyA9PT0gODMgfHxcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjID09PSA4NiB8fCBwcm9maWxlX2lkYyA9PT0gMTE4IHx8IHByb2ZpbGVfaWRjID09PSAxMjggfHxcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjID09PSAxMzggfHwgcHJvZmlsZV9pZGMgPT09IDE0NCkge1xuXG4gICAgICAgICAgICBjaHJvbWFfZm9ybWF0X2lkYyA9IGdiLnJlYWRVRUcoKTtcbiAgICAgICAgICAgIGlmIChjaHJvbWFfZm9ybWF0X2lkYyA9PT0gMykge1xuICAgICAgICAgICAgICAgIGdiLnJlYWRCaXRzKDEpOyAgLy8gc2VwYXJhdGVfY29sb3VyX3BsYW5lX2ZsYWdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaHJvbWFfZm9ybWF0X2lkYyA8PSAzKSB7XG4gICAgICAgICAgICAgICAgY2hyb21hX2Zvcm1hdCA9IGNocm9tYV9mb3JtYXRfdGFibGVbY2hyb21hX2Zvcm1hdF9pZGNdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBiaXRfZGVwdGggPSBnYi5yZWFkVUVHKCkgKyA4OyAgLy8gYml0X2RlcHRoX2x1bWFfbWludXM4XG4gICAgICAgICAgICBnYi5yZWFkVUVHKCk7ICAvLyBiaXRfZGVwdGhfY2hyb21hX21pbnVzOFxuICAgICAgICAgICAgZ2IucmVhZEJpdHMoMSk7ICAvLyBxcHByaW1lX3lfemVyb190cmFuc2Zvcm1fYnlwYXNzX2ZsYWdcbiAgICAgICAgICAgIGlmIChnYi5yZWFkQm9vbCgpKSB7ICAvLyBzZXFfc2NhbGluZ19tYXRyaXhfcHJlc2VudF9mbGFnXG4gICAgICAgICAgICAgICAgbGV0IHNjYWxpbmdfbGlzdF9jb3VudCA9IChjaHJvbWFfZm9ybWF0X2lkYyAhPT0gMykgPyA4IDogMTI7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2FsaW5nX2xpc3RfY291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2IucmVhZEJvb2woKSkgeyAgLy8gc2VxX3NjYWxpbmdfbGlzdF9wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpIDwgNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNQU1BhcnNlci5fc2tpcFNjYWxpbmdMaXN0KGdiLCAxNik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNQU1BhcnNlci5fc2tpcFNjYWxpbmdMaXN0KGdiLCA2NCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2IucmVhZFVFRygpOyAgLy8gbG9nMl9tYXhfZnJhbWVfbnVtX21pbnVzNFxuICAgICAgICBsZXQgcGljX29yZGVyX2NudF90eXBlID0gZ2IucmVhZFVFRygpO1xuICAgICAgICBpZiAocGljX29yZGVyX2NudF90eXBlID09PSAwKSB7XG4gICAgICAgICAgICBnYi5yZWFkVUVHKCk7ICAvLyBsb2cyX21heF9waWNfb3JkZXJfY250X2xzYl9taW51c180XG4gICAgICAgIH0gZWxzZSBpZiAocGljX29yZGVyX2NudF90eXBlID09PSAxKSB7XG4gICAgICAgICAgICBnYi5yZWFkQml0cygxKTsgIC8vIGRlbHRhX3BpY19vcmRlcl9hbHdheXNfemVyb19mbGFnXG4gICAgICAgICAgICBnYi5yZWFkU0VHKCk7ICAvLyBvZmZzZXRfZm9yX25vbl9yZWZfcGljXG4gICAgICAgICAgICBnYi5yZWFkU0VHKCk7ICAvLyBvZmZzZXRfZm9yX3RvcF90b19ib3R0b21fZmllbGRcbiAgICAgICAgICAgIGxldCBudW1fcmVmX2ZyYW1lc19pbl9waWNfb3JkZXJfY250X2N5Y2xlID0gZ2IucmVhZFVFRygpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1fcmVmX2ZyYW1lc19pbl9waWNfb3JkZXJfY250X2N5Y2xlOyBpKyspIHtcbiAgICAgICAgICAgICAgICBnYi5yZWFkU0VHKCk7ICAvLyBvZmZzZXRfZm9yX3JlZl9mcmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCByZWZfZnJhbWVzID0gZ2IucmVhZFVFRygpOyAgLy8gbWF4X251bV9yZWZfZnJhbWVzXG4gICAgICAgIGdiLnJlYWRCaXRzKDEpOyAgLy8gZ2Fwc19pbl9mcmFtZV9udW1fdmFsdWVfYWxsb3dlZF9mbGFnXG5cbiAgICAgICAgbGV0IHBpY193aWR0aF9pbl9tYnNfbWludXMxID0gZ2IucmVhZFVFRygpO1xuICAgICAgICBsZXQgcGljX2hlaWdodF9pbl9tYXBfdW5pdHNfbWludXMxID0gZ2IucmVhZFVFRygpO1xuXG4gICAgICAgIGxldCBmcmFtZV9tYnNfb25seV9mbGFnID0gZ2IucmVhZEJpdHMoMSk7XG4gICAgICAgIGlmIChmcmFtZV9tYnNfb25seV9mbGFnID09PSAwKSB7XG4gICAgICAgICAgICBnYi5yZWFkQml0cygxKTsgIC8vIG1iX2FkYXB0aXZlX2ZyYW1lX2ZpZWxkX2ZsYWdcbiAgICAgICAgfVxuICAgICAgICBnYi5yZWFkQml0cygxKTsgIC8vIGRpcmVjdF84eDhfaW5mZXJlbmNlX2ZsYWdcblxuICAgICAgICBsZXQgZnJhbWVfY3JvcF9sZWZ0X29mZnNldCA9IDA7XG4gICAgICAgIGxldCBmcmFtZV9jcm9wX3JpZ2h0X29mZnNldCA9IDA7XG4gICAgICAgIGxldCBmcmFtZV9jcm9wX3RvcF9vZmZzZXQgPSAwO1xuICAgICAgICBsZXQgZnJhbWVfY3JvcF9ib3R0b21fb2Zmc2V0ID0gMDtcblxuICAgICAgICBsZXQgZnJhbWVfY3JvcHBpbmdfZmxhZyA9IGdiLnJlYWRCb29sKCk7XG4gICAgICAgIGlmIChmcmFtZV9jcm9wcGluZ19mbGFnKSB7XG4gICAgICAgICAgICBmcmFtZV9jcm9wX2xlZnRfb2Zmc2V0ID0gZ2IucmVhZFVFRygpO1xuICAgICAgICAgICAgZnJhbWVfY3JvcF9yaWdodF9vZmZzZXQgPSBnYi5yZWFkVUVHKCk7XG4gICAgICAgICAgICBmcmFtZV9jcm9wX3RvcF9vZmZzZXQgPSBnYi5yZWFkVUVHKCk7XG4gICAgICAgICAgICBmcmFtZV9jcm9wX2JvdHRvbV9vZmZzZXQgPSBnYi5yZWFkVUVHKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2FyX3dpZHRoID0gMSwgc2FyX2hlaWdodCA9IDE7XG4gICAgICAgIGxldCBmcHMgPSAwLCBmcHNfZml4ZWQgPSB0cnVlLCBmcHNfbnVtID0gMCwgZnBzX2RlbiA9IDA7XG5cbiAgICAgICAgbGV0IHZ1aV9wYXJhbWV0ZXJzX3ByZXNlbnRfZmxhZyA9IGdiLnJlYWRCb29sKCk7XG4gICAgICAgIGlmICh2dWlfcGFyYW1ldGVyc19wcmVzZW50X2ZsYWcpIHtcbiAgICAgICAgICAgIGlmIChnYi5yZWFkQm9vbCgpKSB7ICAvLyBhc3BlY3RfcmF0aW9faW5mb19wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICBsZXQgYXNwZWN0X3JhdGlvX2lkYyA9IGdiLnJlYWRCeXRlKCk7XG4gICAgICAgICAgICAgICAgbGV0IHNhcl93X3RhYmxlID0gWzEsIDEyLCAxMCwgMTYsIDQwLCAyNCwgMjAsIDMyLCA4MCwgMTgsIDE1LCA2NCwgMTYwLCA0LCAzLCAyXTtcbiAgICAgICAgICAgICAgICBsZXQgc2FyX2hfdGFibGUgPSBbMSwgMTEsIDExLCAxMSwgMzMsIDExLCAxMSwgMTEsIDMzLCAxMSwgMTEsIDMzLCAgOTksIDMsIDIsIDFdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFzcGVjdF9yYXRpb19pZGMgPiAwICYmIGFzcGVjdF9yYXRpb19pZGMgPCAxNikge1xuICAgICAgICAgICAgICAgICAgICBzYXJfd2lkdGggPSBzYXJfd190YWJsZVthc3BlY3RfcmF0aW9faWRjIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIHNhcl9oZWlnaHQgPSBzYXJfaF90YWJsZVthc3BlY3RfcmF0aW9faWRjIC0gMV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhc3BlY3RfcmF0aW9faWRjID09PSAyNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2FyX3dpZHRoID0gZ2IucmVhZEJ5dGUoKSA8PCA4IHwgZ2IucmVhZEJ5dGUoKTtcbiAgICAgICAgICAgICAgICAgICAgc2FyX2hlaWdodCA9IGdiLnJlYWRCeXRlKCkgPDwgOCB8IGdiLnJlYWRCeXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZ2IucmVhZEJvb2woKSkgeyAgLy8gb3ZlcnNjYW5faW5mb19wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICBnYi5yZWFkQm9vbCgpOyAgLy8gb3ZlcnNjYW5fYXBwcm9wcmlhdGVfZmxhZ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdiLnJlYWRCb29sKCkpIHsgIC8vIHZpZGVvX3NpZ25hbF90eXBlX3ByZXNlbnRfZmxhZ1xuICAgICAgICAgICAgICAgIGdiLnJlYWRCaXRzKDQpOyAgLy8gdmlkZW9fZm9ybWF0ICYgdmlkZW9fZnVsbF9yYW5nZV9mbGFnXG4gICAgICAgICAgICAgICAgaWYgKGdiLnJlYWRCb29sKCkpIHsgIC8vIGNvbG91cl9kZXNjcmlwdGlvbl9wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICAgICAgZ2IucmVhZEJpdHMoMjQpOyAgLy8gY29sb3VyX3ByaW1hcmllcyAmIHRyYW5zZmVyX2NoYXJhY3RlcmlzdGljcyAmIG1hdHJpeF9jb2VmZmljaWVudHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2IucmVhZEJvb2woKSkgeyAgLy8gY2hyb21hX2xvY19pbmZvX3ByZXNlbnRfZmxhZ1xuICAgICAgICAgICAgICAgIGdiLnJlYWRVRUcoKTsgIC8vIGNocm9tYV9zYW1wbGVfbG9jX3R5cGVfdG9wX2ZpZWxkXG4gICAgICAgICAgICAgICAgZ2IucmVhZFVFRygpOyAgLy8gY2hyb21hX3NhbXBsZV9sb2NfdHlwZV9ib3R0b21fZmllbGRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnYi5yZWFkQm9vbCgpKSB7ICAvLyB0aW1pbmdfaW5mb19wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICBsZXQgbnVtX3VuaXRzX2luX3RpY2sgPSBnYi5yZWFkQml0cygzMik7XG4gICAgICAgICAgICAgICAgbGV0IHRpbWVfc2NhbGUgPSBnYi5yZWFkQml0cygzMik7XG4gICAgICAgICAgICAgICAgZnBzX2ZpeGVkID0gZ2IucmVhZEJvb2woKTsgIC8vIGZpeGVkX2ZyYW1lX3JhdGVfZmxhZ1xuXG4gICAgICAgICAgICAgICAgZnBzX251bSA9IHRpbWVfc2NhbGU7XG4gICAgICAgICAgICAgICAgZnBzX2RlbiA9IG51bV91bml0c19pbl90aWNrICogMjtcbiAgICAgICAgICAgICAgICBmcHMgPSBmcHNfbnVtIC8gZnBzX2RlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzYXJTY2FsZSA9IDE7XG4gICAgICAgIGlmIChzYXJfd2lkdGggIT09IDEgfHwgc2FyX2hlaWdodCAhPT0gMSkge1xuICAgICAgICAgICAgc2FyU2NhbGUgPSBzYXJfd2lkdGggLyBzYXJfaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNyb3BfdW5pdF94ID0gMCwgY3JvcF91bml0X3kgPSAwO1xuICAgICAgICBpZiAoY2hyb21hX2Zvcm1hdF9pZGMgPT09IDApIHtcbiAgICAgICAgICAgIGNyb3BfdW5pdF94ID0gMTtcbiAgICAgICAgICAgIGNyb3BfdW5pdF95ID0gMiAtIGZyYW1lX21ic19vbmx5X2ZsYWc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgc3ViX3djID0gKGNocm9tYV9mb3JtYXRfaWRjID09PSAzKSA/IDEgOiAyO1xuICAgICAgICAgICAgbGV0IHN1Yl9oYyA9IChjaHJvbWFfZm9ybWF0X2lkYyA9PT0gMSkgPyAyIDogMTtcbiAgICAgICAgICAgIGNyb3BfdW5pdF94ID0gc3ViX3djO1xuICAgICAgICAgICAgY3JvcF91bml0X3kgPSBzdWJfaGMgKiAoMiAtIGZyYW1lX21ic19vbmx5X2ZsYWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNvZGVjX3dpZHRoID0gKHBpY193aWR0aF9pbl9tYnNfbWludXMxICsgMSkgKiAxNjtcbiAgICAgICAgbGV0IGNvZGVjX2hlaWdodCA9ICgyIC0gZnJhbWVfbWJzX29ubHlfZmxhZykgKiAoKHBpY19oZWlnaHRfaW5fbWFwX3VuaXRzX21pbnVzMSArIDEpICogMTYpO1xuXG4gICAgICAgIGNvZGVjX3dpZHRoIC09IChmcmFtZV9jcm9wX2xlZnRfb2Zmc2V0ICsgZnJhbWVfY3JvcF9yaWdodF9vZmZzZXQpICogY3JvcF91bml0X3g7XG4gICAgICAgIGNvZGVjX2hlaWdodCAtPSAoZnJhbWVfY3JvcF90b3Bfb2Zmc2V0ICsgZnJhbWVfY3JvcF9ib3R0b21fb2Zmc2V0KSAqIGNyb3BfdW5pdF95O1xuXG4gICAgICAgIGxldCBwcmVzZW50X3dpZHRoID0gTWF0aC5jZWlsKGNvZGVjX3dpZHRoICogc2FyU2NhbGUpO1xuXG4gICAgICAgIGdiLmRlc3Ryb3koKTtcbiAgICAgICAgZ2IgPSBudWxsO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm9maWxlX3N0cmluZzogcHJvZmlsZV9zdHJpbmcsICAvLyBiYXNlbGluZSwgaGlnaCwgaGlnaDEwLCAuLi5cbiAgICAgICAgICAgIGxldmVsX3N0cmluZzogbGV2ZWxfc3RyaW5nLCAgLy8gMywgMy4xLCA0LCA0LjEsIDUsIDUuMSwgLi4uXG4gICAgICAgICAgICBiaXRfZGVwdGg6IGJpdF9kZXB0aCwgIC8vIDhiaXQsIDEwYml0LCAuLi5cbiAgICAgICAgICAgIHJlZl9mcmFtZXM6IHJlZl9mcmFtZXMsXG4gICAgICAgICAgICBjaHJvbWFfZm9ybWF0OiBjaHJvbWFfZm9ybWF0LCAgLy8gNDoyOjAsIDQ6MjoyLCAuLi5cbiAgICAgICAgICAgIGNocm9tYV9mb3JtYXRfc3RyaW5nOiBTUFNQYXJzZXIuZ2V0Q2hyb21hRm9ybWF0U3RyaW5nKGNocm9tYV9mb3JtYXQpLFxuXG4gICAgICAgICAgICBmcmFtZV9yYXRlOiB7XG4gICAgICAgICAgICAgICAgZml4ZWQ6IGZwc19maXhlZCxcbiAgICAgICAgICAgICAgICBmcHM6IGZwcyxcbiAgICAgICAgICAgICAgICBmcHNfZGVuOiBmcHNfZGVuLFxuICAgICAgICAgICAgICAgIGZwc19udW06IGZwc19udW1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHNhcl9yYXRpbzoge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBzYXJfd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBzYXJfaGVpZ2h0XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBjb2RlY19zaXplOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGNvZGVjX3dpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogY29kZWNfaGVpZ2h0XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBwcmVzZW50X3NpemU6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogcHJlc2VudF93aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGNvZGVjX2hlaWdodFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBfc2tpcFNjYWxpbmdMaXN0KGdiLCBjb3VudCkge1xuICAgICAgICBsZXQgbGFzdF9zY2FsZSA9IDgsIG5leHRfc2NhbGUgPSA4O1xuICAgICAgICBsZXQgZGVsdGFfc2NhbGUgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGlmIChuZXh0X3NjYWxlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVsdGFfc2NhbGUgPSBnYi5yZWFkU0VHKCk7XG4gICAgICAgICAgICAgICAgbmV4dF9zY2FsZSA9IChsYXN0X3NjYWxlICsgZGVsdGFfc2NhbGUgKyAyNTYpICUgMjU2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdF9zY2FsZSA9IChuZXh0X3NjYWxlID09PSAwKSA/IGxhc3Rfc2NhbGUgOiBuZXh0X3NjYWxlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFByb2ZpbGVTdHJpbmcocHJvZmlsZV9pZGMpIHtcbiAgICAgICAgc3dpdGNoIChwcm9maWxlX2lkYykge1xuICAgICAgICAgICAgY2FzZSA2NjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0Jhc2VsaW5lJztcbiAgICAgICAgICAgIGNhc2UgNzc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdNYWluJztcbiAgICAgICAgICAgIGNhc2UgODg6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdFeHRlbmRlZCc7XG4gICAgICAgICAgICBjYXNlIDEwMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0hpZ2gnO1xuICAgICAgICAgICAgY2FzZSAxMTA6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdIaWdoMTAnO1xuICAgICAgICAgICAgY2FzZSAxMjI6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdIaWdoNDIyJztcbiAgICAgICAgICAgIGNhc2UgMjQ0OlxuICAgICAgICAgICAgICAgIHJldHVybiAnSGlnaDQ0NCc7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAnVW5rbm93bic7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0TGV2ZWxTdHJpbmcobGV2ZWxfaWRjKSB7XG4gICAgICAgIHJldHVybiAobGV2ZWxfaWRjIC8gMTApLnRvRml4ZWQoMSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldENocm9tYUZvcm1hdFN0cmluZyhjaHJvbWEpIHtcbiAgICAgICAgc3dpdGNoIChjaHJvbWEpIHtcbiAgICAgICAgICAgIGNhc2UgNDIwOlxuICAgICAgICAgICAgICAgIHJldHVybiAnNDoyOjAnO1xuICAgICAgICAgICAgY2FzZSA0MjI6XG4gICAgICAgICAgICAgICAgcmV0dXJuICc0OjI6Mic7XG4gICAgICAgICAgICBjYXNlIDQ0NDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJzQ6NDo0JztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdVbmtub3duJztcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBTUFNQYXJzZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBQb2x5ZmlsbCBmcm9tICcuL3V0aWxzL3BvbHlmaWxsLmpzJztcbmltcG9ydCBGZWF0dXJlcyBmcm9tICcuL2NvcmUvZmVhdHVyZXMuanMnO1xuaW1wb3J0IEZsdlBsYXllciBmcm9tICcuL3BsYXllci9mbHYtcGxheWVyLmpzJztcbmltcG9ydCBOYXRpdmVQbGF5ZXIgZnJvbSAnLi9wbGF5ZXIvbmF0aXZlLXBsYXllci5qcyc7XG5pbXBvcnQgUGxheWVyRXZlbnRzIGZyb20gJy4vcGxheWVyL3BsYXllci1ldmVudHMuanMnO1xuaW1wb3J0IHtFcnJvclR5cGVzLCBFcnJvckRldGFpbHN9IGZyb20gJy4vcGxheWVyL3BsYXllci1lcnJvcnMuanMnO1xuaW1wb3J0IExvZ2dpbmdDb250cm9sIGZyb20gJy4vdXRpbHMvbG9nZ2luZy1jb250cm9sLmpzJztcbmltcG9ydCB7SW52YWxpZEFyZ3VtZW50RXhjZXB0aW9ufSBmcm9tICcuL3V0aWxzL2V4Y2VwdGlvbi5qcyc7XG5cbi8vIGhlcmUgYXJlIGFsbCB0aGUgaW50ZXJmYWNlc1xuXG4vLyBpbnN0YWxsIHBvbHlmaWxsc1xuUG9seWZpbGwuaW5zdGFsbCgpO1xuXG5cbi8vIGZhY3RvcnkgbWV0aG9kXG5mdW5jdGlvbiBjcmVhdGVQbGF5ZXIobWVkaWFEYXRhU291cmNlLCBvcHRpb25hbENvbmZpZykge1xuICAgIGxldCBtZHMgPSBtZWRpYURhdGFTb3VyY2U7XG4gICAgaWYgKG1kcyA9PSBudWxsIHx8IHR5cGVvZiBtZHMgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ01lZGlhRGF0YVNvdXJjZSBtdXN0IGJlIGFuIGphdmFzY3JpcHQgb2JqZWN0IScpO1xuICAgIH1cblxuICAgIGlmICghbWRzLmhhc093blByb3BlcnR5KCd0eXBlJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignTWVkaWFEYXRhU291cmNlIG11c3QgaGFzIHR5cGUgZmllbGQgdG8gaW5kaWNhdGUgdmlkZW8gZmlsZSB0eXBlIScpO1xuICAgIH1cblxuICAgIHN3aXRjaCAobWRzLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnZmx2JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmx2UGxheWVyKG1kcywgb3B0aW9uYWxDb25maWcpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBOYXRpdmVQbGF5ZXIobWRzLCBvcHRpb25hbENvbmZpZyk7XG4gICAgfVxufVxuXG5cbi8vIGZlYXR1cmUgZGV0ZWN0aW9uXG5mdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gRmVhdHVyZXMuc3VwcG9ydE1TRUgyNjRQbGF5YmFjaygpO1xufVxuXG5mdW5jdGlvbiBnZXRGZWF0dXJlTGlzdCgpIHtcbiAgICByZXR1cm4gRmVhdHVyZXMuZ2V0RmVhdHVyZUxpc3QoKTtcbn1cblxuXG4vLyBpbnRlcmZhY2VzXG5sZXQgZmx2anMgPSB7fTtcblxuZmx2anMuY3JlYXRlUGxheWVyID0gY3JlYXRlUGxheWVyO1xuZmx2anMuaXNTdXBwb3J0ZWQgPSBpc1N1cHBvcnRlZDtcbmZsdmpzLmdldEZlYXR1cmVMaXN0ID0gZ2V0RmVhdHVyZUxpc3Q7XG5cbmZsdmpzLkV2ZW50cyA9IFBsYXllckV2ZW50cztcbmZsdmpzLkVycm9yVHlwZXMgPSBFcnJvclR5cGVzO1xuZmx2anMuRXJyb3JEZXRhaWxzID0gRXJyb3JEZXRhaWxzO1xuXG5mbHZqcy5GbHZQbGF5ZXIgPSBGbHZQbGF5ZXI7XG5mbHZqcy5OYXRpdmVQbGF5ZXIgPSBOYXRpdmVQbGF5ZXI7XG5mbHZqcy5Mb2dnaW5nQ29udHJvbCA9IExvZ2dpbmdDb250cm9sO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZmx2anMsICd2ZXJzaW9uJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHJlcGxhY2VkIGJ5IGJyb3dzZXJpZnktdmVyc2lvbmlmeSB0cmFuc2Zvcm1cbiAgICAgICAgcmV0dXJuICdfX1ZFUlNJT05fXyc7XG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGZsdmpzOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgTG9nIGZyb20gJy4uL3V0aWxzL2xvZ2dlci5qcyc7XG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi91dGlscy9icm93c2VyLmpzJztcbmltcG9ydCB7QmFzZUxvYWRlciwgTG9hZGVyU3RhdHVzLCBMb2FkZXJFcnJvcnN9IGZyb20gJy4vbG9hZGVyLmpzJztcbmltcG9ydCB7UnVudGltZUV4Y2VwdGlvbn0gZnJvbSAnLi4vdXRpbHMvZXhjZXB0aW9uLmpzJztcblxuLyogZmV0Y2ggKyBzdHJlYW0gSU8gbG9hZGVyLiBDdXJyZW50bHkgd29ya2luZyBvbiBjaHJvbWUgNDMrLlxuICogZmV0Y2ggcHJvdmlkZXMgYSBiZXR0ZXIgYWx0ZXJuYXRpdmUgaHR0cCBBUEkgdG8gWE1MSHR0cFJlcXVlc3RcbiAqXG4gKiBmZXRjaCBzcGVjICAgaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvXG4gKiBzdHJlYW0gc3BlYyAgaHR0cHM6Ly9zdHJlYW1zLnNwZWMud2hhdHdnLm9yZy9cbiAqL1xuY2xhc3MgRmV0Y2hTdHJlYW1Mb2FkZXIgZXh0ZW5kcyBCYXNlTG9hZGVyIHtcblxuICAgIHN0YXRpYyBpc1N1cHBvcnRlZCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIGZldGNoICsgc3RyZWFtIGlzIGJyb2tlbiBvbiBNaWNyb3NvZnQgRWRnZS4gRGlzYWJsZSBiZWZvcmUgYnVpbGQgMTUwNDguXG4gICAgICAgICAgICAvLyBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvODE5NjkwNy9cbiAgICAgICAgICAgIC8vIEZpeGVkIGluIEphbiAxMCwgMjAxNy4gQnVpbGQgMTUwNDgrIHJlbW92ZWQgZnJvbSBibGFja2xpc3QuXG4gICAgICAgICAgICBsZXQgaXNXb3JrV2VsbEVkZ2UgPSBCcm93c2VyLm1zZWRnZSAmJiBCcm93c2VyLnZlcnNpb24ubWlub3IgPj0gMTUwNDg7XG4gICAgICAgICAgICBsZXQgYnJvd3Nlck5vdEJsYWNrbGlzdGVkID0gQnJvd3Nlci5tc2VkZ2UgPyBpc1dvcmtXZWxsRWRnZSA6IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gKHNlbGYuZmV0Y2ggJiYgc2VsZi5SZWFkYWJsZVN0cmVhbSAmJiBicm93c2VyTm90QmxhY2tsaXN0ZWQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihzZWVrSGFuZGxlciwgY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKCdmZXRjaC1zdHJlYW0tbG9hZGVyJyk7XG4gICAgICAgIHRoaXMuVEFHID0gJ0ZldGNoU3RyZWFtTG9hZGVyJztcblxuICAgICAgICB0aGlzLl9zZWVrSGFuZGxlciA9IHNlZWtIYW5kbGVyO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuX25lZWRTdGFzaCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5fcmVxdWVzdEFib3J0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NvbnRlbnRMZW5ndGggPSBudWxsO1xuICAgICAgICB0aGlzLl9yZWNlaXZlZExlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNXb3JraW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgb3BlbihkYXRhU291cmNlLCByYW5nZSkge1xuICAgICAgICB0aGlzLl9kYXRhU291cmNlID0gZGF0YVNvdXJjZTtcbiAgICAgICAgdGhpcy5fcmFuZ2UgPSByYW5nZTtcblxuICAgICAgICBsZXQgc291cmNlVVJMID0gZGF0YVNvdXJjZS51cmw7XG4gICAgICAgIGlmICh0aGlzLl9jb25maWcucmV1c2VSZWRpcmVjdGVkVVJMICYmIGRhdGFTb3VyY2UucmVkaXJlY3RlZFVSTCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNvdXJjZVVSTCA9IGRhdGFTb3VyY2UucmVkaXJlY3RlZFVSTDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZWVrQ29uZmlnID0gdGhpcy5fc2Vla0hhbmRsZXIuZ2V0Q29uZmlnKHNvdXJjZVVSTCwgcmFuZ2UpO1xuXG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IHNlbGYuSGVhZGVycygpO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygc2Vla0NvbmZpZy5oZWFkZXJzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbGV0IGNvbmZpZ0hlYWRlcnMgPSBzZWVrQ29uZmlnLmhlYWRlcnM7XG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gY29uZmlnSGVhZGVycykge1xuICAgICAgICAgICAgICAgIGlmIChjb25maWdIZWFkZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVycy5hcHBlbmQoa2V5LCBjb25maWdIZWFkZXJzW2tleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwYXJhbXMgPSB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIG1vZGU6ICdjb3JzJyxcbiAgICAgICAgICAgIGNhY2hlOiAnZGVmYXVsdCcsXG4gICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBwb2xpY3kgb2YgRmV0Y2ggQVBJIGluIHRoZSB3aGF0d2cgc3RhbmRhcmRcbiAgICAgICAgICAgIC8vIFNhZmFyaSBpbmNvcnJlY3RseSBpbmRpY2F0ZXMgJ25vLXJlZmVycmVyJyBhcyBkZWZhdWx0IHBvbGljeSwgZnVjayBpdFxuICAgICAgICAgICAgcmVmZXJyZXJQb2xpY3k6ICduby1yZWZlcnJlci13aGVuLWRvd25ncmFkZSdcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBjb3JzIGlzIGVuYWJsZWQgYnkgZGVmYXVsdFxuICAgICAgICBpZiAoZGF0YVNvdXJjZS5jb3JzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgLy8gbm8tY29ycyBtZWFucyAnZGlzcmVnYXJkIGNvcnMgcG9saWN5Jywgd2hpY2ggY2FuIG9ubHkgYmUgdXNlZCBpbiBTZXJ2aWNlV29ya2VyXG4gICAgICAgICAgICBwYXJhbXMubW9kZSA9ICdzYW1lLW9yaWdpbic7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3aXRoQ3JlZGVudGlhbHMgaXMgZGlzYWJsZWQgYnkgZGVmYXVsdFxuICAgICAgICBpZiAoZGF0YVNvdXJjZS53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgIHBhcmFtcy5jcmVkZW50aWFscyA9ICdpbmNsdWRlJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlZmVycmVyUG9saWN5IGZyb20gY29uZmlnXG4gICAgICAgIGlmIChkYXRhU291cmNlLnJlZmVycmVyUG9saWN5KSB7XG4gICAgICAgICAgICBwYXJhbXMucmVmZXJyZXJQb2xpY3kgPSBkYXRhU291cmNlLnJlZmVycmVyUG9saWN5O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtDb25uZWN0aW5nO1xuICAgICAgICBzZWxmLmZldGNoKHNlZWtDb25maWcudXJsLCBwYXJhbXMpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RBYm9ydCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RBYm9ydCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rSWRsZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzLm9rICYmIChyZXMuc3RhdHVzID49IDIwMCAmJiByZXMuc3RhdHVzIDw9IDI5OSkpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzLnVybCAhPT0gc2Vla0NvbmZpZy51cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX29uVVJMUmVkaXJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZWRpcmVjdGVkVVJMID0gdGhpcy5fc2Vla0hhbmRsZXIucmVtb3ZlVVJMUGFyYW1ldGVycyhyZXMudXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uVVJMUmVkaXJlY3QocmVkaXJlY3RlZFVSTCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgbGVuZ3RoSGVhZGVyID0gcmVzLmhlYWRlcnMuZ2V0KCdDb250ZW50LUxlbmd0aCcpO1xuICAgICAgICAgICAgICAgIGlmIChsZW5ndGhIZWFkZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb250ZW50TGVuZ3RoID0gcGFyc2VJbnQobGVuZ3RoSGVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnRMZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vbkNvbnRlbnRMZW5ndGhLbm93bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uQ29udGVudExlbmd0aEtub3duKHRoaXMuX2NvbnRlbnRMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3B1bXAuY2FsbCh0aGlzLCByZXMuYm9keS5nZXRSZWFkZXIoKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rRXJyb3I7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX29uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcihMb2FkZXJFcnJvcnMuSFRUUF9TVEFUVVNfQ09ERV9JTlZBTElELCB7Y29kZTogcmVzLnN0YXR1cywgbXNnOiByZXMuc3RhdHVzVGV4dH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCdGZXRjaFN0cmVhbUxvYWRlcjogSHR0cCBjb2RlIGludmFsaWQsICcgKyByZXMuc3RhdHVzICsgJyAnICsgcmVzLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rRXJyb3I7XG4gICAgICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoTG9hZGVyRXJyb3JzLkVYQ0VQVElPTiwge2NvZGU6IC0xLCBtc2c6IGUubWVzc2FnZX0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgdGhpcy5fcmVxdWVzdEFib3J0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBfcHVtcChyZWFkZXIpIHsgIC8vIFJlYWRhYmxlU3RyZWFtUmVhZGVyXG4gICAgICAgIHJldHVybiByZWFkZXIucmVhZCgpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyc3QgY2hlY2sgcmVjZWl2ZWQgbGVuZ3RoXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnRMZW5ndGggIT09IG51bGwgJiYgdGhpcy5fcmVjZWl2ZWRMZW5ndGggPCB0aGlzLl9jb250ZW50TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlcG9ydCBFYXJseS1FT0ZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHR5cGUgPSBMb2FkZXJFcnJvcnMuRUFSTFlfRU9GO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5mbyA9IHtjb2RlOiAtMSwgbXNnOiAnRmV0Y2ggc3RyZWFtIG1lZXQgRWFybHktRU9GJ307XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKHR5cGUsIGluZm8pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oaW5mby5tc2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT0suIERvd25sb2FkIGNvbXBsZXRlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQ29tcGxldGU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkNvbXBsZXRlKHRoaXMuX3JhbmdlLmZyb20sIHRoaXMuX3JhbmdlLmZyb20gKyB0aGlzLl9yZWNlaXZlZExlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcmVxdWVzdEFib3J0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RBYm9ydCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0NvbXBsZXRlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhZGVyLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQnVmZmVyaW5nO1xuXG4gICAgICAgICAgICAgICAgbGV0IGNodW5rID0gcmVzdWx0LnZhbHVlLmJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBsZXQgYnl0ZVN0YXJ0ID0gdGhpcy5fcmFuZ2UuZnJvbSArIHRoaXMuX3JlY2VpdmVkTGVuZ3RoO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlY2VpdmVkTGVuZ3RoICs9IGNodW5rLmJ5dGVMZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25EYXRhQXJyaXZhbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkRhdGFBcnJpdmFsKGNodW5rLCBieXRlU3RhcnQsIHRoaXMuX3JlY2VpdmVkTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9wdW1wKHJlYWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5jb2RlID09PSAxMSAmJiBCcm93c2VyLm1zZWRnZSkgeyAgLy8gSW52YWxpZFN0YXRlRXJyb3Igb24gTWljcm9zb2Z0IEVkZ2VcbiAgICAgICAgICAgICAgICAvLyBXb3JrYXJvdW5kOiBFZGdlIG1heSB0aHJvdyBJbnZhbGlkU3RhdGVFcnJvciBhZnRlciBSZWFkYWJsZVN0cmVhbVJlYWRlci5jYW5jZWwoKSBjYWxsXG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIHRoZSB1bmtub3duIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgICAgICAvLyBSZWxhdGVkIGlzc3VlOiBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL2VuLXVzL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy8xMTI2NTIwMi9cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rRXJyb3I7XG4gICAgICAgICAgICBsZXQgdHlwZSA9IDA7XG4gICAgICAgICAgICBsZXQgaW5mbyA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmICgoZS5jb2RlID09PSAxOSB8fCBlLm1lc3NhZ2UgPT09ICduZXR3b3JrIGVycm9yJykgJiYgLy8gTkVUV09SS19FUlJcbiAgICAgICAgICAgICAgICAodGhpcy5fY29udGVudExlbmd0aCA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgICh0aGlzLl9jb250ZW50TGVuZ3RoICE9PSBudWxsICYmIHRoaXMuX3JlY2VpdmVkTGVuZ3RoIDwgdGhpcy5fY29udGVudExlbmd0aCkpKSB7XG4gICAgICAgICAgICAgICAgdHlwZSA9IExvYWRlckVycm9ycy5FQVJMWV9FT0Y7XG4gICAgICAgICAgICAgICAgaW5mbyA9IHtjb2RlOiBlLmNvZGUsIG1zZzogJ0ZldGNoIHN0cmVhbSBtZWV0IEVhcmx5LUVPRid9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0eXBlID0gTG9hZGVyRXJyb3JzLkVYQ0VQVElPTjtcbiAgICAgICAgICAgICAgICBpbmZvID0ge2NvZGU6IGUuY29kZSwgbXNnOiBlLm1lc3NhZ2V9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRXJyb3IodHlwZSwgaW5mbyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKGluZm8ubXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEZldGNoU3RyZWFtTG9hZGVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgTG9nIGZyb20gJy4uL3V0aWxzL2xvZ2dlci5qcyc7XG5pbXBvcnQgU3BlZWRTYW1wbGVyIGZyb20gJy4vc3BlZWQtc2FtcGxlci5qcyc7XG5pbXBvcnQge0xvYWRlclN0YXR1cywgTG9hZGVyRXJyb3JzfSBmcm9tICcuL2xvYWRlci5qcyc7XG5pbXBvcnQgRmV0Y2hTdHJlYW1Mb2FkZXIgZnJvbSAnLi9mZXRjaC1zdHJlYW0tbG9hZGVyLmpzJztcbmltcG9ydCBNb3pDaHVua2VkTG9hZGVyIGZyb20gJy4veGhyLW1vei1jaHVua2VkLWxvYWRlci5qcyc7XG5pbXBvcnQgTVNTdHJlYW1Mb2FkZXIgZnJvbSAnLi94aHItbXNzdHJlYW0tbG9hZGVyLmpzJztcbmltcG9ydCBSYW5nZUxvYWRlciBmcm9tICcuL3hoci1yYW5nZS1sb2FkZXIuanMnO1xuaW1wb3J0IFdlYlNvY2tldExvYWRlciBmcm9tICcuL3dlYnNvY2tldC1sb2FkZXIuanMnO1xuaW1wb3J0IFJhbmdlU2Vla0hhbmRsZXIgZnJvbSAnLi9yYW5nZS1zZWVrLWhhbmRsZXIuanMnO1xuaW1wb3J0IFBhcmFtU2Vla0hhbmRsZXIgZnJvbSAnLi9wYXJhbS1zZWVrLWhhbmRsZXIuanMnO1xuaW1wb3J0IHtSdW50aW1lRXhjZXB0aW9uLCBJbGxlZ2FsU3RhdGVFeGNlcHRpb24sIEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbn0gZnJvbSAnLi4vdXRpbHMvZXhjZXB0aW9uLmpzJztcblxuLyoqXG4gKiBEYXRhU291cmNlOiB7XG4gKiAgICAgdXJsOiBzdHJpbmcsXG4gKiAgICAgZmlsZXNpemU6IG51bWJlcixcbiAqICAgICBjb3JzOiBib29sZWFuLFxuICogICAgIHdpdGhDcmVkZW50aWFsczogYm9vbGVhblxuICogfVxuICogXG4gKi9cblxuLy8gTWFuYWdlIElPIExvYWRlcnNcbmNsYXNzIElPQ29udHJvbGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihkYXRhU291cmNlLCBjb25maWcsIGV4dHJhRGF0YSkge1xuICAgICAgICB0aGlzLlRBRyA9ICdJT0NvbnRyb2xsZXInO1xuXG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fZXh0cmFEYXRhID0gZXh0cmFEYXRhO1xuXG4gICAgICAgIHRoaXMuX3N0YXNoSW5pdGlhbFNpemUgPSAxMDI0ICogMzg0OyAgLy8gZGVmYXVsdCBpbml0aWFsIHNpemU6IDM4NEtCXG4gICAgICAgIGlmIChjb25maWcuc3Rhc2hJbml0aWFsU2l6ZSAhPSB1bmRlZmluZWQgJiYgY29uZmlnLnN0YXNoSW5pdGlhbFNpemUgPiAwKSB7XG4gICAgICAgICAgICAvLyBhcHBseSBmcm9tIGNvbmZpZ1xuICAgICAgICAgICAgdGhpcy5fc3Rhc2hJbml0aWFsU2l6ZSA9IGNvbmZpZy5zdGFzaEluaXRpYWxTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3Rhc2hVc2VkID0gMDtcbiAgICAgICAgdGhpcy5fc3Rhc2hTaXplID0gdGhpcy5fc3Rhc2hJbml0aWFsU2l6ZTtcbiAgICAgICAgdGhpcy5fYnVmZmVyU2l6ZSA9IDEwMjQgKiAxMDI0ICogMzsgIC8vIGluaXRpYWwgc2l6ZTogM01CXG4gICAgICAgIHRoaXMuX3N0YXNoQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuX2J1ZmZlclNpemUpO1xuICAgICAgICB0aGlzLl9zdGFzaEJ5dGVTdGFydCA9IDA7XG4gICAgICAgIHRoaXMuX2VuYWJsZVN0YXNoID0gdHJ1ZTtcbiAgICAgICAgaWYgKGNvbmZpZy5lbmFibGVTdGFzaEJ1ZmZlciA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZVN0YXNoID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb2FkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb2FkZXJDbGFzcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3NlZWtIYW5kbGVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9kYXRhU291cmNlID0gZGF0YVNvdXJjZTtcbiAgICAgICAgdGhpcy5faXNXZWJTb2NrZXRVUkwgPSAvd3NzPzpcXC9cXC8oLis/KS8udGVzdChkYXRhU291cmNlLnVybCk7XG4gICAgICAgIHRoaXMuX3JlZlRvdGFsTGVuZ3RoID0gZGF0YVNvdXJjZS5maWxlc2l6ZSA/IGRhdGFTb3VyY2UuZmlsZXNpemUgOiBudWxsO1xuICAgICAgICB0aGlzLl90b3RhbExlbmd0aCA9IHRoaXMuX3JlZlRvdGFsTGVuZ3RoO1xuICAgICAgICB0aGlzLl9mdWxsUmVxdWVzdEZsYWcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY3VycmVudFJhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVkaXJlY3RlZFVSTCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fc3BlZWROb3JtYWxpemVkID0gMDtcbiAgICAgICAgdGhpcy5fc3BlZWRTYW1wbGVyID0gbmV3IFNwZWVkU2FtcGxlcigpO1xuICAgICAgICB0aGlzLl9zcGVlZE5vcm1hbGl6ZUxpc3QgPSBbNjQsIDEyOCwgMjU2LCAzODQsIDUxMiwgNzY4LCAxMDI0LCAxNTM2LCAyMDQ4LCAzMDcyLCA0MDk2XTtcblxuICAgICAgICB0aGlzLl9pc0Vhcmx5RW9mUmVjb25uZWN0aW5nID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fcGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3Jlc3VtZUZyb20gPSAwO1xuXG4gICAgICAgIHRoaXMuX29uRGF0YUFycml2YWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9vblNlZWtlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbkNvbXBsZXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25SZWRpcmVjdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uUmVjb3ZlcmVkRWFybHlFb2YgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3NlbGVjdFNlZWtIYW5kbGVyKCk7XG4gICAgICAgIHRoaXMuX3NlbGVjdExvYWRlcigpO1xuICAgICAgICB0aGlzLl9jcmVhdGVMb2FkZXIoKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fbG9hZGVyLmlzV29ya2luZygpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkZXIuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2FkZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9sb2FkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb2FkZXJDbGFzcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2RhdGFTb3VyY2UgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdGFzaEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N0YXNoVXNlZCA9IHRoaXMuX3N0YXNoU2l6ZSA9IHRoaXMuX2J1ZmZlclNpemUgPSB0aGlzLl9zdGFzaEJ5dGVTdGFydCA9IDA7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRSYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3NwZWVkU2FtcGxlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5faXNFYXJseUVvZlJlY29ubmVjdGluZyA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX29uRGF0YUFycml2YWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9vblNlZWtlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbkNvbXBsZXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25SZWRpcmVjdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uUmVjb3ZlcmVkRWFybHlFb2YgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2V4dHJhRGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgaXNXb3JraW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZGVyICYmIHRoaXMuX2xvYWRlci5pc1dvcmtpbmcoKSAmJiAhdGhpcy5fcGF1c2VkO1xuICAgIH1cblxuICAgIGlzUGF1c2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGF1c2VkO1xuICAgIH1cblxuICAgIGdldCBzdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkZXIuc3RhdHVzO1xuICAgIH1cblxuICAgIGdldCBleHRyYURhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9leHRyYURhdGE7XG4gICAgfVxuXG4gICAgc2V0IGV4dHJhRGF0YShkYXRhKSB7XG4gICAgICAgIHRoaXMuX2V4dHJhRGF0YSA9IGRhdGE7XG4gICAgfVxuXG4gICAgLy8gcHJvdG90eXBlOiBmdW5jdGlvbiBvbkRhdGFBcnJpdmFsKGNodW5rczogQXJyYXlCdWZmZXIsIGJ5dGVTdGFydDogbnVtYmVyKTogbnVtYmVyXG4gICAgZ2V0IG9uRGF0YUFycml2YWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkRhdGFBcnJpdmFsO1xuICAgIH1cblxuICAgIHNldCBvbkRhdGFBcnJpdmFsKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uRGF0YUFycml2YWwgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBnZXQgb25TZWVrZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vblNlZWtlZDtcbiAgICB9XG5cbiAgICBzZXQgb25TZWVrZWQoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25TZWVrZWQgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICAvLyBwcm90b3R5cGU6IGZ1bmN0aW9uIG9uRXJyb3IodHlwZTogbnVtYmVyLCBpbmZvOiB7Y29kZTogbnVtYmVyLCBtc2c6IHN0cmluZ30pOiB2b2lkXG4gICAgZ2V0IG9uRXJyb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkVycm9yO1xuICAgIH1cblxuICAgIHNldCBvbkVycm9yKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uRXJyb3IgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBnZXQgb25Db21wbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uQ29tcGxldGU7XG4gICAgfVxuXG4gICAgc2V0IG9uQ29tcGxldGUoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25Db21wbGV0ZSA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGdldCBvblJlZGlyZWN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25SZWRpcmVjdDtcbiAgICB9XG5cbiAgICBzZXQgb25SZWRpcmVjdChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vblJlZGlyZWN0ID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgZ2V0IG9uUmVjb3ZlcmVkRWFybHlFb2YoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vblJlY292ZXJlZEVhcmx5RW9mO1xuICAgIH1cblxuICAgIHNldCBvblJlY292ZXJlZEVhcmx5RW9mKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uUmVjb3ZlcmVkRWFybHlFb2YgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudFVSTCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFTb3VyY2UudXJsO1xuICAgIH1cblxuICAgIGdldCBoYXNSZWRpcmVjdCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9yZWRpcmVjdGVkVVJMICE9IG51bGwgfHwgdGhpcy5fZGF0YVNvdXJjZS5yZWRpcmVjdGVkVVJMICE9IHVuZGVmaW5lZCk7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRSZWRpcmVjdGVkVVJMKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVkaXJlY3RlZFVSTCB8fCB0aGlzLl9kYXRhU291cmNlLnJlZGlyZWN0ZWRVUkw7XG4gICAgfVxuXG4gICAgLy8gaW4gS0Ivc1xuICAgIGdldCBjdXJyZW50U3BlZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkZXJDbGFzcyA9PT0gUmFuZ2VMb2FkZXIpIHtcbiAgICAgICAgICAgIC8vIFNwZWVkU2FtcGxlciBpcyBpbmFjY3VyYWN5IGlmIGxvYWRlciBpcyBSYW5nZUxvYWRlclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRlci5jdXJyZW50U3BlZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWVkU2FtcGxlci5sYXN0U2Vjb25kS0JwcztcbiAgICB9XG5cbiAgICBnZXQgbG9hZGVyVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRlci50eXBlO1xuICAgIH1cblxuICAgIF9zZWxlY3RTZWVrSGFuZGxlcigpIHtcbiAgICAgICAgbGV0IGNvbmZpZyA9IHRoaXMuX2NvbmZpZztcblxuICAgICAgICBpZiAoY29uZmlnLnNlZWtUeXBlID09PSAncmFuZ2UnKSB7XG4gICAgICAgICAgICB0aGlzLl9zZWVrSGFuZGxlciA9IG5ldyBSYW5nZVNlZWtIYW5kbGVyKHRoaXMuX2NvbmZpZy5yYW5nZUxvYWRaZXJvU3RhcnQpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5zZWVrVHlwZSA9PT0gJ3BhcmFtJykge1xuICAgICAgICAgICAgbGV0IHBhcmFtU3RhcnQgPSBjb25maWcuc2Vla1BhcmFtU3RhcnQgfHwgJ2JzdGFydCc7XG4gICAgICAgICAgICBsZXQgcGFyYW1FbmQgPSBjb25maWcuc2Vla1BhcmFtRW5kIHx8ICdiZW5kJztcblxuICAgICAgICAgICAgdGhpcy5fc2Vla0hhbmRsZXIgPSBuZXcgUGFyYW1TZWVrSGFuZGxlcihwYXJhbVN0YXJ0LCBwYXJhbUVuZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnNlZWtUeXBlID09PSAnY3VzdG9tJykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcuY3VzdG9tU2Vla0hhbmRsZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdDdXN0b20gc2Vla1R5cGUgc3BlY2lmaWVkIGluIGNvbmZpZyBidXQgaW52YWxpZCBjdXN0b21TZWVrSGFuZGxlciEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3NlZWtIYW5kbGVyID0gbmV3IGNvbmZpZy5jdXN0b21TZWVrSGFuZGxlcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihgSW52YWxpZCBzZWVrVHlwZSBpbiBjb25maWc6ICR7Y29uZmlnLnNlZWtUeXBlfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3NlbGVjdExvYWRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzV2ViU29ja2V0VVJMKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkZXJDbGFzcyA9IFdlYlNvY2tldExvYWRlcjtcbiAgICAgICAgfSBlbHNlIGlmIChGZXRjaFN0cmVhbUxvYWRlci5pc1N1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkZXJDbGFzcyA9IEZldGNoU3RyZWFtTG9hZGVyO1xuICAgICAgICB9IGVsc2UgaWYgKE1vekNodW5rZWRMb2FkZXIuaXNTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZGVyQ2xhc3MgPSBNb3pDaHVua2VkTG9hZGVyO1xuICAgICAgICB9IGVsc2UgaWYgKFJhbmdlTG9hZGVyLmlzU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlckNsYXNzID0gUmFuZ2VMb2FkZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbignWW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IHhociB3aXRoIGFycmF5YnVmZmVyIHJlc3BvbnNlVHlwZSEnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jcmVhdGVMb2FkZXIoKSB7XG4gICAgICAgIHRoaXMuX2xvYWRlciA9IG5ldyB0aGlzLl9sb2FkZXJDbGFzcyh0aGlzLl9zZWVrSGFuZGxlciwgdGhpcy5fY29uZmlnKTtcbiAgICAgICAgaWYgKHRoaXMuX2xvYWRlci5uZWVkU3Rhc2hCdWZmZXIgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLl9lbmFibGVTdGFzaCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xvYWRlci5vbkNvbnRlbnRMZW5ndGhLbm93biA9IHRoaXMuX29uQ29udGVudExlbmd0aEtub3duLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2xvYWRlci5vblVSTFJlZGlyZWN0ID0gdGhpcy5fb25VUkxSZWRpcmVjdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9sb2FkZXIub25EYXRhQXJyaXZhbCA9IHRoaXMuX29uTG9hZGVyQ2h1bmtBcnJpdmFsLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2xvYWRlci5vbkNvbXBsZXRlID0gdGhpcy5fb25Mb2FkZXJDb21wbGV0ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9sb2FkZXIub25FcnJvciA9IHRoaXMuX29uTG9hZGVyRXJyb3IuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBvcGVuKG9wdGlvbmFsRnJvbSkge1xuICAgICAgICB0aGlzLl9jdXJyZW50UmFuZ2UgPSB7ZnJvbTogMCwgdG86IC0xfTtcbiAgICAgICAgaWYgKG9wdGlvbmFsRnJvbSkge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFJhbmdlLmZyb20gPSBvcHRpb25hbEZyb207XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zcGVlZFNhbXBsZXIucmVzZXQoKTtcbiAgICAgICAgaWYgKCFvcHRpb25hbEZyb20pIHtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxSZXF1ZXN0RmxhZyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb2FkZXIub3Blbih0aGlzLl9kYXRhU291cmNlLCBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9jdXJyZW50UmFuZ2UpKTtcbiAgICB9XG5cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgdGhpcy5fbG9hZGVyLmFib3J0KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3BhdXNlZCkge1xuICAgICAgICAgICAgdGhpcy5fcGF1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9yZXN1bWVGcm9tID0gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhdXNlKCkge1xuICAgICAgICBpZiAodGhpcy5pc1dvcmtpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZGVyLmFib3J0KCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFzaFVzZWQgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXN1bWVGcm9tID0gdGhpcy5fc3Rhc2hCeXRlU3RhcnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFJhbmdlLnRvID0gdGhpcy5fc3Rhc2hCeXRlU3RhcnQgLSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXN1bWVGcm9tID0gdGhpcy5fY3VycmVudFJhbmdlLnRvICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3N0YXNoVXNlZCA9IDA7XG4gICAgICAgICAgICB0aGlzLl9zdGFzaEJ5dGVTdGFydCA9IDA7XG4gICAgICAgICAgICB0aGlzLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzdW1lKCkge1xuICAgICAgICBpZiAodGhpcy5fcGF1c2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBieXRlcyA9IHRoaXMuX3Jlc3VtZUZyb207XG4gICAgICAgICAgICB0aGlzLl9yZXN1bWVGcm9tID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2ludGVybmFsU2VlayhieXRlcywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWVrKGJ5dGVzKSB7XG4gICAgICAgIHRoaXMuX3BhdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zdGFzaFVzZWQgPSAwO1xuICAgICAgICB0aGlzLl9zdGFzaEJ5dGVTdGFydCA9IDA7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU2VlayhieXRlcywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiBzZWVraW5nIHJlcXVlc3QgaXMgZnJvbSBtZWRpYSBzZWVraW5nLCB1bmNvbnN1bWVkIHN0YXNoIGRhdGEgc2hvdWxkIGJlIGRyb3BwZWRcbiAgICAgKiBIb3dldmVyLCBzdGFzaCBkYXRhIHNob3VsZG4ndCBiZSBkcm9wcGVkIGlmIHNlZWtpbmcgcmVxdWVzdGVkIGZyb20gaHR0cCByZWNvbm5lY3Rpb25cbiAgICAgKlxuICAgICAqIEBkcm9wVW5jb25zdW1lZDogSWdub3JlIGFuZCBkaXNjYXJkIGFsbCB1bmNvbnN1bWVkIGRhdGEgaW4gc3Rhc2ggYnVmZmVyXG4gICAgICovXG4gICAgX2ludGVybmFsU2VlayhieXRlcywgZHJvcFVuY29uc3VtZWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xvYWRlci5pc1dvcmtpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZGVyLmFib3J0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkaXNwYXRjaCAmIGZsdXNoIHN0YXNoIGJ1ZmZlciBiZWZvcmUgc2Vla1xuICAgICAgICB0aGlzLl9mbHVzaFN0YXNoQnVmZmVyKGRyb3BVbmNvbnN1bWVkKTtcblxuICAgICAgICB0aGlzLl9sb2FkZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9sb2FkZXIgPSBudWxsO1xuXG4gICAgICAgIGxldCByZXF1ZXN0UmFuZ2UgPSB7ZnJvbTogYnl0ZXMsIHRvOiAtMX07XG4gICAgICAgIHRoaXMuX2N1cnJlbnRSYW5nZSA9IHtmcm9tOiByZXF1ZXN0UmFuZ2UuZnJvbSwgdG86IC0xfTtcblxuICAgICAgICB0aGlzLl9zcGVlZFNhbXBsZXIucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fc3Rhc2hTaXplID0gdGhpcy5fc3Rhc2hJbml0aWFsU2l6ZTtcbiAgICAgICAgdGhpcy5fY3JlYXRlTG9hZGVyKCk7XG4gICAgICAgIHRoaXMuX2xvYWRlci5vcGVuKHRoaXMuX2RhdGFTb3VyY2UsIHJlcXVlc3RSYW5nZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX29uU2Vla2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9vblNlZWtlZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlVXJsKHVybCkge1xuICAgICAgICBpZiAoIXVybCB8fCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJyB8fCB1cmwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdVcmwgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmchJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kYXRhU291cmNlLnVybCA9IHVybDtcblxuICAgICAgICAvLyBUT0RPOiByZXBsYWNlIHdpdGggbmV3IHVybFxuICAgIH1cblxuICAgIF9leHBhbmRCdWZmZXIoZXhwZWN0ZWRCeXRlcykge1xuICAgICAgICBsZXQgYnVmZmVyTmV3U2l6ZSA9IHRoaXMuX3N0YXNoU2l6ZTtcbiAgICAgICAgd2hpbGUgKGJ1ZmZlck5ld1NpemUgKyAxMDI0ICogMTAyNCAqIDEgPCBleHBlY3RlZEJ5dGVzKSB7XG4gICAgICAgICAgICBidWZmZXJOZXdTaXplICo9IDI7XG4gICAgICAgIH1cblxuICAgICAgICBidWZmZXJOZXdTaXplICs9IDEwMjQgKiAxMDI0ICogMTsgIC8vIGJ1ZmZlclNpemUgPSBzdGFzaFNpemUgKyAxTUJcbiAgICAgICAgaWYgKGJ1ZmZlck5ld1NpemUgPT09IHRoaXMuX2J1ZmZlclNpemUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuZXdCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoYnVmZmVyTmV3U2l6ZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0YXNoVXNlZCA+IDApIHsgIC8vIGNvcHkgZXhpc3RpbmcgZGF0YSBpbnRvIG5ldyBidWZmZXJcbiAgICAgICAgICAgIGxldCBzdGFzaE9sZEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fc3Rhc2hCdWZmZXIsIDAsIHRoaXMuX3N0YXNoVXNlZCk7XG4gICAgICAgICAgICBsZXQgc3Rhc2hOZXdBcnJheSA9IG5ldyBVaW50OEFycmF5KG5ld0J1ZmZlciwgMCwgYnVmZmVyTmV3U2l6ZSk7XG4gICAgICAgICAgICBzdGFzaE5ld0FycmF5LnNldChzdGFzaE9sZEFycmF5LCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3N0YXNoQnVmZmVyID0gbmV3QnVmZmVyO1xuICAgICAgICB0aGlzLl9idWZmZXJTaXplID0gYnVmZmVyTmV3U2l6ZTtcbiAgICB9XG5cbiAgICBfbm9ybWFsaXplU3BlZWQoaW5wdXQpIHtcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLl9zcGVlZE5vcm1hbGl6ZUxpc3Q7XG4gICAgICAgIGxldCBsYXN0ID0gbGlzdC5sZW5ndGggLSAxO1xuICAgICAgICBsZXQgbWlkID0gMDtcbiAgICAgICAgbGV0IGxib3VuZCA9IDA7XG4gICAgICAgIGxldCB1Ym91bmQgPSBsYXN0O1xuXG4gICAgICAgIGlmIChpbnB1dCA8IGxpc3RbMF0pIHtcbiAgICAgICAgICAgIHJldHVybiBsaXN0WzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmluYXJ5IHNlYXJjaFxuICAgICAgICB3aGlsZSAobGJvdW5kIDw9IHVib3VuZCkge1xuICAgICAgICAgICAgbWlkID0gbGJvdW5kICsgTWF0aC5mbG9vcigodWJvdW5kIC0gbGJvdW5kKSAvIDIpO1xuICAgICAgICAgICAgaWYgKG1pZCA9PT0gbGFzdCB8fCAoaW5wdXQgPj0gbGlzdFttaWRdICYmIGlucHV0IDwgbGlzdFttaWQgKyAxXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdFttaWRdO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsaXN0W21pZF0gPCBpbnB1dCkge1xuICAgICAgICAgICAgICAgIGxib3VuZCA9IG1pZCArIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVib3VuZCA9IG1pZCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfYWRqdXN0U3Rhc2hTaXplKG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgbGV0IHN0YXNoU2l6ZUtCID0gMDtcblxuICAgICAgICBpZiAodGhpcy5fY29uZmlnLmlzTGl2ZSkge1xuICAgICAgICAgICAgLy8gbGl2ZSBzdHJlYW06IGFsd2F5cyB1c2Ugc2luZ2xlIG5vcm1hbGl6ZWQgc3BlZWQgZm9yIHNpemUgb2Ygc3Rhc2hTaXplS0JcbiAgICAgICAgICAgIHN0YXNoU2l6ZUtCID0gbm9ybWFsaXplZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkIDwgNTEyKSB7XG4gICAgICAgICAgICAgICAgc3Rhc2hTaXplS0IgPSBub3JtYWxpemVkO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChub3JtYWxpemVkID49IDUxMiAmJiBub3JtYWxpemVkIDw9IDEwMjQpIHtcbiAgICAgICAgICAgICAgICBzdGFzaFNpemVLQiA9IE1hdGguZmxvb3Iobm9ybWFsaXplZCAqIDEuNSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YXNoU2l6ZUtCID0gbm9ybWFsaXplZCAqIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3Rhc2hTaXplS0IgPiA4MTkyKSB7XG4gICAgICAgICAgICBzdGFzaFNpemVLQiA9IDgxOTI7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYnVmZmVyU2l6ZSA9IHN0YXNoU2l6ZUtCICogMTAyNCArIDEwMjQgKiAxMDI0ICogMTsgIC8vIHN0YXNoU2l6ZSArIDFNQlxuICAgICAgICBpZiAodGhpcy5fYnVmZmVyU2l6ZSA8IGJ1ZmZlclNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4cGFuZEJ1ZmZlcihidWZmZXJTaXplKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGFzaFNpemUgPSBzdGFzaFNpemVLQiAqIDEwMjQ7XG4gICAgfVxuXG4gICAgX2Rpc3BhdGNoQ2h1bmtzKGNodW5rcywgYnl0ZVN0YXJ0KSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRSYW5nZS50byA9IGJ5dGVTdGFydCArIGNodW5rcy5ieXRlTGVuZ3RoIC0gMTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uRGF0YUFycml2YWwoY2h1bmtzLCBieXRlU3RhcnQpO1xuICAgIH1cblxuICAgIF9vblVSTFJlZGlyZWN0KHJlZGlyZWN0ZWRVUkwpIHtcbiAgICAgICAgdGhpcy5fcmVkaXJlY3RlZFVSTCA9IHJlZGlyZWN0ZWRVUkw7XG4gICAgICAgIGlmICh0aGlzLl9vblJlZGlyZWN0KSB7XG4gICAgICAgICAgICB0aGlzLl9vblJlZGlyZWN0KHJlZGlyZWN0ZWRVUkwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uQ29udGVudExlbmd0aEtub3duKGNvbnRlbnRMZW5ndGgpIHtcbiAgICAgICAgaWYgKGNvbnRlbnRMZW5ndGggJiYgdGhpcy5fZnVsbFJlcXVlc3RGbGFnKSB7XG4gICAgICAgICAgICB0aGlzLl90b3RhbExlbmd0aCA9IGNvbnRlbnRMZW5ndGg7XG4gICAgICAgICAgICB0aGlzLl9mdWxsUmVxdWVzdEZsYWcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkxvYWRlckNodW5rQXJyaXZhbChjaHVuaywgYnl0ZVN0YXJ0LCByZWNlaXZlZExlbmd0aCkge1xuICAgICAgICBpZiAoIXRoaXMuX29uRGF0YUFycml2YWwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ0lPQ29udHJvbGxlcjogTm8gZXhpc3RpbmcgY29uc3VtZXIgKG9uRGF0YUFycml2YWwpIGNhbGxiYWNrIScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9wYXVzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faXNFYXJseUVvZlJlY29ubmVjdGluZykge1xuICAgICAgICAgICAgLy8gQXV0by1yZWNvbm5lY3QgZm9yIEVhcmx5RW9mIHN1Y2NlZWQsIG5vdGlmeSB0byB1cHBlci1sYXllciBieSBjYWxsYmFja1xuICAgICAgICAgICAgdGhpcy5faXNFYXJseUVvZlJlY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX29uUmVjb3ZlcmVkRWFybHlFb2YpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vblJlY292ZXJlZEVhcmx5RW9mKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zcGVlZFNhbXBsZXIuYWRkQnl0ZXMoY2h1bmsuYnl0ZUxlbmd0aCk7XG5cbiAgICAgICAgLy8gYWRqdXN0IHN0YXNoIGJ1ZmZlciBzaXplIGFjY29yZGluZyB0byBuZXR3b3JrIHNwZWVkIGR5bmFtaWNhbGx5XG4gICAgICAgIGxldCBLQnBzID0gdGhpcy5fc3BlZWRTYW1wbGVyLmxhc3RTZWNvbmRLQnBzO1xuICAgICAgICBpZiAoS0JwcyAhPT0gMCkge1xuICAgICAgICAgICAgbGV0IG5vcm1hbGl6ZWQgPSB0aGlzLl9ub3JtYWxpemVTcGVlZChLQnBzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zcGVlZE5vcm1hbGl6ZWQgIT09IG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGVlZE5vcm1hbGl6ZWQgPSBub3JtYWxpemVkO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkanVzdFN0YXNoU2l6ZShub3JtYWxpemVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fZW5hYmxlU3Rhc2gpIHsgIC8vIGRpc2FibGUgc3Rhc2hcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFzaFVzZWQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBkaXNwYXRjaCBjaHVuayBkaXJlY3RseSB0byBjb25zdW1lcjtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayByZXQgdmFsdWUgKGNvbnN1bWVkIGJ5dGVzKSBhbmQgc3Rhc2ggdW5jb25zdW1lZCB0byBzdGFzaEJ1ZmZlclxuICAgICAgICAgICAgICAgIGxldCBjb25zdW1lZCA9IHRoaXMuX2Rpc3BhdGNoQ2h1bmtzKGNodW5rLCBieXRlU3RhcnQpO1xuICAgICAgICAgICAgICAgIGlmIChjb25zdW1lZCA8IGNodW5rLmJ5dGVMZW5ndGgpIHsgIC8vIHVuY29uc3VtZWQgZGF0YSByZW1haW4uXG4gICAgICAgICAgICAgICAgICAgIGxldCByZW1haW4gPSBjaHVuay5ieXRlTGVuZ3RoIC0gY29uc3VtZWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZW1haW4gPiB0aGlzLl9idWZmZXJTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9leHBhbmRCdWZmZXIocmVtYWluKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgc3Rhc2hBcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3N0YXNoQnVmZmVyLCAwLCB0aGlzLl9idWZmZXJTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgc3Rhc2hBcnJheS5zZXQobmV3IFVpbnQ4QXJyYXkoY2h1bmssIGNvbnN1bWVkKSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoVXNlZCArPSByZW1haW47XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0ID0gYnl0ZVN0YXJ0ICsgY29uc3VtZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBlbHNlOiBNZXJnZSBjaHVuayBpbnRvIHN0YXNoQnVmZmVyLCBhbmQgZGlzcGF0Y2ggc3Rhc2hCdWZmZXIgdG8gY29uc3VtZXIuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXNoVXNlZCArIGNodW5rLmJ5dGVMZW5ndGggPiB0aGlzLl9idWZmZXJTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V4cGFuZEJ1ZmZlcih0aGlzLl9zdGFzaFVzZWQgKyBjaHVuay5ieXRlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IHN0YXNoQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLl9zdGFzaEJ1ZmZlciwgMCwgdGhpcy5fYnVmZmVyU2l6ZSk7XG4gICAgICAgICAgICAgICAgc3Rhc2hBcnJheS5zZXQobmV3IFVpbnQ4QXJyYXkoY2h1bmspLCB0aGlzLl9zdGFzaFVzZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoVXNlZCArPSBjaHVuay5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgIGxldCBjb25zdW1lZCA9IHRoaXMuX2Rpc3BhdGNoQ2h1bmtzKHRoaXMuX3N0YXNoQnVmZmVyLnNsaWNlKDAsIHRoaXMuX3N0YXNoVXNlZCksIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0KTtcbiAgICAgICAgICAgICAgICBpZiAoY29uc3VtZWQgPCB0aGlzLl9zdGFzaFVzZWQgJiYgY29uc3VtZWQgPiAwKSB7ICAvLyB1bmNvbnN1bWVkIGRhdGEgcmVtYWluXG4gICAgICAgICAgICAgICAgICAgIGxldCByZW1haW5BcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3N0YXNoQnVmZmVyLCBjb25zdW1lZCk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXNoQXJyYXkuc2V0KHJlbWFpbkFycmF5LCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Rhc2hVc2VkIC09IGNvbnN1bWVkO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0ICs9IGNvbnN1bWVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgeyAgLy8gZW5hYmxlIHN0YXNoXG4gICAgICAgICAgICBpZiAodGhpcy5fc3Rhc2hVc2VkID09PSAwICYmIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0ID09PSAwKSB7ICAvLyBzZWVrZWQ/IG9yIGluaXQgY2h1bms/XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgZmlyc3QgY2h1bmsgYWZ0ZXIgc2VlayBhY3Rpb25cbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFzaEJ5dGVTdGFydCA9IGJ5dGVTdGFydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFzaFVzZWQgKyBjaHVuay5ieXRlTGVuZ3RoIDw9IHRoaXMuX3N0YXNoU2l6ZSkge1xuICAgICAgICAgICAgICAgIC8vIGp1c3Qgc3Rhc2hcbiAgICAgICAgICAgICAgICBsZXQgc3Rhc2hBcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3N0YXNoQnVmZmVyLCAwLCB0aGlzLl9zdGFzaFNpemUpO1xuICAgICAgICAgICAgICAgIHN0YXNoQXJyYXkuc2V0KG5ldyBVaW50OEFycmF5KGNodW5rKSwgdGhpcy5fc3Rhc2hVc2VkKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFzaFVzZWQgKz0gY2h1bmsuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgIH0gZWxzZSB7ICAvLyBzdGFzaFVzZWQgKyBjaHVua1NpemUgPiBzdGFzaFNpemUsIHNpemUgbGltaXQgZXhjZWVkZWRcbiAgICAgICAgICAgICAgICBsZXQgc3Rhc2hBcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3N0YXNoQnVmZmVyLCAwLCB0aGlzLl9idWZmZXJTaXplKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3Rhc2hVc2VkID4gMCkgeyAgLy8gVGhlcmUncmUgc3Rhc2ggZGF0YXMgaW4gYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc3BhdGNoIHRoZSB3aG9sZSBzdGFzaEJ1ZmZlciwgYW5kIHN0YXNoIHJlbWFpbiBkYXRhXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gYXBwZW5kIGNodW5rIHRvIHN0YXNoQnVmZmVyIChzdGFzaClcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJ1ZmZlciA9IHRoaXMuX3N0YXNoQnVmZmVyLnNsaWNlKDAsIHRoaXMuX3N0YXNoVXNlZCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb25zdW1lZCA9IHRoaXMuX2Rpc3BhdGNoQ2h1bmtzKGJ1ZmZlciwgdGhpcy5fc3Rhc2hCeXRlU3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29uc3VtZWQgPCBidWZmZXIuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnN1bWVkID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZW1haW5BcnJheSA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlciwgY29uc3VtZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXNoQXJyYXkuc2V0KHJlbWFpbkFycmF5LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFzaFVzZWQgPSByZW1haW5BcnJheS5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0ICs9IGNvbnN1bWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3Rhc2hVc2VkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0ICs9IGNvbnN1bWVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdGFzaFVzZWQgKyBjaHVuay5ieXRlTGVuZ3RoID4gdGhpcy5fYnVmZmVyU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXhwYW5kQnVmZmVyKHRoaXMuX3N0YXNoVXNlZCArIGNodW5rLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Rhc2hBcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3N0YXNoQnVmZmVyLCAwLCB0aGlzLl9idWZmZXJTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdGFzaEFycmF5LnNldChuZXcgVWludDhBcnJheShjaHVuayksIHRoaXMuX3N0YXNoVXNlZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoVXNlZCArPSBjaHVuay5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAvLyBzdGFzaCBidWZmZXIgZW1wdHksIGJ1dCBjaHVua1NpemUgPiBzdGFzaFNpemUgKG9oLCBob2x5IHNoaXQpXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc3BhdGNoIGNodW5rIGRpcmVjdGx5IGFuZCBzdGFzaCByZW1haW4gZGF0YVxuICAgICAgICAgICAgICAgICAgICBsZXQgY29uc3VtZWQgPSB0aGlzLl9kaXNwYXRjaENodW5rcyhjaHVuaywgYnl0ZVN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnN1bWVkIDwgY2h1bmsuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlbWFpbiA9IGNodW5rLmJ5dGVMZW5ndGggLSBjb25zdW1lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1haW4gPiB0aGlzLl9idWZmZXJTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXhwYW5kQnVmZmVyKHJlbWFpbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Rhc2hBcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3N0YXNoQnVmZmVyLCAwLCB0aGlzLl9idWZmZXJTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXNoQXJyYXkuc2V0KG5ldyBVaW50OEFycmF5KGNodW5rLCBjb25zdW1lZCksIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3Rhc2hVc2VkICs9IHJlbWFpbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0ID0gYnl0ZVN0YXJ0ICsgY29uc3VtZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZmx1c2hTdGFzaEJ1ZmZlcihkcm9wVW5jb25zdW1lZCkge1xuICAgICAgICBpZiAodGhpcy5fc3Rhc2hVc2VkID4gMCkge1xuICAgICAgICAgICAgbGV0IGJ1ZmZlciA9IHRoaXMuX3N0YXNoQnVmZmVyLnNsaWNlKDAsIHRoaXMuX3N0YXNoVXNlZCk7XG4gICAgICAgICAgICBsZXQgY29uc3VtZWQgPSB0aGlzLl9kaXNwYXRjaENodW5rcyhidWZmZXIsIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0KTtcbiAgICAgICAgICAgIGxldCByZW1haW4gPSBidWZmZXIuYnl0ZUxlbmd0aCAtIGNvbnN1bWVkO1xuXG4gICAgICAgICAgICBpZiAoY29uc3VtZWQgPCBidWZmZXIuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmIChkcm9wVW5jb25zdW1lZCkge1xuICAgICAgICAgICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgYCR7cmVtYWlufSBieXRlcyB1bmNvbnN1bWVkIGRhdGEgcmVtYWluIHdoZW4gZmx1c2ggYnVmZmVyLCBkcm9wcGVkYCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnN1bWVkID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXNoQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLl9zdGFzaEJ1ZmZlciwgMCwgdGhpcy5fYnVmZmVyU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVtYWluQXJyYXkgPSBuZXcgVWludDhBcnJheShidWZmZXIsIGNvbnN1bWVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXNoQXJyYXkuc2V0KHJlbWFpbkFycmF5LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoVXNlZCA9IHJlbWFpbkFycmF5LmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFzaEJ5dGVTdGFydCArPSBjb25zdW1lZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zdGFzaFVzZWQgPSAwO1xuICAgICAgICAgICAgdGhpcy5fc3Rhc2hCeXRlU3RhcnQgPSAwO1xuICAgICAgICAgICAgcmV0dXJuIHJlbWFpbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBfb25Mb2FkZXJDb21wbGV0ZShmcm9tLCB0bykge1xuICAgICAgICAvLyBGb3JjZS1mbHVzaCBzdGFzaCBidWZmZXIsIGFuZCBkcm9wIHVuY29uc3VtZWQgZGF0YVxuICAgICAgICB0aGlzLl9mbHVzaFN0YXNoQnVmZmVyKHRydWUpO1xuXG4gICAgICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkNvbXBsZXRlKHRoaXMuX2V4dHJhRGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25Mb2FkZXJFcnJvcih0eXBlLCBkYXRhKSB7XG4gICAgICAgIExvZy5lKHRoaXMuVEFHLCBgTG9hZGVyIGVycm9yLCBjb2RlID0gJHtkYXRhLmNvZGV9LCBtc2cgPSAke2RhdGEubXNnfWApO1xuXG4gICAgICAgIHRoaXMuX2ZsdXNoU3Rhc2hCdWZmZXIoZmFsc2UpO1xuXG4gICAgICAgIGlmICh0aGlzLl9pc0Vhcmx5RW9mUmVjb25uZWN0aW5nKSB7XG4gICAgICAgICAgICAvLyBBdXRvLXJlY29ubmVjdCBmb3IgRWFybHlFb2YgZmFpbGVkLCB0aHJvdyBVbnJlY292ZXJhYmxlRWFybHlFb2YgZXJyb3IgdG8gdXBwZXItbGF5ZXJcbiAgICAgICAgICAgIHRoaXMuX2lzRWFybHlFb2ZSZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHR5cGUgPSBMb2FkZXJFcnJvcnMuVU5SRUNPVkVSQUJMRV9FQVJMWV9FT0Y7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgTG9hZGVyRXJyb3JzLkVBUkxZX0VPRjoge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY29uZmlnLmlzTGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBEbyBpbnRlcm5hbCBodHRwIHJlY29ubmVjdCBpZiBub3QgbGl2ZSBzdHJlYW1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RvdGFsTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dEZyb20gPSB0aGlzLl9jdXJyZW50UmFuZ2UudG8gKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRGcm9tIDwgdGhpcy5fdG90YWxMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgJ0Nvbm5lY3Rpb24gbG9zdCwgdHJ5aW5nIHJlY29ubmVjdC4uLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzRWFybHlFb2ZSZWNvbm5lY3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ludGVybmFsU2VlayhuZXh0RnJvbSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGVsc2U6IFdlIGRvbid0IGtub3cgdG90YWxMZW5ndGgsIHRocm93IFVucmVjb3ZlcmFibGVFYXJseUVvZlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBsaXZlIHN0cmVhbTogdGhyb3cgVW5yZWNvdmVyYWJsZUVhcmx5RW9mIGVycm9yIHRvIHVwcGVyLWxheWVyXG4gICAgICAgICAgICAgICAgdHlwZSA9IExvYWRlckVycm9ycy5VTlJFQ09WRVJBQkxFX0VBUkxZX0VPRjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgTG9hZGVyRXJyb3JzLlVOUkVDT1ZFUkFCTEVfRUFSTFlfRU9GOlxuICAgICAgICAgICAgY2FzZSBMb2FkZXJFcnJvcnMuQ09OTkVDVElOR19USU1FT1VUOlxuICAgICAgICAgICAgY2FzZSBMb2FkZXJFcnJvcnMuSFRUUF9TVEFUVVNfQ09ERV9JTlZBTElEOlxuICAgICAgICAgICAgY2FzZSBMb2FkZXJFcnJvcnMuRVhDRVBUSU9OOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX29uRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IodHlwZSwgZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbignSU9FeGNlcHRpb246ICcgKyBkYXRhLm1zZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgSU9Db250cm9sbGVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge05vdEltcGxlbWVudGVkRXhjZXB0aW9ufSBmcm9tICcuLi91dGlscy9leGNlcHRpb24uanMnO1xuXG5leHBvcnQgY29uc3QgTG9hZGVyU3RhdHVzID0ge1xuICAgIGtJZGxlOiAwLFxuICAgIGtDb25uZWN0aW5nOiAxLFxuICAgIGtCdWZmZXJpbmc6IDIsXG4gICAga0Vycm9yOiAzLFxuICAgIGtDb21wbGV0ZTogNFxufTtcblxuZXhwb3J0IGNvbnN0IExvYWRlckVycm9ycyA9IHtcbiAgICBPSzogJ09LJyxcbiAgICBFWENFUFRJT046ICdFeGNlcHRpb24nLFxuICAgIEhUVFBfU1RBVFVTX0NPREVfSU5WQUxJRDogJ0h0dHBTdGF0dXNDb2RlSW52YWxpZCcsXG4gICAgQ09OTkVDVElOR19USU1FT1VUOiAnQ29ubmVjdGluZ1RpbWVvdXQnLFxuICAgIEVBUkxZX0VPRjogJ0Vhcmx5RW9mJyxcbiAgICBVTlJFQ09WRVJBQkxFX0VBUkxZX0VPRjogJ1VucmVjb3ZlcmFibGVFYXJseUVvZidcbn07XG5cbi8qIExvYWRlciBoYXMgY2FsbGJhY2tzIHdoaWNoIGhhdmUgZm9sbG93aW5nIHByb3RvdHlwZXM6XG4gKiAgICAgZnVuY3Rpb24gb25Db250ZW50TGVuZ3RoS25vd24oY29udGVudExlbmd0aDogbnVtYmVyKTogdm9pZFxuICogICAgIGZ1bmN0aW9uIG9uVVJMUmVkaXJlY3QodXJsOiBzdHJpbmcpOiB2b2lkXG4gKiAgICAgZnVuY3Rpb24gb25EYXRhQXJyaXZhbChjaHVuazogQXJyYXlCdWZmZXIsIGJ5dGVTdGFydDogbnVtYmVyLCByZWNlaXZlZExlbmd0aDogbnVtYmVyKTogdm9pZFxuICogICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyb3JUeXBlOiBudW1iZXIsIGVycm9ySW5mbzoge2NvZGU6IG51bWJlciwgbXNnOiBzdHJpbmd9KTogdm9pZFxuICogICAgIGZ1bmN0aW9uIG9uQ29tcGxldGUocmFuZ2VGcm9tOiBudW1iZXIsIHJhbmdlVG86IG51bWJlcik6IHZvaWRcbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VMb2FkZXIge1xuXG4gICAgY29uc3RydWN0b3IodHlwZU5hbWUpIHtcbiAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGVOYW1lIHx8ICd1bmRlZmluZWQnO1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0lkbGU7XG4gICAgICAgIHRoaXMuX25lZWRTdGFzaCA9IGZhbHNlO1xuICAgICAgICAvLyBjYWxsYmFja3NcbiAgICAgICAgdGhpcy5fb25Db250ZW50TGVuZ3RoS25vd24gPSBudWxsO1xuICAgICAgICB0aGlzLl9vblVSTFJlZGlyZWN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25EYXRhQXJyaXZhbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbkNvbXBsZXRlID0gbnVsbDtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0lkbGU7XG4gICAgICAgIHRoaXMuX29uQ29udGVudExlbmd0aEtub3duID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25VUkxSZWRpcmVjdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uRGF0YUFycml2YWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbkVycm9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25Db21wbGV0ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgaXNXb3JraW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdHVzID09PSBMb2FkZXJTdGF0dXMua0Nvbm5lY3RpbmcgfHwgdGhpcy5fc3RhdHVzID09PSBMb2FkZXJTdGF0dXMua0J1ZmZlcmluZztcbiAgICB9XG5cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3R5cGU7XG4gICAgfVxuXG4gICAgZ2V0IHN0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXR1cztcbiAgICB9XG5cbiAgICBnZXQgbmVlZFN0YXNoQnVmZmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmVlZFN0YXNoO1xuICAgIH1cblxuICAgIGdldCBvbkNvbnRlbnRMZW5ndGhLbm93bigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uQ29udGVudExlbmd0aEtub3duO1xuICAgIH1cblxuICAgIHNldCBvbkNvbnRlbnRMZW5ndGhLbm93bihjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbkNvbnRlbnRMZW5ndGhLbm93biA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGdldCBvblVSTFJlZGlyZWN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25VUkxSZWRpcmVjdDtcbiAgICB9XG5cbiAgICBzZXQgb25VUkxSZWRpcmVjdChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vblVSTFJlZGlyZWN0ID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgZ2V0IG9uRGF0YUFycml2YWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkRhdGFBcnJpdmFsO1xuICAgIH1cblxuICAgIHNldCBvbkRhdGFBcnJpdmFsKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uRGF0YUFycml2YWwgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBnZXQgb25FcnJvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uRXJyb3I7XG4gICAgfVxuXG4gICAgc2V0IG9uRXJyb3IoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25FcnJvciA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGdldCBvbkNvbXBsZXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25Db21wbGV0ZTtcbiAgICB9XG5cbiAgICBzZXQgb25Db21wbGV0ZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbkNvbXBsZXRlID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgLy8gcHVyZSB2aXJ0dWFsXG4gICAgb3BlbihkYXRhU291cmNlLCByYW5nZSkge1xuICAgICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFeGNlcHRpb24oJ1VuaW1wbGVtZW50ZWQgYWJzdHJhY3QgZnVuY3Rpb24hJyk7XG4gICAgfVxuXG4gICAgYWJvcnQoKSB7XG4gICAgICAgIHRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEV4Y2VwdGlvbignVW5pbXBsZW1lbnRlZCBhYnN0cmFjdCBmdW5jdGlvbiEnKTtcbiAgICB9XG5cblxufSIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jbGFzcyBQYXJhbVNlZWtIYW5kbGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmFtU3RhcnQsIHBhcmFtRW5kKSB7XG4gICAgICAgIHRoaXMuX3N0YXJ0TmFtZSA9IHBhcmFtU3RhcnQ7XG4gICAgICAgIHRoaXMuX2VuZE5hbWUgPSBwYXJhbUVuZDtcbiAgICB9XG5cbiAgICBnZXRDb25maWcoYmFzZVVybCwgcmFuZ2UpIHtcbiAgICAgICAgbGV0IHVybCA9IGJhc2VVcmw7XG5cbiAgICAgICAgaWYgKHJhbmdlLmZyb20gIT09IDAgfHwgcmFuZ2UudG8gIT09IC0xKSB7XG4gICAgICAgICAgICBsZXQgbmVlZEFuZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB1cmwgKz0gJz8nO1xuICAgICAgICAgICAgICAgIG5lZWRBbmQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5lZWRBbmQpIHtcbiAgICAgICAgICAgICAgICB1cmwgKz0gJyYnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1cmwgKz0gYCR7dGhpcy5fc3RhcnROYW1lfT0ke3JhbmdlLmZyb20udG9TdHJpbmcoKX1gO1xuXG4gICAgICAgICAgICBpZiAocmFuZ2UudG8gIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdXJsICs9IGAmJHt0aGlzLl9lbmROYW1lfT0ke3JhbmdlLnRvLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHt9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmVtb3ZlVVJMUGFyYW1ldGVycyhzZWVrZWRVUkwpIHtcbiAgICAgICAgbGV0IGJhc2VVUkwgPSBzZWVrZWRVUkwuc3BsaXQoJz8nKVswXTtcbiAgICAgICAgbGV0IHBhcmFtcyA9IHVuZGVmaW5lZDtcblxuICAgICAgICBsZXQgcXVlcnlJbmRleCA9IHNlZWtlZFVSTC5pbmRleE9mKCc/Jyk7XG4gICAgICAgIGlmIChxdWVyeUluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgcGFyYW1zID0gc2Vla2VkVVJMLnN1YnN0cmluZyhxdWVyeUluZGV4ICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVzdWx0UGFyYW1zID0gJyc7XG5cbiAgICAgICAgaWYgKHBhcmFtcyAhPSB1bmRlZmluZWQgJiYgcGFyYW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBwYWlycyA9IHBhcmFtcy5zcGxpdCgnJicpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBhaXIgPSBwYWlyc1tpXS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgICAgIGxldCByZXF1aXJlQW5kID0gKGkgPiAwKTtcblxuICAgICAgICAgICAgICAgIGlmIChwYWlyWzBdICE9PSB0aGlzLl9zdGFydE5hbWUgJiYgcGFpclswXSAhPT0gdGhpcy5fZW5kTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWlyZUFuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0UGFyYW1zICs9ICcmJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXN1bHRQYXJhbXMgKz0gcGFpcnNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChyZXN1bHRQYXJhbXMubGVuZ3RoID09PSAwKSA/IGJhc2VVUkwgOiBiYXNlVVJMICsgJz8nICsgcmVzdWx0UGFyYW1zO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBQYXJhbVNlZWtIYW5kbGVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jbGFzcyBSYW5nZVNlZWtIYW5kbGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKHplcm9TdGFydCkge1xuICAgICAgICB0aGlzLl96ZXJvU3RhcnQgPSB6ZXJvU3RhcnQgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0Q29uZmlnKHVybCwgcmFuZ2UpIHtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSB7fTtcblxuICAgICAgICBpZiAocmFuZ2UuZnJvbSAhPT0gMCB8fCByYW5nZS50byAhPT0gLTEpIHtcbiAgICAgICAgICAgIGxldCBwYXJhbTtcbiAgICAgICAgICAgIGlmIChyYW5nZS50byAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBwYXJhbSA9IGBieXRlcz0ke3JhbmdlLmZyb20udG9TdHJpbmcoKX0tJHtyYW5nZS50by50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmFtID0gYGJ5dGVzPSR7cmFuZ2UuZnJvbS50b1N0cmluZygpfS1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGVhZGVyc1snUmFuZ2UnXSA9IHBhcmFtO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3plcm9TdGFydCkge1xuICAgICAgICAgICAgaGVhZGVyc1snUmFuZ2UnXSA9ICdieXRlcz0wLSc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmVtb3ZlVVJMUGFyYW1ldGVycyhzZWVrZWRVUkwpIHtcbiAgICAgICAgcmV0dXJuIHNlZWtlZFVSTDtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmFuZ2VTZWVrSGFuZGxlcjsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLy8gVXRpbGl0eSBjbGFzcyB0byBjYWxjdWxhdGUgcmVhbHRpbWUgbmV0d29yayBJL08gc3BlZWRcbmNsYXNzIFNwZWVkU2FtcGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gbWlsbGlzZWNvbmRzXG4gICAgICAgIHRoaXMuX2ZpcnN0Q2hlY2twb2ludCA9IDA7XG4gICAgICAgIHRoaXMuX2xhc3RDaGVja3BvaW50ID0gMDtcbiAgICAgICAgdGhpcy5faW50ZXJ2YWxCeXRlcyA9IDA7XG4gICAgICAgIHRoaXMuX3RvdGFsQnl0ZXMgPSAwO1xuICAgICAgICB0aGlzLl9sYXN0U2Vjb25kQnl0ZXMgPSAwO1xuXG4gICAgICAgIC8vIGNvbXBhdGliaWxpdHkgZGV0ZWN0aW9uXG4gICAgICAgIGlmIChzZWxmLnBlcmZvcm1hbmNlICYmIHNlbGYucGVyZm9ybWFuY2Uubm93KSB7XG4gICAgICAgICAgICB0aGlzLl9ub3cgPSBzZWxmLnBlcmZvcm1hbmNlLm5vdy5iaW5kKHNlbGYucGVyZm9ybWFuY2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbm93ID0gRGF0ZS5ub3c7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5fZmlyc3RDaGVja3BvaW50ID0gdGhpcy5fbGFzdENoZWNrcG9pbnQgPSAwO1xuICAgICAgICB0aGlzLl90b3RhbEJ5dGVzID0gdGhpcy5faW50ZXJ2YWxCeXRlcyA9IDA7XG4gICAgICAgIHRoaXMuX2xhc3RTZWNvbmRCeXRlcyA9IDA7XG4gICAgfVxuXG4gICAgYWRkQnl0ZXMoYnl0ZXMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2ZpcnN0Q2hlY2twb2ludCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fZmlyc3RDaGVja3BvaW50ID0gdGhpcy5fbm93KCk7XG4gICAgICAgICAgICB0aGlzLl9sYXN0Q2hlY2twb2ludCA9IHRoaXMuX2ZpcnN0Q2hlY2twb2ludDtcbiAgICAgICAgICAgIHRoaXMuX2ludGVydmFsQnl0ZXMgKz0gYnl0ZXM7XG4gICAgICAgICAgICB0aGlzLl90b3RhbEJ5dGVzICs9IGJ5dGVzO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX25vdygpIC0gdGhpcy5fbGFzdENoZWNrcG9pbnQgPCAxMDAwKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbEJ5dGVzICs9IGJ5dGVzO1xuICAgICAgICAgICAgdGhpcy5fdG90YWxCeXRlcyArPSBieXRlcztcbiAgICAgICAgfSBlbHNlIHsgIC8vIGR1cmF0aW9uID49IDEwMDBcbiAgICAgICAgICAgIHRoaXMuX2xhc3RTZWNvbmRCeXRlcyA9IHRoaXMuX2ludGVydmFsQnl0ZXM7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbEJ5dGVzID0gYnl0ZXM7XG4gICAgICAgICAgICB0aGlzLl90b3RhbEJ5dGVzICs9IGJ5dGVzO1xuICAgICAgICAgICAgdGhpcy5fbGFzdENoZWNrcG9pbnQgPSB0aGlzLl9ub3coKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBjdXJyZW50S0JwcygpIHtcbiAgICAgICAgdGhpcy5hZGRCeXRlcygwKTtcblxuICAgICAgICBsZXQgZHVyYXRpb25TZWNvbmRzID0gKHRoaXMuX25vdygpIC0gdGhpcy5fbGFzdENoZWNrcG9pbnQpIC8gMTAwMDtcbiAgICAgICAgaWYgKGR1cmF0aW9uU2Vjb25kcyA9PSAwKSBkdXJhdGlvblNlY29uZHMgPSAxO1xuICAgICAgICByZXR1cm4gKHRoaXMuX2ludGVydmFsQnl0ZXMgLyBkdXJhdGlvblNlY29uZHMpIC8gMTAyNDtcbiAgICB9XG5cbiAgICBnZXQgbGFzdFNlY29uZEtCcHMoKSB7XG4gICAgICAgIHRoaXMuYWRkQnl0ZXMoMCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2xhc3RTZWNvbmRCeXRlcyAhPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xhc3RTZWNvbmRCeXRlcyAvIDEwMjQ7XG4gICAgICAgIH0gZWxzZSB7ICAvLyBsYXN0U2Vjb25kQnl0ZXMgPT09IDBcbiAgICAgICAgICAgIGlmICh0aGlzLl9ub3coKSAtIHRoaXMuX2xhc3RDaGVja3BvaW50ID49IDUwMCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRpbWUgaW50ZXJ2YWwgc2luY2UgbGFzdCBjaGVja3BvaW50IGhhcyBleGNlZWRlZCA1MDBtc1xuICAgICAgICAgICAgICAgIC8vIHRoZSBzcGVlZCBpcyBuZWFybHkgYWNjdXJhdGVcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50S0JwcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3Qga25vd1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGF2ZXJhZ2VLQnBzKCkge1xuICAgICAgICBsZXQgZHVyYXRpb25TZWNvbmRzID0gKHRoaXMuX25vdygpIC0gdGhpcy5fZmlyc3RDaGVja3BvaW50KSAvIDEwMDA7XG4gICAgICAgIHJldHVybiAodGhpcy5fdG90YWxCeXRlcyAvIGR1cmF0aW9uU2Vjb25kcykgLyAxMDI0O1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBTcGVlZFNhbXBsZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmltcG9ydCB7QmFzZUxvYWRlciwgTG9hZGVyU3RhdHVzLCBMb2FkZXJFcnJvcnN9IGZyb20gJy4vbG9hZGVyLmpzJztcbmltcG9ydCB7UnVudGltZUV4Y2VwdGlvbn0gZnJvbSAnLi4vdXRpbHMvZXhjZXB0aW9uLmpzJztcblxuLy8gRm9yIEZMViBvdmVyIFdlYlNvY2tldCBsaXZlIHN0cmVhbVxuY2xhc3MgV2ViU29ja2V0TG9hZGVyIGV4dGVuZHMgQmFzZUxvYWRlciB7XG5cbiAgICBzdGF0aWMgaXNTdXBwb3J0ZWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gKHR5cGVvZiBzZWxmLldlYlNvY2tldCAhPT0gJ3VuZGVmaW5lZCcpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ3dlYnNvY2tldC1sb2FkZXInKTtcbiAgICAgICAgdGhpcy5UQUcgPSAnV2ViU29ja2V0TG9hZGVyJztcblxuICAgICAgICB0aGlzLl9uZWVkU3Rhc2ggPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuX3dzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVxdWVzdEFib3J0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3JlY2VpdmVkTGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fd3MpIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgb3BlbihkYXRhU291cmNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgd3MgPSB0aGlzLl93cyA9IG5ldyBzZWxmLldlYlNvY2tldChkYXRhU291cmNlLnVybCk7XG4gICAgICAgICAgICB3cy5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICAgICAgICAgIHdzLm9ub3BlbiA9IHRoaXMuX29uV2ViU29ja2V0T3Blbi5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgd3Mub25jbG9zZSA9IHRoaXMuX29uV2ViU29ja2V0Q2xvc2UuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHdzLm9ubWVzc2FnZSA9IHRoaXMuX29uV2ViU29ja2V0TWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgd3Mub25lcnJvciA9IHRoaXMuX29uV2ViU29ja2V0RXJyb3IuYmluZCh0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtDb25uZWN0aW5nO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0Vycm9yO1xuXG4gICAgICAgICAgICBsZXQgaW5mbyA9IHtjb2RlOiBlLmNvZGUsIG1zZzogZS5tZXNzYWdlfTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX29uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKExvYWRlckVycm9ycy5FWENFUFRJT04sIGluZm8pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbihpbmZvLm1zZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgbGV0IHdzID0gdGhpcy5fd3M7XG4gICAgICAgIGlmICh3cyAmJiAod3MucmVhZHlTdGF0ZSA9PT0gMCB8fCB3cy5yZWFkeVN0YXRlID09PSAxKSkgeyAgLy8gQ09OTkVDVElORyB8fCBPUEVOXG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0QWJvcnQgPSB0cnVlO1xuICAgICAgICAgICAgd3MuY2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3dzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtDb21wbGV0ZTtcbiAgICB9XG5cbiAgICBfb25XZWJTb2NrZXRPcGVuKGUpIHtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtCdWZmZXJpbmc7XG4gICAgfVxuXG4gICAgX29uV2ViU29ja2V0Q2xvc2UoZSkge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdEFib3J0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0QWJvcnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQ29tcGxldGU7XG5cbiAgICAgICAgaWYgKHRoaXMuX29uQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ29tcGxldGUoMCwgdGhpcy5fcmVjZWl2ZWRMZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbldlYlNvY2tldE1lc3NhZ2UoZSkge1xuICAgICAgICBpZiAoZS5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoQXJyYXlCdWZmZXIoZS5kYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmIChlLmRhdGEgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hBcnJheUJ1ZmZlcihyZWFkZXIucmVzdWx0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZS5kYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rRXJyb3I7XG4gICAgICAgICAgICBsZXQgaW5mbyA9IHtjb2RlOiAtMSwgbXNnOiAnVW5zdXBwb3J0ZWQgV2ViU29ja2V0IG1lc3NhZ2UgdHlwZTogJyArIGUuZGF0YS5jb25zdHJ1Y3Rvci5uYW1lfTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX29uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKExvYWRlckVycm9ycy5FWENFUFRJT04sIGluZm8pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbihpbmZvLm1zZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZGlzcGF0Y2hBcnJheUJ1ZmZlcihhcnJheWJ1ZmZlcikge1xuICAgICAgICBsZXQgY2h1bmsgPSBhcnJheWJ1ZmZlcjtcbiAgICAgICAgbGV0IGJ5dGVTdGFydCA9IHRoaXMuX3JlY2VpdmVkTGVuZ3RoO1xuICAgICAgICB0aGlzLl9yZWNlaXZlZExlbmd0aCArPSBjaHVuay5ieXRlTGVuZ3RoO1xuXG4gICAgICAgIGlmICh0aGlzLl9vbkRhdGFBcnJpdmFsKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkRhdGFBcnJpdmFsKGNodW5rLCBieXRlU3RhcnQsIHRoaXMuX3JlY2VpdmVkTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbldlYlNvY2tldEVycm9yKGUpIHtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcblxuICAgICAgICBsZXQgaW5mbyA9IHtcbiAgICAgICAgICAgIGNvZGU6IGUuY29kZSxcbiAgICAgICAgICAgIG1zZzogZS5tZXNzYWdlXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRoaXMuX29uRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoTG9hZGVyRXJyb3JzLkVYQ0VQVElPTiwgaW5mbyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbihpbmZvLm1zZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgV2ViU29ja2V0TG9hZGVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgTG9nIGZyb20gJy4uL3V0aWxzL2xvZ2dlci5qcyc7XG5pbXBvcnQge0Jhc2VMb2FkZXIsIExvYWRlclN0YXR1cywgTG9hZGVyRXJyb3JzfSBmcm9tICcuL2xvYWRlci5qcyc7XG5pbXBvcnQge1J1bnRpbWVFeGNlcHRpb259IGZyb20gJy4uL3V0aWxzL2V4Y2VwdGlvbi5qcyc7XG5cbi8vIEZvciBGaXJlRm94IGJyb3dzZXIgd2hpY2ggc3VwcG9ydHMgYHhoci5yZXNwb25zZVR5cGUgPSAnbW96LWNodW5rZWQtYXJyYXlidWZmZXInYFxuY2xhc3MgTW96Q2h1bmtlZExvYWRlciBleHRlbmRzIEJhc2VMb2FkZXIge1xuXG4gICAgc3RhdGljIGlzU3VwcG9ydGVkKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgLy8gRmlyZWZveCAzNy0gcmVxdWlyZXMgLm9wZW4oKSB0byBiZSBjYWxsZWQgYmVmb3JlIHNldHRpbmcgcmVzcG9uc2VUeXBlXG4gICAgICAgICAgICB4aHIub3BlbignR0VUJywgJ2h0dHBzOi8vZXhhbXBsZS5jb20nLCB0cnVlKTtcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnbW96LWNodW5rZWQtYXJyYXlidWZmZXInO1xuICAgICAgICAgICAgcmV0dXJuICh4aHIucmVzcG9uc2VUeXBlID09PSAnbW96LWNodW5rZWQtYXJyYXlidWZmZXInKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgTG9nLncoJ01vekNodW5rZWRMb2FkZXInLCBlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3Ioc2Vla0hhbmRsZXIsIGNvbmZpZykge1xuICAgICAgICBzdXBlcigneGhyLW1vei1jaHVua2VkLWxvYWRlcicpO1xuICAgICAgICB0aGlzLlRBRyA9ICdNb3pDaHVua2VkTG9hZGVyJztcblxuICAgICAgICB0aGlzLl9zZWVrSGFuZGxlciA9IHNlZWtIYW5kbGVyO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuX25lZWRTdGFzaCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5feGhyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVxdWVzdEFib3J0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NvbnRlbnRMZW5ndGggPSBudWxsO1xuICAgICAgICB0aGlzLl9yZWNlaXZlZExlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNXb3JraW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5feGhyKSB7XG4gICAgICAgICAgICB0aGlzLl94aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbmxvYWRlbmQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgb3BlbihkYXRhU291cmNlLCByYW5nZSkge1xuICAgICAgICB0aGlzLl9kYXRhU291cmNlID0gZGF0YVNvdXJjZTtcbiAgICAgICAgdGhpcy5fcmFuZ2UgPSByYW5nZTtcblxuICAgICAgICBsZXQgc291cmNlVVJMID0gZGF0YVNvdXJjZS51cmw7XG4gICAgICAgIGlmICh0aGlzLl9jb25maWcucmV1c2VSZWRpcmVjdGVkVVJMICYmIGRhdGFTb3VyY2UucmVkaXJlY3RlZFVSTCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNvdXJjZVVSTCA9IGRhdGFTb3VyY2UucmVkaXJlY3RlZFVSTDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZWVrQ29uZmlnID0gdGhpcy5fc2Vla0hhbmRsZXIuZ2V0Q29uZmlnKHNvdXJjZVVSTCwgcmFuZ2UpO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0VVJMID0gc2Vla0NvbmZpZy51cmw7XG5cbiAgICAgICAgbGV0IHhociA9IHRoaXMuX3hociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4aHIub3BlbignR0VUJywgc2Vla0NvbmZpZy51cmwsIHRydWUpO1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ21vei1jaHVua2VkLWFycmF5YnVmZmVyJztcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHRoaXMuX29uUmVhZHlTdGF0ZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB4aHIub25wcm9ncmVzcyA9IHRoaXMuX29uUHJvZ3Jlc3MuYmluZCh0aGlzKTtcbiAgICAgICAgeGhyLm9ubG9hZGVuZCA9IHRoaXMuX29uTG9hZEVuZC5iaW5kKHRoaXMpO1xuICAgICAgICB4aHIub25lcnJvciA9IHRoaXMuX29uWGhyRXJyb3IuYmluZCh0aGlzKTtcblxuICAgICAgICAvLyBjb3JzIGlzIGF1dG8gZGV0ZWN0ZWQgYW5kIGVuYWJsZWQgYnkgeGhyXG5cbiAgICAgICAgLy8gd2l0aENyZWRlbnRpYWxzIGlzIGRpc2FibGVkIGJ5IGRlZmF1bHRcbiAgICAgICAgaWYgKGRhdGFTb3VyY2Uud2l0aENyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2Ygc2Vla0NvbmZpZy5oZWFkZXJzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbGV0IGhlYWRlcnMgPSBzZWVrQ29uZmlnLmhlYWRlcnM7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIGhlYWRlcnNba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtDb25uZWN0aW5nO1xuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH1cblxuICAgIGFib3J0KCkge1xuICAgICAgICB0aGlzLl9yZXF1ZXN0QWJvcnQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5feGhyKSB7XG4gICAgICAgICAgICB0aGlzLl94aHIuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0NvbXBsZXRlO1xuICAgIH1cblxuICAgIF9vblJlYWR5U3RhdGVDaGFuZ2UoZSkge1xuICAgICAgICBsZXQgeGhyID0gZS50YXJnZXQ7XG5cbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSAyKSB7ICAvLyBIRUFERVJTX1JFQ0VJVkVEXG4gICAgICAgICAgICBpZiAoeGhyLnJlc3BvbnNlVVJMICE9IHVuZGVmaW5lZCAmJiB4aHIucmVzcG9uc2VVUkwgIT09IHRoaXMuX3JlcXVlc3RVUkwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25VUkxSZWRpcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVkaXJlY3RlZFVSTCA9IHRoaXMuX3NlZWtIYW5kbGVyLnJlbW92ZVVSTFBhcmFtZXRlcnMoeGhyLnJlc3BvbnNlVVJMKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25VUkxSZWRpcmVjdChyZWRpcmVjdGVkVVJMKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzICE9PSAwICYmICh4aHIuc3RhdHVzIDwgMjAwIHx8IHhoci5zdGF0dXMgPiAyOTkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKExvYWRlckVycm9ycy5IVFRQX1NUQVRVU19DT0RFX0lOVkFMSUQsIHtjb2RlOiB4aHIuc3RhdHVzLCBtc2c6IHhoci5zdGF0dXNUZXh0fSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oJ01vekNodW5rZWRMb2FkZXI6IEh0dHAgY29kZSBpbnZhbGlkLCAnICsgeGhyLnN0YXR1cyArICcgJyArIHhoci5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQnVmZmVyaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uUHJvZ3Jlc3MoZSkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdHVzID09PSBMb2FkZXJTdGF0dXMua0Vycm9yKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgZXJyb3IgcmVzcG9uc2VcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50TGVuZ3RoID09PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoZS50b3RhbCAhPT0gbnVsbCAmJiBlLnRvdGFsICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29udGVudExlbmd0aCA9IGUudG90YWw7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX29uQ29udGVudExlbmd0aEtub3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uQ29udGVudExlbmd0aEtub3duKHRoaXMuX2NvbnRlbnRMZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjaHVuayA9IGUudGFyZ2V0LnJlc3BvbnNlO1xuICAgICAgICBsZXQgYnl0ZVN0YXJ0ID0gdGhpcy5fcmFuZ2UuZnJvbSArIHRoaXMuX3JlY2VpdmVkTGVuZ3RoO1xuICAgICAgICB0aGlzLl9yZWNlaXZlZExlbmd0aCArPSBjaHVuay5ieXRlTGVuZ3RoO1xuXG4gICAgICAgIGlmICh0aGlzLl9vbkRhdGFBcnJpdmFsKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkRhdGFBcnJpdmFsKGNodW5rLCBieXRlU3RhcnQsIHRoaXMuX3JlY2VpdmVkTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkxvYWRFbmQoZSkge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdEFib3J0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0QWJvcnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9zdGF0dXMgPT09IExvYWRlclN0YXR1cy5rRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQ29tcGxldGU7XG4gICAgICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkNvbXBsZXRlKHRoaXMuX3JhbmdlLmZyb20sIHRoaXMuX3JhbmdlLmZyb20gKyB0aGlzLl9yZWNlaXZlZExlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uWGhyRXJyb3IoZSkge1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0Vycm9yO1xuICAgICAgICBsZXQgdHlwZSA9IDA7XG4gICAgICAgIGxldCBpbmZvID0gbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5fY29udGVudExlbmd0aCAmJiBlLmxvYWRlZCA8IHRoaXMuX2NvbnRlbnRMZW5ndGgpIHtcbiAgICAgICAgICAgIHR5cGUgPSBMb2FkZXJFcnJvcnMuRUFSTFlfRU9GO1xuICAgICAgICAgICAgaW5mbyA9IHtjb2RlOiAtMSwgbXNnOiAnTW96LUNodW5rZWQgc3RyZWFtIG1lZXQgRWFybHktRW9mJ307XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0eXBlID0gTG9hZGVyRXJyb3JzLkVYQ0VQVElPTjtcbiAgICAgICAgICAgIGluZm8gPSB7Y29kZTogLTEsIG1zZzogZS5jb25zdHJ1Y3Rvci5uYW1lICsgJyAnICsgZS50eXBlfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKHR5cGUsIGluZm8pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oaW5mby5tc2cpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vekNodW5rZWRMb2FkZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmltcG9ydCB7QmFzZUxvYWRlciwgTG9hZGVyU3RhdHVzLCBMb2FkZXJFcnJvcnN9IGZyb20gJy4vbG9hZGVyLmpzJztcbmltcG9ydCB7UnVudGltZUV4Y2VwdGlvbn0gZnJvbSAnLi4vdXRpbHMvZXhjZXB0aW9uLmpzJztcblxuLyogTm90aWNlOiBtcy1zdHJlYW0gbWF5IGNhdXNlIElFL0VkZ2UgYnJvd3NlciBjcmFzaCBpZiBzZWVrIHRvbyBmcmVxdWVudGx5ISEhXG4gKiBUaGUgYnJvd3NlciBtYXkgY3Jhc2ggaW4gd2luaW5ldC5kbGwuIERpc2FibGUgZm9yIG5vdy5cbiAqXG4gKiBGb3IgSUUxMS9FZGdlIGJyb3dzZXIgYnkgbWljcm9zb2Z0IHdoaWNoIHN1cHBvcnRzIGB4aHIucmVzcG9uc2VUeXBlID0gJ21zLXN0cmVhbSdgXG4gKiBOb3RpY2UgdGhhdCBtcy1zdHJlYW0gQVBJIHN1Y2tzLiBUaGUgYnVmZmVyIGlzIGFsd2F5cyBleHBhbmRpbmcgYWxvbmcgd2l0aCBkb3dubG9hZGluZy5cbiAqXG4gKiBXZSBuZWVkIHRvIGFib3J0IHRoZSB4aHIgaWYgYnVmZmVyIHNpemUgZXhjZWVkZWQgbGltaXQgc2l6ZSAoZS5nLiAxNiBNaUIpLCB0aGVuIGRvIHJlY29ubmVjdC5cbiAqIGluIG9yZGVyIHRvIHJlbGVhc2UgcHJldmlvdXMgQXJyYXlCdWZmZXIgdG8gYXZvaWQgbWVtb3J5IGxlYWtcbiAqXG4gKiBPdGhlcndpc2UsIHRoZSBBcnJheUJ1ZmZlciB3aWxsIGluY3JlYXNlIHRvIGEgdGVycmlibGUgc2l6ZSB0aGF0IGVxdWFscyBmaW5hbCBmaWxlIHNpemUuXG4gKi9cbmNsYXNzIE1TU3RyZWFtTG9hZGVyIGV4dGVuZHMgQmFzZUxvYWRlciB7XG5cbiAgICBzdGF0aWMgaXNTdXBwb3J0ZWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNlbGYuTVNTdHJlYW0gPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBzZWxmLk1TU3RyZWFtUmVhZGVyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsICdodHRwczovL2V4YW1wbGUuY29tJywgdHJ1ZSk7XG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ21zLXN0cmVhbSc7XG4gICAgICAgICAgICByZXR1cm4gKHhoci5yZXNwb25zZVR5cGUgPT09ICdtcy1zdHJlYW0nKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgTG9nLncoJ01TU3RyZWFtTG9hZGVyJywgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHNlZWtIYW5kbGVyLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIoJ3hoci1tc3N0cmVhbS1sb2FkZXInKTtcbiAgICAgICAgdGhpcy5UQUcgPSAnTVNTdHJlYW1Mb2FkZXInO1xuXG4gICAgICAgIHRoaXMuX3NlZWtIYW5kbGVyID0gc2Vla0hhbmRsZXI7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fbmVlZFN0YXNoID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLl94aHIgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZWFkZXIgPSBudWxsOyAgLy8gTVNTdHJlYW1SZWFkZXJcblxuICAgICAgICB0aGlzLl90b3RhbFJhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY3VycmVudFJhbmdlID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9jdXJyZW50UmVxdWVzdFVSTCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRSZWRpcmVjdGVkVVJMID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9jb250ZW50TGVuZ3RoID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVjZWl2ZWRMZW5ndGggPSAwO1xuXG4gICAgICAgIHRoaXMuX2J1ZmZlckxpbWl0ID0gMTYgKiAxMDI0ICogMTAyNDsgIC8vIDE2TUJcbiAgICAgICAgdGhpcy5fbGFzdFRpbWVCdWZmZXJTaXplID0gMDtcbiAgICAgICAgdGhpcy5faXNSZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5pc1dvcmtpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9yZWFkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlYWRlci5vbnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3JlYWRlci5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fcmVhZGVyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fcmVhZGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5feGhyKSB7XG4gICAgICAgICAgICB0aGlzLl94aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hociA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIG9wZW4oZGF0YVNvdXJjZSwgcmFuZ2UpIHtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxPcGVuKGRhdGFTb3VyY2UsIHJhbmdlLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgX2ludGVybmFsT3BlbihkYXRhU291cmNlLCByYW5nZSwgaXNTdWJyYW5nZSkge1xuICAgICAgICB0aGlzLl9kYXRhU291cmNlID0gZGF0YVNvdXJjZTtcblxuICAgICAgICBpZiAoIWlzU3VicmFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3RvdGFsUmFuZ2UgPSByYW5nZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRSYW5nZSA9IHJhbmdlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNvdXJjZVVSTCA9IGRhdGFTb3VyY2UudXJsO1xuICAgICAgICBpZiAodGhpcy5fY29uZmlnLnJldXNlUmVkaXJlY3RlZFVSTCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRSZWRpcmVjdGVkVVJMICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZVVSTCA9IHRoaXMuX2N1cnJlbnRSZWRpcmVjdGVkVVJMO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhU291cmNlLnJlZGlyZWN0ZWRVUkwgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc291cmNlVVJMID0gZGF0YVNvdXJjZS5yZWRpcmVjdGVkVVJMO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNlZWtDb25maWcgPSB0aGlzLl9zZWVrSGFuZGxlci5nZXRDb25maWcoc291cmNlVVJMLCByYW5nZSk7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRSZXF1ZXN0VVJMID0gc2Vla0NvbmZpZy51cmw7XG5cbiAgICAgICAgbGV0IHJlYWRlciA9IHRoaXMuX3JlYWRlciA9IG5ldyBzZWxmLk1TU3RyZWFtUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbnByb2dyZXNzID0gdGhpcy5fbXNyT25Qcm9ncmVzcy5iaW5kKHRoaXMpO1xuICAgICAgICByZWFkZXIub25sb2FkID0gdGhpcy5fbXNyT25Mb2FkLmJpbmQodGhpcyk7XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gdGhpcy5fbXNyT25FcnJvci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIGxldCB4aHIgPSB0aGlzLl94aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHNlZWtDb25maWcudXJsLCB0cnVlKTtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdtcy1zdHJlYW0nO1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gdGhpcy5feGhyT25SZWFkeVN0YXRlQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHhoci5vbmVycm9yID0gdGhpcy5feGhyT25FcnJvci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIGlmIChkYXRhU291cmNlLndpdGhDcmVkZW50aWFscykge1xuICAgICAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHNlZWtDb25maWcuaGVhZGVycyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzID0gc2Vla0NvbmZpZy5oZWFkZXJzO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gaGVhZGVycykge1xuICAgICAgICAgICAgICAgIGlmIChoZWFkZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCBoZWFkZXJzW2tleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9pc1JlY29ubmVjdGluZykge1xuICAgICAgICAgICAgdGhpcy5faXNSZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQ29ubmVjdGluZztcbiAgICAgICAgfVxuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH1cblxuICAgIGFib3J0KCkge1xuICAgICAgICB0aGlzLl9pbnRlcm5hbEFib3J0KCk7XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQ29tcGxldGU7XG4gICAgfVxuXG4gICAgX2ludGVybmFsQWJvcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWFkZXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZWFkZXIucmVhZHlTdGF0ZSA9PT0gMSkgeyAgLy8gTE9BRElOR1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlYWRlci5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcmVhZGVyLm9ucHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fcmVhZGVyLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9yZWFkZXIub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9yZWFkZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl94aHIpIHtcbiAgICAgICAgICAgIHRoaXMuX3hoci5hYm9ydCgpO1xuICAgICAgICAgICAgdGhpcy5feGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl94aHIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3hock9uUmVhZHlTdGF0ZUNoYW5nZShlKSB7XG4gICAgICAgIGxldCB4aHIgPSBlLnRhcmdldDtcblxuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDIpIHsgIC8vIEhFQURFUlNfUkVDRUlWRURcbiAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDw9IDI5OSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQnVmZmVyaW5nO1xuXG4gICAgICAgICAgICAgICAgaWYgKHhoci5yZXNwb25zZVVSTCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlZGlyZWN0ZWRVUkwgPSB0aGlzLl9zZWVrSGFuZGxlci5yZW1vdmVVUkxQYXJhbWV0ZXJzKHhoci5yZXNwb25zZVVSTCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIucmVzcG9uc2VVUkwgIT09IHRoaXMuX2N1cnJlbnRSZXF1ZXN0VVJMICYmIHJlZGlyZWN0ZWRVUkwgIT09IHRoaXMuX2N1cnJlbnRSZWRpcmVjdGVkVVJMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50UmVkaXJlY3RlZFVSTCA9IHJlZGlyZWN0ZWRVUkw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25VUkxSZWRpcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uVVJMUmVkaXJlY3QocmVkaXJlY3RlZFVSTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgbGVuZ3RoSGVhZGVyID0geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdDb250ZW50LUxlbmd0aCcpO1xuICAgICAgICAgICAgICAgIGlmIChsZW5ndGhIZWFkZXIgIT0gbnVsbCAmJiB0aGlzLl9jb250ZW50TGVuZ3RoID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxlbmd0aCA9IHBhcnNlSW50KGxlbmd0aEhlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb250ZW50TGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX29uQ29udGVudExlbmd0aEtub3duKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25Db250ZW50TGVuZ3RoS25vd24odGhpcy5fY29udGVudExlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rRXJyb3I7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX29uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcihMb2FkZXJFcnJvcnMuSFRUUF9TVEFUVVNfQ09ERV9JTlZBTElELCB7Y29kZTogeGhyLnN0YXR1cywgbXNnOiB4aHIuc3RhdHVzVGV4dH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCdNU1N0cmVhbUxvYWRlcjogSHR0cCBjb2RlIGludmFsaWQsICcgKyB4aHIuc3RhdHVzICsgJyAnICsgeGhyLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gMykgeyAgLy8gTE9BRElOR1xuICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPD0gMjk5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtCdWZmZXJpbmc7XG5cbiAgICAgICAgICAgICAgICBsZXQgbXNzdHJlYW0gPSB4aHIucmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKG1zc3RyZWFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF94aHJPbkVycm9yKGUpIHtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcbiAgICAgICAgbGV0IHR5cGUgPSBMb2FkZXJFcnJvcnMuRVhDRVBUSU9OO1xuICAgICAgICBsZXQgaW5mbyA9IHtjb2RlOiAtMSwgbXNnOiBlLmNvbnN0cnVjdG9yLm5hbWUgKyAnICcgKyBlLnR5cGV9O1xuXG4gICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKHR5cGUsIGluZm8pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oaW5mby5tc2cpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX21zck9uUHJvZ3Jlc3MoZSkge1xuICAgICAgICBsZXQgcmVhZGVyID0gZS50YXJnZXQ7XG4gICAgICAgIGxldCBiaWdidWZmZXIgPSByZWFkZXIucmVzdWx0O1xuICAgICAgICBpZiAoYmlnYnVmZmVyID09IG51bGwpIHsgIC8vIHJlc3VsdCBtYXkgYmUgbnVsbCwgd29ya2Fyb3VuZCBmb3IgYnVnZ3kgTSRcbiAgICAgICAgICAgIHRoaXMuX2RvUmVjb25uZWN0SWZOZWVkZWQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzbGljZSA9IGJpZ2J1ZmZlci5zbGljZSh0aGlzLl9sYXN0VGltZUJ1ZmZlclNpemUpO1xuICAgICAgICB0aGlzLl9sYXN0VGltZUJ1ZmZlclNpemUgPSBiaWdidWZmZXIuYnl0ZUxlbmd0aDtcbiAgICAgICAgbGV0IGJ5dGVTdGFydCA9IHRoaXMuX3RvdGFsUmFuZ2UuZnJvbSArIHRoaXMuX3JlY2VpdmVkTGVuZ3RoO1xuICAgICAgICB0aGlzLl9yZWNlaXZlZExlbmd0aCArPSBzbGljZS5ieXRlTGVuZ3RoO1xuXG4gICAgICAgIGlmICh0aGlzLl9vbkRhdGFBcnJpdmFsKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkRhdGFBcnJpdmFsKHNsaWNlLCBieXRlU3RhcnQsIHRoaXMuX3JlY2VpdmVkTGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiaWdidWZmZXIuYnl0ZUxlbmd0aCA+PSB0aGlzLl9idWZmZXJMaW1pdCkge1xuICAgICAgICAgICAgTG9nLnYodGhpcy5UQUcsIGBNU1N0cmVhbSBidWZmZXIgZXhjZWVkZWQgbWF4IHNpemUgbmVhciAke2J5dGVTdGFydCArIHNsaWNlLmJ5dGVMZW5ndGh9LCByZWNvbm5lY3RpbmcuLi5gKTtcbiAgICAgICAgICAgIHRoaXMuX2RvUmVjb25uZWN0SWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9kb1JlY29ubmVjdElmTmVlZGVkKCkge1xuICAgICAgICBpZiAodGhpcy5fY29udGVudExlbmd0aCA9PSBudWxsIHx8IHRoaXMuX3JlY2VpdmVkTGVuZ3RoIDwgdGhpcy5fY29udGVudExlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5faXNSZWNvbm5lY3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fbGFzdFRpbWVCdWZmZXJTaXplID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2ludGVybmFsQWJvcnQoKTtcblxuICAgICAgICAgICAgbGV0IHJhbmdlID0ge1xuICAgICAgICAgICAgICAgIGZyb206IHRoaXMuX3RvdGFsUmFuZ2UuZnJvbSArIHRoaXMuX3JlY2VpdmVkTGVuZ3RoLFxuICAgICAgICAgICAgICAgIHRvOiAtMVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX2ludGVybmFsT3Blbih0aGlzLl9kYXRhU291cmNlLCByYW5nZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbXNyT25Mb2FkKGUpIHsgIC8vIGFjdHVhbGx5IGl0IGlzIG9uQ29tcGxldGUgZXZlbnRcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtDb21wbGV0ZTtcbiAgICAgICAgaWYgKHRoaXMuX29uQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ29tcGxldGUodGhpcy5fdG90YWxSYW5nZS5mcm9tLCB0aGlzLl90b3RhbFJhbmdlLmZyb20gKyB0aGlzLl9yZWNlaXZlZExlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX21zck9uRXJyb3IoZSkge1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0Vycm9yO1xuICAgICAgICBsZXQgdHlwZSA9IDA7XG4gICAgICAgIGxldCBpbmZvID0gbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5fY29udGVudExlbmd0aCAmJiB0aGlzLl9yZWNlaXZlZExlbmd0aCA8IHRoaXMuX2NvbnRlbnRMZW5ndGgpIHtcbiAgICAgICAgICAgIHR5cGUgPSBMb2FkZXJFcnJvcnMuRUFSTFlfRU9GO1xuICAgICAgICAgICAgaW5mbyA9IHtjb2RlOiAtMSwgbXNnOiAnTVNTdHJlYW0gbWVldCBFYXJseS1Fb2YnfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHR5cGUgPSBMb2FkZXJFcnJvcnMuRUFSTFlfRU9GO1xuICAgICAgICAgICAgaW5mbyA9IHtjb2RlOiAtMSwgbXNnOiBlLmNvbnN0cnVjdG9yLm5hbWUgKyAnICcgKyBlLnR5cGV9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX29uRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IodHlwZSwgaW5mbyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbihpbmZvLm1zZyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1TU3RyZWFtTG9hZGVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgTG9nIGZyb20gJy4uL3V0aWxzL2xvZ2dlci5qcyc7XG5pbXBvcnQgU3BlZWRTYW1wbGVyIGZyb20gJy4vc3BlZWQtc2FtcGxlci5qcyc7XG5pbXBvcnQge0Jhc2VMb2FkZXIsIExvYWRlclN0YXR1cywgTG9hZGVyRXJyb3JzfSBmcm9tICcuL2xvYWRlci5qcyc7XG5pbXBvcnQge1J1bnRpbWVFeGNlcHRpb259IGZyb20gJy4uL3V0aWxzL2V4Y2VwdGlvbi5qcyc7XG5cbi8vIFVuaXZlcnNhbCBJTyBMb2FkZXIsIGltcGxlbWVudGVkIGJ5IGFkZGluZyBSYW5nZSBoZWFkZXIgaW4geGhyJ3MgcmVxdWVzdCBoZWFkZXJcbmNsYXNzIFJhbmdlTG9hZGVyIGV4dGVuZHMgQmFzZUxvYWRlciB7XG5cbiAgICBzdGF0aWMgaXNTdXBwb3J0ZWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICB4aHIub3BlbignR0VUJywgJ2h0dHBzOi8vZXhhbXBsZS5jb20nLCB0cnVlKTtcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICAgICAgICAgICAgcmV0dXJuICh4aHIucmVzcG9uc2VUeXBlID09PSAnYXJyYXlidWZmZXInKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgTG9nLncoJ1JhbmdlTG9hZGVyJywgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHNlZWtIYW5kbGVyLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIoJ3hoci1yYW5nZS1sb2FkZXInKTtcbiAgICAgICAgdGhpcy5UQUcgPSAnUmFuZ2VMb2FkZXInO1xuXG4gICAgICAgIHRoaXMuX3NlZWtIYW5kbGVyID0gc2Vla0hhbmRsZXI7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fbmVlZFN0YXNoID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fY2h1bmtTaXplS0JMaXN0ID0gW1xuICAgICAgICAgICAgMTI4LCAyNTYsIDM4NCwgNTEyLCA3NjgsIDEwMjQsIDE1MzYsIDIwNDgsIDMwNzIsIDQwOTYsIDUxMjAsIDYxNDQsIDcxNjgsIDgxOTJcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5fY3VycmVudENodW5rU2l6ZUtCID0gMzg0O1xuICAgICAgICB0aGlzLl9jdXJyZW50U3BlZWROb3JtYWxpemVkID0gMDtcbiAgICAgICAgdGhpcy5femVyb1NwZWVkQ2h1bmtDb3VudCA9IDA7XG5cbiAgICAgICAgdGhpcy5feGhyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3BlZWRTYW1wbGVyID0gbmV3IFNwZWVkU2FtcGxlcigpO1xuXG4gICAgICAgIHRoaXMuX3JlcXVlc3RBYm9ydCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl93YWl0Rm9yVG90YWxMZW5ndGggPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdG90YWxMZW5ndGhSZWNlaXZlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRSZXF1ZXN0VVJMID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY3VycmVudFJlZGlyZWN0ZWRVUkwgPSBudWxsO1xuICAgICAgICB0aGlzLl9jdXJyZW50UmVxdWVzdFJhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdG90YWxMZW5ndGggPSBudWxsOyAgLy8gc2l6ZSBvZiB0aGUgZW50aXJlIGZpbGVcbiAgICAgICAgdGhpcy5fY29udGVudExlbmd0aCA9IG51bGw7ICAvLyBDb250ZW50LUxlbmd0aCBvZiBlbnRpcmUgcmVxdWVzdCByYW5nZVxuICAgICAgICB0aGlzLl9yZWNlaXZlZExlbmd0aCA9IDA7ICAvLyB0b3RhbCByZWNlaXZlZCBieXRlc1xuICAgICAgICB0aGlzLl9sYXN0VGltZUxvYWRlZCA9IDA7ICAvLyByZWNlaXZlZCBieXRlcyBvZiBjdXJyZW50IHJlcXVlc3Qgc3ViLXJhbmdlXG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNXb3JraW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5feGhyKSB7XG4gICAgICAgICAgICB0aGlzLl94aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRTcGVlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWVkU2FtcGxlci5sYXN0U2Vjb25kS0JwcztcbiAgICB9XG5cbiAgICBvcGVuKGRhdGFTb3VyY2UsIHJhbmdlKSB7XG4gICAgICAgIHRoaXMuX2RhdGFTb3VyY2UgPSBkYXRhU291cmNlO1xuICAgICAgICB0aGlzLl9yYW5nZSA9IHJhbmdlO1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0Nvbm5lY3Rpbmc7XG5cbiAgICAgICAgbGV0IHVzZVJlZlRvdGFsTGVuZ3RoID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl9kYXRhU291cmNlLmZpbGVzaXplICE9IHVuZGVmaW5lZCAmJiB0aGlzLl9kYXRhU291cmNlLmZpbGVzaXplICE9PSAwKSB7XG4gICAgICAgICAgICB1c2VSZWZUb3RhbExlbmd0aCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl90b3RhbExlbmd0aCA9IHRoaXMuX2RhdGFTb3VyY2UuZmlsZXNpemU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX3RvdGFsTGVuZ3RoUmVjZWl2ZWQgJiYgIXVzZVJlZlRvdGFsTGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvdGFsIGZpbGVzaXplXG4gICAgICAgICAgICB0aGlzLl93YWl0Rm9yVG90YWxMZW5ndGggPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxPcGVuKHRoaXMuX2RhdGFTb3VyY2UsIHtmcm9tOiAwLCB0bzogLTF9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdlIGhhdmUgZmlsZXNpemUsIHN0YXJ0IGxvYWRpbmdcbiAgICAgICAgICAgIHRoaXMuX29wZW5TdWJSYW5nZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29wZW5TdWJSYW5nZSgpIHtcbiAgICAgICAgbGV0IGNodW5rU2l6ZSA9IHRoaXMuX2N1cnJlbnRDaHVua1NpemVLQiAqIDEwMjQ7XG5cbiAgICAgICAgbGV0IGZyb20gPSB0aGlzLl9yYW5nZS5mcm9tICsgdGhpcy5fcmVjZWl2ZWRMZW5ndGg7XG4gICAgICAgIGxldCB0byA9IGZyb20gKyBjaHVua1NpemU7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnRMZW5ndGggIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRvIC0gdGhpcy5fcmFuZ2UuZnJvbSA+PSB0aGlzLl9jb250ZW50TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdG8gPSB0aGlzLl9yYW5nZS5mcm9tICsgdGhpcy5fY29udGVudExlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jdXJyZW50UmVxdWVzdFJhbmdlID0ge2Zyb20sIHRvfTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxPcGVuKHRoaXMuX2RhdGFTb3VyY2UsIHRoaXMuX2N1cnJlbnRSZXF1ZXN0UmFuZ2UpO1xuICAgIH1cblxuICAgIF9pbnRlcm5hbE9wZW4oZGF0YVNvdXJjZSwgcmFuZ2UpIHtcbiAgICAgICAgdGhpcy5fbGFzdFRpbWVMb2FkZWQgPSAwO1xuXG4gICAgICAgIGxldCBzb3VyY2VVUkwgPSBkYXRhU291cmNlLnVybDtcbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5yZXVzZVJlZGlyZWN0ZWRVUkwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50UmVkaXJlY3RlZFVSTCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VVUkwgPSB0aGlzLl9jdXJyZW50UmVkaXJlY3RlZFVSTDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YVNvdXJjZS5yZWRpcmVjdGVkVVJMICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZVVSTCA9IGRhdGFTb3VyY2UucmVkaXJlY3RlZFVSTDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZWVrQ29uZmlnID0gdGhpcy5fc2Vla0hhbmRsZXIuZ2V0Q29uZmlnKHNvdXJjZVVSTCwgcmFuZ2UpO1xuICAgICAgICB0aGlzLl9jdXJyZW50UmVxdWVzdFVSTCA9IHNlZWtDb25maWcudXJsO1xuXG4gICAgICAgIGxldCB4aHIgPSB0aGlzLl94aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHNlZWtDb25maWcudXJsLCB0cnVlKTtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSB0aGlzLl9vblJlYWR5U3RhdGVDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgeGhyLm9ucHJvZ3Jlc3MgPSB0aGlzLl9vblByb2dyZXNzLmJpbmQodGhpcyk7XG4gICAgICAgIHhoci5vbmxvYWQgPSB0aGlzLl9vbkxvYWQuYmluZCh0aGlzKTtcbiAgICAgICAgeGhyLm9uZXJyb3IgPSB0aGlzLl9vblhockVycm9yLmJpbmQodGhpcyk7XG5cbiAgICAgICAgaWYgKGRhdGFTb3VyY2Uud2l0aENyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2Ygc2Vla0NvbmZpZy5oZWFkZXJzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbGV0IGhlYWRlcnMgPSBzZWVrQ29uZmlnLmhlYWRlcnM7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIGhlYWRlcnNba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICB9XG5cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgdGhpcy5fcmVxdWVzdEFib3J0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxBYm9ydCgpO1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0NvbXBsZXRlO1xuICAgIH1cblxuICAgIF9pbnRlcm5hbEFib3J0KCkge1xuICAgICAgICBpZiAodGhpcy5feGhyKSB7XG4gICAgICAgICAgICB0aGlzLl94aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyLmFib3J0KCk7XG4gICAgICAgICAgICB0aGlzLl94aHIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uUmVhZHlTdGF0ZUNoYW5nZShlKSB7XG4gICAgICAgIGxldCB4aHIgPSBlLnRhcmdldDtcblxuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDIpIHsgIC8vIEhFQURFUlNfUkVDRUlWRURcbiAgICAgICAgICAgIGlmICh4aHIucmVzcG9uc2VVUkwgIT0gdW5kZWZpbmVkKSB7ICAvLyBpZiB0aGUgYnJvd3NlciBzdXBwb3J0IHRoaXMgcHJvcGVydHlcbiAgICAgICAgICAgICAgICBsZXQgcmVkaXJlY3RlZFVSTCA9IHRoaXMuX3NlZWtIYW5kbGVyLnJlbW92ZVVSTFBhcmFtZXRlcnMoeGhyLnJlc3BvbnNlVVJMKTtcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnJlc3BvbnNlVVJMICE9PSB0aGlzLl9jdXJyZW50UmVxdWVzdFVSTCAmJiByZWRpcmVjdGVkVVJMICE9PSB0aGlzLl9jdXJyZW50UmVkaXJlY3RlZFVSTCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50UmVkaXJlY3RlZFVSTCA9IHJlZGlyZWN0ZWRVUkw7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vblVSTFJlZGlyZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vblVSTFJlZGlyZWN0KHJlZGlyZWN0ZWRVUkwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPD0gMjk5KSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl93YWl0Rm9yVG90YWxMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0J1ZmZlcmluZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKExvYWRlckVycm9ycy5IVFRQX1NUQVRVU19DT0RFX0lOVkFMSUQsIHtjb2RlOiB4aHIuc3RhdHVzLCBtc2c6IHhoci5zdGF0dXNUZXh0fSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oJ1JhbmdlTG9hZGVyOiBIdHRwIGNvZGUgaW52YWxpZCwgJyArIHhoci5zdGF0dXMgKyAnICcgKyB4aHIuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uUHJvZ3Jlc3MoZSkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdHVzID09PSBMb2FkZXJTdGF0dXMua0Vycm9yKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgZXJyb3IgcmVzcG9uc2VcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50TGVuZ3RoID09PSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgb3Blbk5leHRSYW5nZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fd2FpdEZvclRvdGFsTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2FpdEZvclRvdGFsTGVuZ3RoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fdG90YWxMZW5ndGhSZWNlaXZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgb3Blbk5leHRSYW5nZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBsZXQgdG90YWwgPSBlLnRvdGFsO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludGVybmFsQWJvcnQoKTtcbiAgICAgICAgICAgICAgICBpZiAodG90YWwgIT0gbnVsbCAmIHRvdGFsICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RvdGFsTGVuZ3RoID0gdG90YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgY3VycnJlbnQgcmVxdWVzdCByYW5nZSdzIGNvbnRlbnRMZW5ndGhcbiAgICAgICAgICAgIGlmICh0aGlzLl9yYW5nZS50byA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb250ZW50TGVuZ3RoID0gdGhpcy5fdG90YWxMZW5ndGggLSB0aGlzLl9yYW5nZS5mcm9tO1xuICAgICAgICAgICAgfSBlbHNlIHsgIC8vIHRvICE9PSAtMVxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRlbnRMZW5ndGggPSB0aGlzLl9yYW5nZS50byAtIHRoaXMuX3JhbmdlLmZyb20gKyAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3Blbk5leHRSYW5nZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29wZW5TdWJSYW5nZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9vbkNvbnRlbnRMZW5ndGhLbm93bikge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uQ29udGVudExlbmd0aEtub3duKHRoaXMuX2NvbnRlbnRMZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRlbHRhID0gZS5sb2FkZWQgLSB0aGlzLl9sYXN0VGltZUxvYWRlZDtcbiAgICAgICAgdGhpcy5fbGFzdFRpbWVMb2FkZWQgPSBlLmxvYWRlZDtcbiAgICAgICAgdGhpcy5fc3BlZWRTYW1wbGVyLmFkZEJ5dGVzKGRlbHRhKTtcbiAgICB9XG5cbiAgICBfbm9ybWFsaXplU3BlZWQoaW5wdXQpIHtcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLl9jaHVua1NpemVLQkxpc3Q7XG4gICAgICAgIGxldCBsYXN0ID0gbGlzdC5sZW5ndGggLSAxO1xuICAgICAgICBsZXQgbWlkID0gMDtcbiAgICAgICAgbGV0IGxib3VuZCA9IDA7XG4gICAgICAgIGxldCB1Ym91bmQgPSBsYXN0O1xuXG4gICAgICAgIGlmIChpbnB1dCA8IGxpc3RbMF0pIHtcbiAgICAgICAgICAgIHJldHVybiBsaXN0WzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKGxib3VuZCA8PSB1Ym91bmQpIHtcbiAgICAgICAgICAgIG1pZCA9IGxib3VuZCArIE1hdGguZmxvb3IoKHVib3VuZCAtIGxib3VuZCkgLyAyKTtcbiAgICAgICAgICAgIGlmIChtaWQgPT09IGxhc3QgfHwgKGlucHV0ID49IGxpc3RbbWlkXSAmJiBpbnB1dCA8IGxpc3RbbWlkICsgMV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RbbWlkXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlzdFttaWRdIDwgaW5wdXQpIHtcbiAgICAgICAgICAgICAgICBsYm91bmQgPSBtaWQgKyAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1Ym91bmQgPSBtaWQgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uTG9hZChlKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0dXMgPT09IExvYWRlclN0YXR1cy5rRXJyb3IpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBlcnJvciByZXNwb25zZVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3dhaXRGb3JUb3RhbExlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fd2FpdEZvclRvdGFsTGVuZ3RoID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sYXN0VGltZUxvYWRlZCA9IDA7XG4gICAgICAgIGxldCBLQnBzID0gdGhpcy5fc3BlZWRTYW1wbGVyLmxhc3RTZWNvbmRLQnBzO1xuICAgICAgICBpZiAoS0JwcyA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5femVyb1NwZWVkQ2h1bmtDb3VudCsrO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3plcm9TcGVlZENodW5rQ291bnQgPj0gMykge1xuICAgICAgICAgICAgICAgIC8vIFRyeSBnZXQgY3VycmVudEtCcHMgYWZ0ZXIgMyBjaHVua3NcbiAgICAgICAgICAgICAgICBLQnBzID0gdGhpcy5fc3BlZWRTYW1wbGVyLmN1cnJlbnRLQnBzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEtCcHMgIT09IDApIHtcbiAgICAgICAgICAgIGxldCBub3JtYWxpemVkID0gdGhpcy5fbm9ybWFsaXplU3BlZWQoS0Jwcyk7XG4gICAgICAgICAgICBpZiAodGhpcy5fY3VycmVudFNwZWVkTm9ybWFsaXplZCAhPT0gbm9ybWFsaXplZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRTcGVlZE5vcm1hbGl6ZWQgPSBub3JtYWxpemVkO1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRDaHVua1NpemVLQiA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY2h1bmsgPSBlLnRhcmdldC5yZXNwb25zZTtcbiAgICAgICAgbGV0IGJ5dGVTdGFydCA9IHRoaXMuX3JhbmdlLmZyb20gKyB0aGlzLl9yZWNlaXZlZExlbmd0aDtcbiAgICAgICAgdGhpcy5fcmVjZWl2ZWRMZW5ndGggKz0gY2h1bmsuYnl0ZUxlbmd0aDtcblxuICAgICAgICBsZXQgcmVwb3J0Q29tcGxldGUgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5fY29udGVudExlbmd0aCAhPSBudWxsICYmIHRoaXMuX3JlY2VpdmVkTGVuZ3RoIDwgdGhpcy5fY29udGVudExlbmd0aCkge1xuICAgICAgICAgICAgLy8gY29udGludWUgbG9hZCBuZXh0IGNodW5rXG4gICAgICAgICAgICB0aGlzLl9vcGVuU3ViUmFuZ2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcG9ydENvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRpc3BhdGNoIHJlY2VpdmVkIGNodW5rXG4gICAgICAgIGlmICh0aGlzLl9vbkRhdGFBcnJpdmFsKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkRhdGFBcnJpdmFsKGNodW5rLCBieXRlU3RhcnQsIHRoaXMuX3JlY2VpdmVkTGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXBvcnRDb21wbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtDb21wbGV0ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25Db21wbGV0ZSh0aGlzLl9yYW5nZS5mcm9tLCB0aGlzLl9yYW5nZS5mcm9tICsgdGhpcy5fcmVjZWl2ZWRMZW5ndGggLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vblhockVycm9yKGUpIHtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcbiAgICAgICAgbGV0IHR5cGUgPSAwO1xuICAgICAgICBsZXQgaW5mbyA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnRMZW5ndGggJiYgdGhpcy5fcmVjZWl2ZWRMZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHRoaXMuX3JlY2VpdmVkTGVuZ3RoIDwgdGhpcy5fY29udGVudExlbmd0aCkge1xuICAgICAgICAgICAgdHlwZSA9IExvYWRlckVycm9ycy5FQVJMWV9FT0Y7XG4gICAgICAgICAgICBpbmZvID0ge2NvZGU6IC0xLCBtc2c6ICdSYW5nZUxvYWRlciBtZWV0IEVhcmx5LUVvZid9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHlwZSA9IExvYWRlckVycm9ycy5FWENFUFRJT047XG4gICAgICAgICAgICBpbmZvID0ge2NvZGU6IC0xLCBtc2c6IGUuY29uc3RydWN0b3IubmFtZSArICcgJyArIGUudHlwZX07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcih0eXBlLCBpbmZvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKGluZm8ubXNnKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBSYW5nZUxvYWRlcjsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudHMnO1xuaW1wb3J0IExvZyBmcm9tICcuLi91dGlscy9sb2dnZXIuanMnO1xuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vdXRpbHMvYnJvd3Nlci5qcyc7XG5pbXBvcnQgUGxheWVyRXZlbnRzIGZyb20gJy4vcGxheWVyLWV2ZW50cy5qcyc7XG5pbXBvcnQgVHJhbnNtdXhlciBmcm9tICcuLi9jb3JlL3RyYW5zbXV4ZXIuanMnO1xuaW1wb3J0IFRyYW5zbXV4aW5nRXZlbnRzIGZyb20gJy4uL2NvcmUvdHJhbnNtdXhpbmctZXZlbnRzLmpzJztcbmltcG9ydCBNU0VDb250cm9sbGVyIGZyb20gJy4uL2NvcmUvbXNlLWNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IE1TRUV2ZW50cyBmcm9tICcuLi9jb3JlL21zZS1ldmVudHMuanMnO1xuaW1wb3J0IHtFcnJvclR5cGVzLCBFcnJvckRldGFpbHN9IGZyb20gJy4vcGxheWVyLWVycm9ycy5qcyc7XG5pbXBvcnQge2NyZWF0ZURlZmF1bHRDb25maWd9IGZyb20gJy4uL2NvbmZpZy5qcyc7XG5pbXBvcnQge0ludmFsaWRBcmd1bWVudEV4Y2VwdGlvbiwgSWxsZWdhbFN0YXRlRXhjZXB0aW9ufSBmcm9tICcuLi91dGlscy9leGNlcHRpb24uanMnO1xuXG5jbGFzcyBGbHZQbGF5ZXIge1xuXG4gICAgY29uc3RydWN0b3IobWVkaWFEYXRhU291cmNlLCBjb25maWcpIHtcbiAgICAgICAgdGhpcy5UQUcgPSAnRmx2UGxheWVyJztcbiAgICAgICAgdGhpcy5fdHlwZSA9ICdGbHZQbGF5ZXInO1xuICAgICAgICB0aGlzLl9lbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNyZWF0ZURlZmF1bHRDb25maWcoKTtcbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX2NvbmZpZywgY29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtZWRpYURhdGFTb3VyY2UudHlwZS50b0xvd2VyQ2FzZSgpICE9PSAnZmx2Jykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignRmx2UGxheWVyIHJlcXVpcmVzIGFuIGZsdiBNZWRpYURhdGFTb3VyY2UgaW5wdXQhJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWVkaWFEYXRhU291cmNlLmlzTGl2ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5fY29uZmlnLmlzTGl2ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmUgPSB7XG4gICAgICAgICAgICBvbnZMb2FkZWRNZXRhZGF0YTogdGhpcy5fb252TG9hZGVkTWV0YWRhdGEuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG9udlNlZWtpbmc6IHRoaXMuX29udlNlZWtpbmcuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG9udkNhblBsYXk6IHRoaXMuX29udkNhblBsYXkuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG9udlN0YWxsZWQ6IHRoaXMuX29udlN0YWxsZWQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG9udlByb2dyZXNzOiB0aGlzLl9vbnZQcm9ncmVzcy5iaW5kKHRoaXMpXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHNlbGYucGVyZm9ybWFuY2UgJiYgc2VsZi5wZXJmb3JtYW5jZS5ub3cpIHtcbiAgICAgICAgICAgIHRoaXMuX25vdyA9IHNlbGYucGVyZm9ybWFuY2Uubm93LmJpbmQoc2VsZi5wZXJmb3JtYW5jZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9ub3cgPSBEYXRlLm5vdztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3BlbmRpbmdTZWVrVGltZSA9IG51bGw7ICAvLyBpbiBzZWNvbmRzXG4gICAgICAgIHRoaXMuX3JlcXVlc3RTZXRUaW1lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3NlZWtwb2ludFJlY29yZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3Byb2dyZXNzQ2hlY2tlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fbWVkaWFEYXRhU291cmNlID0gbWVkaWFEYXRhU291cmNlO1xuICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9tc2VjdGwgPSBudWxsO1xuICAgICAgICB0aGlzLl90cmFuc211eGVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9tc2VTb3VyY2VPcGVuZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faGFzUGVuZGluZ0xvYWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcmVjZWl2ZWRDYW5QbGF5ID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3RhdGlzdGljc0luZm8gPSBudWxsO1xuXG4gICAgICAgIGxldCBjaHJvbWVOZWVkSURSRml4ID0gKEJyb3dzZXIuY2hyb21lICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKEJyb3dzZXIudmVyc2lvbi5tYWpvciA8IDUwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKEJyb3dzZXIudmVyc2lvbi5tYWpvciA9PT0gNTAgJiYgQnJvd3Nlci52ZXJzaW9uLmJ1aWxkIDwgMjY2MSkpKTtcbiAgICAgICAgdGhpcy5fYWx3YXlzU2Vla0tleWZyYW1lID0gKGNocm9tZU5lZWRJRFJGaXggfHwgQnJvd3Nlci5tc2VkZ2UgfHwgQnJvd3Nlci5tc2llKSA/IHRydWUgOiBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5fYWx3YXlzU2Vla0tleWZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLl9jb25maWcuYWNjdXJhdGVTZWVrID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fcHJvZ3Jlc3NDaGVja2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3Byb2dyZXNzQ2hlY2tlcik7XG4gICAgICAgICAgICB0aGlzLl9wcm9ncmVzc0NoZWNrZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl90cmFuc211eGVyKSB7XG4gICAgICAgICAgICB0aGlzLnVubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoTWVkaWFFbGVtZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbWVkaWFEYXRhU291cmNlID0gbnVsbDtcblxuICAgICAgICBpZih0aGlzLl9lbWl0dGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIgPSBudWxsO1xuICAgIH1cblxuICAgIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoZXZlbnQgPT09IFBsYXllckV2ZW50cy5NRURJQV9JTkZPKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWVkaWFJbmZvICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5NRURJQV9JTkZPLCB0aGlzLm1lZGlhSW5mbyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09IFBsYXllckV2ZW50cy5TVEFUSVNUSUNTX0lORk8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGF0aXN0aWNzSW5mbyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuU1RBVElTVElDU19JTkZPLCB0aGlzLnN0YXRpc3RpY3NJbmZvKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbWl0dGVyLmFkZExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgYXR0YWNoTWVkaWFFbGVtZW50KG1lZGlhRWxlbWVudCkge1xuICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQgPSBtZWRpYUVsZW1lbnQ7XG4gICAgICAgIG1lZGlhRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIHRoaXMuZS5vbnZMb2FkZWRNZXRhZGF0YSk7XG4gICAgICAgIG1lZGlhRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzZWVraW5nJywgdGhpcy5lLm9udlNlZWtpbmcpO1xuICAgICAgICBtZWRpYUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMuZS5vbnZDYW5QbGF5KTtcbiAgICAgICAgbWVkaWFFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N0YWxsZWQnLCB0aGlzLmUub252U3RhbGxlZCk7XG4gICAgICAgIG1lZGlhRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuZS5vbnZQcm9ncmVzcyk7XG5cbiAgICAgICAgdGhpcy5fbXNlY3RsID0gbmV3IE1TRUNvbnRyb2xsZXIodGhpcy5fY29uZmlnKTtcblxuICAgICAgICB0aGlzLl9tc2VjdGwub24oTVNFRXZlbnRzLlVQREFURV9FTkQsIHRoaXMuX29ubXNlVXBkYXRlRW5kLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLl9tc2VjdGwub24oTVNFRXZlbnRzLkJVRkZFUl9GVUxMLCB0aGlzLl9vbm1zZUJ1ZmZlckZ1bGwuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX21zZWN0bC5vbihNU0VFdmVudHMuU09VUkNFX09QRU4sICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX21zZVNvdXJjZU9wZW5lZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAodGhpcy5faGFzUGVuZGluZ0xvYWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYXNQZW5kaW5nTG9hZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fbXNlY3RsLm9uKE1TRUV2ZW50cy5FUlJPUiwgKGluZm8pID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuRVJST1IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXJyb3JUeXBlcy5NRURJQV9FUlJPUixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcnJvckRldGFpbHMuTUVESUFfTVNFX0VSUk9SLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm9cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX21zZWN0bC5hdHRhY2hNZWRpYUVsZW1lbnQobWVkaWFFbGVtZW50KTtcblxuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ1NlZWtUaW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gdGhpcy5fcGVuZGluZ1NlZWtUaW1lO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWVrVGltZSA9IG51bGw7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gSUUxMSBtYXkgdGhyb3cgSW52YWxpZFN0YXRlRXJyb3IgaWYgcmVhZHlTdGF0ZSA9PT0gMFxuICAgICAgICAgICAgICAgIC8vIFdlIGNhbiBkZWZlciBzZXQgY3VycmVudFRpbWUgb3BlcmF0aW9uIGFmdGVyIGxvYWRlZG1ldGFkYXRhXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXRhY2hNZWRpYUVsZW1lbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX21zZWN0bC5kZXRhY2hNZWRpYUVsZW1lbnQoKTtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIHRoaXMuZS5vbnZMb2FkZWRNZXRhZGF0YSk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Vla2luZycsIHRoaXMuZS5vbnZTZWVraW5nKTtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5lLm9udkNhblBsYXkpO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N0YWxsZWQnLCB0aGlzLmUub252U3RhbGxlZCk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLmUub252UHJvZ3Jlc3MpO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbXNlY3RsKSB7XG4gICAgICAgICAgICB0aGlzLl9tc2VjdGwuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5fbXNlY3RsID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCdIVE1MTWVkaWFFbGVtZW50IG11c3QgYmUgYXR0YWNoZWQgYmVmb3JlIGxvYWQoKSEnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdHJhbnNtdXhlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignRmx2UGxheWVyLmxvYWQoKSBoYXMgYmVlbiBjYWxsZWQsIHBsZWFzZSBjYWxsIHVubG9hZCgpIGZpcnN0IScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9oYXNQZW5kaW5nTG9hZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5kZWZlckxvYWRBZnRlclNvdXJjZU9wZW4gJiYgdGhpcy5fbXNlU291cmNlT3BlbmVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5faGFzUGVuZGluZ0xvYWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudC5yZWFkeVN0YXRlID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSB0cnVlO1xuICAgICAgICAgICAgLy8gSUUxMSBtYXkgdGhyb3cgSW52YWxpZFN0YXRlRXJyb3IgaWYgcmVhZHlTdGF0ZSA9PT0gMFxuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIgPSBuZXcgVHJhbnNtdXhlcih0aGlzLl9tZWRpYURhdGFTb3VyY2UsIHRoaXMuX2NvbmZpZyk7XG5cbiAgICAgICAgdGhpcy5fdHJhbnNtdXhlci5vbihUcmFuc211eGluZ0V2ZW50cy5JTklUX1NFR01FTlQsICh0eXBlLCBpcykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbXNlY3RsLmFwcGVuZEluaXRTZWdtZW50KGlzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIub24oVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfU0VHTUVOVCwgKHR5cGUsIG1zKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9tc2VjdGwuYXBwZW5kTWVkaWFTZWdtZW50KG1zKTtcblxuICAgICAgICAgICAgLy8gbGF6eUxvYWQgY2hlY2tcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb25maWcubGF6eUxvYWQgJiYgIXRoaXMuX2NvbmZpZy5pc0xpdmUpIHtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudFRpbWUgPSB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWU7XG4gICAgICAgICAgICAgICAgaWYgKG1zLmluZm8uZW5kRHRzID49IChjdXJyZW50VGltZSArIHRoaXMuX2NvbmZpZy5sYXp5TG9hZE1heER1cmF0aW9uKSAqIDEwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Byb2dyZXNzQ2hlY2tlciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBMb2cudih0aGlzLlRBRywgJ01heGltdW0gYnVmZmVyaW5nIGR1cmF0aW9uIGV4Y2VlZGVkLCBzdXNwZW5kIHRyYW5zbXV4aW5nIHRhc2snKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N1c3BlbmRUcmFuc211eGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl90cmFuc211eGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLkxPQURJTkdfQ09NUExFVEUsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX21zZWN0bC5lbmRPZlN0cmVhbSgpO1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5MT0FESU5HX0NPTVBMRVRFKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIub24oVHJhbnNtdXhpbmdFdmVudHMuUkVDT1ZFUkVEX0VBUkxZX0VPRiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5SRUNPVkVSRURfRUFSTFlfRU9GKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIub24oVHJhbnNtdXhpbmdFdmVudHMuSU9fRVJST1IsIChkZXRhaWwsIGluZm8pID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuRVJST1IsIEVycm9yVHlwZXMuTkVUV09SS19FUlJPUiwgZGV0YWlsLCBpbmZvKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIub24oVHJhbnNtdXhpbmdFdmVudHMuREVNVVhfRVJST1IsIChkZXRhaWwsIGluZm8pID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuRVJST1IsIEVycm9yVHlwZXMuTUVESUFfRVJST1IsIGRldGFpbCwge2NvZGU6IC0xLCBtc2c6IGluZm99KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIub24oVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfSU5GTywgKG1lZGlhSW5mbykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvID0gbWVkaWFJbmZvO1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5NRURJQV9JTkZPLCBPYmplY3QuYXNzaWduKHt9LCBtZWRpYUluZm8pKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIub24oVHJhbnNtdXhpbmdFdmVudHMuU1RBVElTVElDU19JTkZPLCAoc3RhdEluZm8pID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRpc3RpY3NJbmZvID0gdGhpcy5fZmlsbFN0YXRpc3RpY3NJbmZvKHN0YXRJbmZvKTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuU1RBVElTVElDU19JTkZPLCBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9zdGF0aXN0aWNzSW5mbykpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fdHJhbnNtdXhlci5vbihUcmFuc211eGluZ0V2ZW50cy5SRUNPTU1FTkRfU0VFS1BPSU5ULCAobWlsbGlzZWNvbmRzKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50ICYmICF0aGlzLl9jb25maWcuYWNjdXJhdGVTZWVrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IG1pbGxpc2Vjb25kcyAvIDEwMDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIub24oVHJhbnNtdXhpbmdFdmVudHMuTE9BREVEX1NFSSwgKHRpbWVzdGFtcCwgZGF0YSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5MT0FERURfU0VJLCB0aW1lc3RhbXAsIGRhdGEpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl90cmFuc211eGVyLm9wZW4oKTtcbiAgICB9XG5cbiAgICB1bmxvYWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9tc2VjdGwpIHtcbiAgICAgICAgICAgIHRoaXMuX21zZWN0bC5zZWVrKDApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl90cmFuc211eGVyKSB7XG4gICAgICAgICAgICB0aGlzLl90cmFuc211eGVyLmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl90cmFuc211eGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGxheSgpIHtcbiAgICAgICAgbGV0IHBsYXlQcm9taXNlID0gdGhpcy5fbWVkaWFFbGVtZW50LnBsYXkoKVxuICAgICAgICBpZiAocGxheVByb21pc2UgIT09IHVuZGVmaW5lZCAmJiBwbGF5UHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHBsYXlQcm9taXNlLmNhdGNoKGZ1bmN0aW9uKCkge30pO1xuICAgICAgICB9IGVsc2UgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnBhdXNlKCk7XG4gICAgfVxuXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90eXBlO1xuICAgIH1cblxuICAgIGdldCBidWZmZXJlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudC5idWZmZXJlZDtcbiAgICB9XG5cbiAgICBnZXQgZHVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZWRpYUVsZW1lbnQuZHVyYXRpb247XG4gICAgfVxuXG4gICAgZ2V0IHZvbHVtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudC52b2x1bWU7XG4gICAgfVxuXG4gICAgc2V0IHZvbHVtZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQudm9sdW1lID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IG11dGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVkaWFFbGVtZW50Lm11dGVkO1xuICAgIH1cblxuICAgIHNldCBtdXRlZChtdXRlZCkge1xuICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQubXV0ZWQgPSBtdXRlZDtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudFRpbWUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgc2V0IGN1cnJlbnRUaW1lKHNlY29uZHMpIHtcbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxTZWVrKHNlY29uZHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1NlZWtUaW1lID0gc2Vjb25kcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBtZWRpYUluZm8oKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9tZWRpYUluZm8pO1xuICAgIH1cblxuICAgIGdldCBzdGF0aXN0aWNzSW5mbygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRpc3RpY3NJbmZvID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRpc3RpY3NJbmZvID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RhdGlzdGljc0luZm8gPSB0aGlzLl9maWxsU3RhdGlzdGljc0luZm8odGhpcy5fc3RhdGlzdGljc0luZm8pO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fc3RhdGlzdGljc0luZm8pO1xuICAgIH1cblxuICAgIF9maWxsU3RhdGlzdGljc0luZm8oc3RhdEluZm8pIHtcbiAgICAgICAgc3RhdEluZm8ucGxheWVyVHlwZSA9IHRoaXMuX3R5cGU7XG5cbiAgICAgICAgaWYgKCEodGhpcy5fbWVkaWFFbGVtZW50IGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0SW5mbztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoYXNRdWFsaXR5SW5mbyA9IHRydWU7XG4gICAgICAgIGxldCBkZWNvZGVkID0gMDtcbiAgICAgICAgbGV0IGRyb3BwZWQgPSAwO1xuXG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQuZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkpIHtcbiAgICAgICAgICAgIGxldCBxdWFsaXR5ID0gdGhpcy5fbWVkaWFFbGVtZW50LmdldFZpZGVvUGxheWJhY2tRdWFsaXR5KCk7XG4gICAgICAgICAgICBkZWNvZGVkID0gcXVhbGl0eS50b3RhbFZpZGVvRnJhbWVzO1xuICAgICAgICAgICAgZHJvcHBlZCA9IHF1YWxpdHkuZHJvcHBlZFZpZGVvRnJhbWVzO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX21lZGlhRWxlbWVudC53ZWJraXREZWNvZGVkRnJhbWVDb3VudCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlY29kZWQgPSB0aGlzLl9tZWRpYUVsZW1lbnQud2Via2l0RGVjb2RlZEZyYW1lQ291bnQ7XG4gICAgICAgICAgICBkcm9wcGVkID0gdGhpcy5fbWVkaWFFbGVtZW50LndlYmtpdERyb3BwZWRGcmFtZUNvdW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFzUXVhbGl0eUluZm8gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNRdWFsaXR5SW5mbykge1xuICAgICAgICAgICAgc3RhdEluZm8uZGVjb2RlZEZyYW1lcyA9IGRlY29kZWQ7XG4gICAgICAgICAgICBzdGF0SW5mby5kcm9wcGVkRnJhbWVzID0gZHJvcHBlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdGF0SW5mbztcbiAgICB9XG5cbiAgICBfb25tc2VVcGRhdGVFbmQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY29uZmlnLmxhenlMb2FkIHx8IHRoaXMuX2NvbmZpZy5pc0xpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBidWZmZXJlZCA9IHRoaXMuX21lZGlhRWxlbWVudC5idWZmZXJlZDtcbiAgICAgICAgbGV0IGN1cnJlbnRUaW1lID0gdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lO1xuICAgICAgICBsZXQgY3VycmVudFJhbmdlU3RhcnQgPSAwO1xuICAgICAgICBsZXQgY3VycmVudFJhbmdlRW5kID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlcmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSBidWZmZXJlZC5zdGFydChpKTtcbiAgICAgICAgICAgIGxldCBlbmQgPSBidWZmZXJlZC5lbmQoaSk7XG4gICAgICAgICAgICBpZiAoc3RhcnQgPD0gY3VycmVudFRpbWUgJiYgY3VycmVudFRpbWUgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UmFuZ2VTdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgICAgIGN1cnJlbnRSYW5nZUVuZCA9IGVuZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50UmFuZ2VFbmQgPj0gY3VycmVudFRpbWUgKyB0aGlzLl9jb25maWcubGF6eUxvYWRNYXhEdXJhdGlvbiAmJiB0aGlzLl9wcm9ncmVzc0NoZWNrZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgTG9nLnYodGhpcy5UQUcsICdNYXhpbXVtIGJ1ZmZlcmluZyBkdXJhdGlvbiBleGNlZWRlZCwgc3VzcGVuZCB0cmFuc211eGluZyB0YXNrJyk7XG4gICAgICAgICAgICB0aGlzLl9zdXNwZW5kVHJhbnNtdXhlcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29ubXNlQnVmZmVyRnVsbCgpIHtcbiAgICAgICAgTG9nLnYodGhpcy5UQUcsICdNU0UgU291cmNlQnVmZmVyIGlzIGZ1bGwsIHN1c3BlbmQgdHJhbnNtdXhpbmcgdGFzaycpO1xuICAgICAgICBpZiAodGhpcy5fcHJvZ3Jlc3NDaGVja2VyID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1c3BlbmRUcmFuc211eGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc3VzcGVuZFRyYW5zbXV4ZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLl90cmFuc211eGVyKSB7XG4gICAgICAgICAgICB0aGlzLl90cmFuc211eGVyLnBhdXNlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9wcm9ncmVzc0NoZWNrZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2dyZXNzQ2hlY2tlciA9IHdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLl9jaGVja1Byb2dyZXNzQW5kUmVzdW1lLmJpbmQodGhpcyksIDEwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NoZWNrUHJvZ3Jlc3NBbmRSZXN1bWUoKSB7XG4gICAgICAgIGxldCBjdXJyZW50VGltZSA9IHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZTtcbiAgICAgICAgbGV0IGJ1ZmZlcmVkID0gdGhpcy5fbWVkaWFFbGVtZW50LmJ1ZmZlcmVkO1xuXG4gICAgICAgIGxldCBuZWVkUmVzdW1lID0gZmFsc2U7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGZyb20gPSBidWZmZXJlZC5zdGFydChpKTtcbiAgICAgICAgICAgIGxldCB0byA9IGJ1ZmZlcmVkLmVuZChpKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50VGltZSA+PSBmcm9tICYmIGN1cnJlbnRUaW1lIDwgdG8pIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRpbWUgPj0gdG8gLSB0aGlzLl9jb25maWcubGF6eUxvYWRSZWNvdmVyRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbmVlZFJlc3VtZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5lZWRSZXN1bWUpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3Byb2dyZXNzQ2hlY2tlcik7XG4gICAgICAgICAgICB0aGlzLl9wcm9ncmVzc0NoZWNrZXIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKG5lZWRSZXN1bWUpIHtcbiAgICAgICAgICAgICAgICBMb2cudih0aGlzLlRBRywgJ0NvbnRpbnVlIGxvYWRpbmcgZnJvbSBwYXVzZWQgcG9zaXRpb24nKTtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc211eGVyLnJlc3VtZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2lzVGltZXBvaW50QnVmZmVyZWQoc2Vjb25kcykge1xuICAgICAgICBsZXQgYnVmZmVyZWQgPSB0aGlzLl9tZWRpYUVsZW1lbnQuYnVmZmVyZWQ7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGZyb20gPSBidWZmZXJlZC5zdGFydChpKTtcbiAgICAgICAgICAgIGxldCB0byA9IGJ1ZmZlcmVkLmVuZChpKTtcbiAgICAgICAgICAgIGlmIChzZWNvbmRzID49IGZyb20gJiYgc2Vjb25kcyA8IHRvKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF9pbnRlcm5hbFNlZWsoc2Vjb25kcykge1xuICAgICAgICBsZXQgZGlyZWN0U2VlayA9IHRoaXMuX2lzVGltZXBvaW50QnVmZmVyZWQoc2Vjb25kcyk7XG5cbiAgICAgICAgbGV0IGRpcmVjdFNlZWtCZWdpbiA9IGZhbHNlO1xuICAgICAgICBsZXQgZGlyZWN0U2Vla0JlZ2luVGltZSA9IDA7XG5cbiAgICAgICAgaWYgKHNlY29uZHMgPCAxLjAgJiYgdGhpcy5fbWVkaWFFbGVtZW50LmJ1ZmZlcmVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCB2aWRlb0JlZ2luVGltZSA9IHRoaXMuX21lZGlhRWxlbWVudC5idWZmZXJlZC5zdGFydCgwKTtcbiAgICAgICAgICAgIGlmICgodmlkZW9CZWdpblRpbWUgPCAxLjAgJiYgc2Vjb25kcyA8IHZpZGVvQmVnaW5UaW1lKSB8fCBCcm93c2VyLnNhZmFyaSkge1xuICAgICAgICAgICAgICAgIGRpcmVjdFNlZWtCZWdpbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gYWxzbyB3b3JrYXJvdW5kIGZvciBTYWZhcmk6IFNlZWsgdG8gMCBtYXkgY2F1c2UgdmlkZW8gc3R1Y2ssIHVzZSAwLjEgdG8gYXZvaWRcbiAgICAgICAgICAgICAgICBkaXJlY3RTZWVrQmVnaW5UaW1lID0gQnJvd3Nlci5zYWZhcmkgPyAwLjEgOiB2aWRlb0JlZ2luVGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RTZWVrQmVnaW4pIHsgIC8vIHNlZWsgdG8gdmlkZW8gYmVnaW4sIHNldCBjdXJyZW50VGltZSBkaXJlY3RseSBpZiBiZWdpblBUUyBidWZmZXJlZFxuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gZGlyZWN0U2Vla0JlZ2luVGltZTtcbiAgICAgICAgfSAgZWxzZSBpZiAoZGlyZWN0U2VlaykgeyAgLy8gYnVmZmVyZWQgcG9zaXRpb25cbiAgICAgICAgICAgIGlmICghdGhpcy5fYWx3YXlzU2Vla0tleWZyYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IHNlY29uZHM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBpZHIgPSB0aGlzLl9tc2VjdGwuZ2V0TmVhcmVzdEtleWZyYW1lKE1hdGguZmxvb3Ioc2Vjb25kcyAqIDEwMDApKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0U2V0VGltZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGlkciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IGlkci5kdHMgLyAxMDAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IHNlY29uZHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3Byb2dyZXNzQ2hlY2tlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tQcm9ncmVzc0FuZFJlc3VtZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3Byb2dyZXNzQ2hlY2tlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fcHJvZ3Jlc3NDaGVja2VyKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9ncmVzc0NoZWNrZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbXNlY3RsLnNlZWsoc2Vjb25kcyk7XG4gICAgICAgICAgICB0aGlzLl90cmFuc211eGVyLnNlZWsoTWF0aC5mbG9vcihzZWNvbmRzICogMTAwMCkpOyAgLy8gaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgICAgICAvLyBubyBuZWVkIHRvIHNldCBtZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgaWYgbm9uLWFjY3VyYXRlU2VlayxcbiAgICAgICAgICAgIC8vIGp1c3Qgd2FpdCBmb3IgdGhlIHJlY29tbWVuZF9zZWVrcG9pbnQgY2FsbGJhY2tcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb25maWcuYWNjdXJhdGVTZWVrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IHNlY29uZHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY2hlY2tBbmRBcHBseVVuYnVmZmVyZWRTZWVrcG9pbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zZWVrcG9pbnRSZWNvcmQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zZWVrcG9pbnRSZWNvcmQucmVjb3JkVGltZSA8PSB0aGlzLl9ub3coKSAtIDEwMCkge1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2Vla3BvaW50UmVjb3JkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2lzVGltZXBvaW50QnVmZmVyZWQodGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcHJvZ3Jlc3NDaGVja2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fcHJvZ3Jlc3NDaGVja2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Byb2dyZXNzQ2hlY2tlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLmN1cnJlbnRUaW1lIGlzIGNvbnNpc3RzIHdpdGggLmJ1ZmZlcmVkIHRpbWVzdGFtcFxuICAgICAgICAgICAgICAgICAgICAvLyBDaHJvbWUvRWRnZSB1c2UgRFRTLCB3aGlsZSBGaXJlRm94L1NhZmFyaSB1c2UgUFRTXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21zZWN0bC5zZWVrKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIuc2VlayhNYXRoLmZsb29yKHRhcmdldCAqIDEwMDApKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IGN1cnJlbnRUaW1lIGlmIGFjY3VyYXRlU2Vlaywgb3Igd2FpdCBmb3IgcmVjb21tZW5kX3NlZWtwb2ludCBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29uZmlnLmFjY3VyYXRlU2Vlaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gdGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCh0aGlzLl9jaGVja0FuZEFwcGx5VW5idWZmZXJlZFNlZWtwb2ludC5iaW5kKHRoaXMpLCA1MCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY2hlY2tBbmRSZXN1bWVTdHVja1BsYXliYWNrKHN0YWxsZWQpIHtcbiAgICAgICAgbGV0IG1lZGlhID0gdGhpcy5fbWVkaWFFbGVtZW50O1xuICAgICAgICBpZiAoc3RhbGxlZCB8fCAhdGhpcy5fcmVjZWl2ZWRDYW5QbGF5IHx8IG1lZGlhLnJlYWR5U3RhdGUgPCAyKSB7ICAvLyBIQVZFX0NVUlJFTlRfREFUQVxuICAgICAgICAgICAgbGV0IGJ1ZmZlcmVkID0gbWVkaWEuYnVmZmVyZWQ7XG4gICAgICAgICAgICBpZiAoYnVmZmVyZWQubGVuZ3RoID4gMCAmJiBtZWRpYS5jdXJyZW50VGltZSA8IGJ1ZmZlcmVkLnN0YXJ0KDApKSB7XG4gICAgICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsIGBQbGF5YmFjayBzZWVtcyBzdHVjayBhdCAke21lZGlhLmN1cnJlbnRUaW1lfSwgc2VlayB0byAke2J1ZmZlcmVkLnN0YXJ0KDApfWApO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RTZXRUaW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSBidWZmZXJlZC5zdGFydCgwKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLmUub252UHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gUGxheWJhY2sgZGlkbid0IHN0dWNrLCByZW1vdmUgcHJvZ3Jlc3MgZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuZS5vbnZQcm9ncmVzcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb252TG9hZGVkTWV0YWRhdGEoZSkge1xuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ1NlZWtUaW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IHRoaXMuX3BlbmRpbmdTZWVrVGltZTtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWVrVGltZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb252U2Vla2luZyhlKSB7ICAvLyBoYW5kbGUgc2Vla2luZyByZXF1ZXN0IGZyb20gYnJvd3NlcidzIHByb2dyZXNzIGJhclxuICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lO1xuICAgICAgICBsZXQgYnVmZmVyZWQgPSB0aGlzLl9tZWRpYUVsZW1lbnQuYnVmZmVyZWQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RTZXRUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0U2V0VGltZSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldCA8IDEuMCAmJiBidWZmZXJlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBzZWVrIHRvIHZpZGVvIGJlZ2luLCBzZXQgY3VycmVudFRpbWUgZGlyZWN0bHkgaWYgYmVnaW5QVFMgYnVmZmVyZWRcbiAgICAgICAgICAgIGxldCB2aWRlb0JlZ2luVGltZSA9IGJ1ZmZlcmVkLnN0YXJ0KDApO1xuICAgICAgICAgICAgaWYgKCh2aWRlb0JlZ2luVGltZSA8IDEuMCAmJiB0YXJnZXQgPCB2aWRlb0JlZ2luVGltZSkgfHwgQnJvd3Nlci5zYWZhcmkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0U2V0VGltZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gYWxzbyB3b3JrYXJvdW5kIGZvciBTYWZhcmk6IFNlZWsgdG8gMCBtYXkgY2F1c2UgdmlkZW8gc3R1Y2ssIHVzZSAwLjEgdG8gYXZvaWRcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSBCcm93c2VyLnNhZmFyaSA/IDAuMSA6IHZpZGVvQmVnaW5UaW1lO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9pc1RpbWVwb2ludEJ1ZmZlcmVkKHRhcmdldCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbHdheXNTZWVrS2V5ZnJhbWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgaWRyID0gdGhpcy5fbXNlY3RsLmdldE5lYXJlc3RLZXlmcmFtZShNYXRoLmZsb29yKHRhcmdldCAqIDEwMDApKTtcbiAgICAgICAgICAgICAgICBpZiAoaWRyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSBpZHIuZHRzIC8gMTAwMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fcHJvZ3Jlc3NDaGVja2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja1Byb2dyZXNzQW5kUmVzdW1lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZWVrcG9pbnRSZWNvcmQgPSB7XG4gICAgICAgICAgICBzZWVrUG9pbnQ6IHRhcmdldCxcbiAgICAgICAgICAgIHJlY29yZFRpbWU6IHRoaXMuX25vdygpXG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuX2NoZWNrQW5kQXBwbHlVbmJ1ZmZlcmVkU2Vla3BvaW50LmJpbmQodGhpcyksIDUwKTtcbiAgICB9XG5cbiAgICBfb252Q2FuUGxheShlKSB7XG4gICAgICAgIHRoaXMuX3JlY2VpdmVkQ2FuUGxheSA9IHRydWU7XG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5lLm9udkNhblBsYXkpO1xuICAgIH1cblxuICAgIF9vbnZTdGFsbGVkKGUpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tBbmRSZXN1bWVTdHVja1BsYXliYWNrKHRydWUpO1xuICAgIH1cblxuICAgIF9vbnZQcm9ncmVzcyhlKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrQW5kUmVzdW1lU3R1Y2tQbGF5YmFjaygpO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBGbHZQbGF5ZXI7XG4iLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudHMnO1xuaW1wb3J0IFBsYXllckV2ZW50cyBmcm9tICcuL3BsYXllci1ldmVudHMuanMnO1xuaW1wb3J0IHtjcmVhdGVEZWZhdWx0Q29uZmlnfSBmcm9tICcuLi9jb25maWcuanMnO1xuaW1wb3J0IHtJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24sIElsbGVnYWxTdGF0ZUV4Y2VwdGlvbn0gZnJvbSAnLi4vdXRpbHMvZXhjZXB0aW9uLmpzJztcblxuLy8gUGxheWVyIHdyYXBwZXIgZm9yIGJyb3dzZXIncyBuYXRpdmUgcGxheWVyIChIVE1MVmlkZW9FbGVtZW50KSB3aXRob3V0IE1lZGlhU291cmNlIHNyYy5cbmNsYXNzIE5hdGl2ZVBsYXllciB7XG5cbiAgICBjb25zdHJ1Y3RvcihtZWRpYURhdGFTb3VyY2UsIGNvbmZpZykge1xuICAgICAgICB0aGlzLlRBRyA9ICdOYXRpdmVQbGF5ZXInO1xuICAgICAgICB0aGlzLl90eXBlID0gJ05hdGl2ZVBsYXllcic7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICAgICAgdGhpcy5fY29uZmlnID0gY3JlYXRlRGVmYXVsdENvbmZpZygpO1xuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fY29uZmlnLCBjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1lZGlhRGF0YVNvdXJjZS50eXBlLnRvTG93ZXJDYXNlKCkgPT09ICdmbHYnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdOYXRpdmVQbGF5ZXIgZG9lc1xcJ3Qgc3VwcG9ydCBmbHYgTWVkaWFEYXRhU291cmNlIGlucHV0IScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZWRpYURhdGFTb3VyY2UuaGFzT3duUHJvcGVydHkoJ3NlZ21lbnRzJykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oYE5hdGl2ZVBsYXllcigke21lZGlhRGF0YVNvdXJjZS50eXBlfSkgZG9lc24ndCBzdXBwb3J0IG11bHRpcGFydCBwbGF5YmFjayFgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZSA9IHtcbiAgICAgICAgICAgIG9udkxvYWRlZE1ldGFkYXRhOiB0aGlzLl9vbnZMb2FkZWRNZXRhZGF0YS5iaW5kKHRoaXMpXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fcGVuZGluZ1NlZWtUaW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9tZWRpYURhdGFTb3VyY2UgPSBtZWRpYURhdGFTb3VyY2U7XG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy51bmxvYWQoKTtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoTWVkaWFFbGVtZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbWVkaWFEYXRhU291cmNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG51bGw7XG4gICAgfVxuXG4gICAgb24oZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIGlmIChldmVudCA9PT0gUGxheWVyRXZlbnRzLk1FRElBX0lORk8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQgIT0gbnVsbCAmJiB0aGlzLl9tZWRpYUVsZW1lbnQucmVhZHlTdGF0ZSAhPT0gMCkgeyAgLy8gSEFWRV9OT1RISU5HXG4gICAgICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuTUVESUFfSU5GTywgdGhpcy5tZWRpYUluZm8pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSBQbGF5ZXJFdmVudHMuU1RBVElTVElDU19JTkZPKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50ICE9IG51bGwgJiYgdGhpcy5fbWVkaWFFbGVtZW50LnJlYWR5U3RhdGUgIT09IDApIHtcbiAgICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5TVEFUSVNUSUNTX0lORk8sIHRoaXMuc3RhdGlzdGljc0luZm8pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuYWRkTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBvZmYoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBhdHRhY2hNZWRpYUVsZW1lbnQobWVkaWFFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudCA9IG1lZGlhRWxlbWVudDtcbiAgICAgICAgbWVkaWFFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgdGhpcy5lLm9udkxvYWRlZE1ldGFkYXRhKTtcblxuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ1NlZWtUaW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gdGhpcy5fcGVuZGluZ1NlZWtUaW1lO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWVrVGltZSA9IG51bGw7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gSUUxMSBtYXkgdGhyb3cgSW52YWxpZFN0YXRlRXJyb3IgaWYgcmVhZHlTdGF0ZSA9PT0gMFxuICAgICAgICAgICAgICAgIC8vIERlZmVyIHNldCBjdXJyZW50VGltZSBvcGVyYXRpb24gYWZ0ZXIgbG9hZGVkbWV0YWRhdGFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRldGFjaE1lZGlhRWxlbWVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnNyYyA9ICcnO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnc3JjJyk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCB0aGlzLmUub252TG9hZGVkTWV0YWRhdGEpO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlcik7XG4gICAgICAgICAgICB0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbG9hZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tZWRpYUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ0hUTUxNZWRpYUVsZW1lbnQgbXVzdCBiZSBhdHRhY2hlZCBiZWZvcmUgbG9hZCgpIScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5zcmMgPSB0aGlzLl9tZWRpYURhdGFTb3VyY2UudXJsO1xuXG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQucmVhZHlTdGF0ZSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucHJlbG9hZCA9ICdhdXRvJztcbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LmxvYWQoKTtcbiAgICAgICAgdGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyID0gd2luZG93LnNldEludGVydmFsKFxuICAgICAgICAgICAgdGhpcy5fcmVwb3J0U3RhdGlzdGljc0luZm8uYmluZCh0aGlzKSxcbiAgICAgICAgdGhpcy5fY29uZmlnLnN0YXRpc3RpY3NJbmZvUmVwb3J0SW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIHVubG9hZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnNyYyA9ICcnO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnc3JjJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlciAhPSBudWxsKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIpO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBsYXkoKSB7XG4gICAgICAgIGxldCBwbGF5UHJvbWlzZSA9IHRoaXMuX21lZGlhRWxlbWVudC5wbGF5KClcbiAgICAgICAgaWYgKHBsYXlQcm9taXNlICE9PSB1bmRlZmluZWQgJiYgcGxheVByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBwbGF5UHJvbWlzZS5jYXRjaChmdW5jdGlvbigpIHt9KTtcbiAgICAgICAgfSBlbHNlIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5wYXVzZSgpO1xuICAgIH1cblxuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgICB9XG5cbiAgICBnZXQgYnVmZmVyZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZWRpYUVsZW1lbnQuYnVmZmVyZWQ7XG4gICAgfVxuXG4gICAgZ2V0IGR1cmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVkaWFFbGVtZW50LmR1cmF0aW9uO1xuICAgIH1cblxuICAgIGdldCB2b2x1bWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZWRpYUVsZW1lbnQudm9sdW1lO1xuICAgIH1cblxuICAgIHNldCB2b2x1bWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnZvbHVtZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBtdXRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudC5tdXRlZDtcbiAgICB9XG5cbiAgICBzZXQgbXV0ZWQobXV0ZWQpIHtcbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50Lm11dGVkID0gbXV0ZWQ7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRUaW1lKCkge1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHNldCBjdXJyZW50VGltZShzZWNvbmRzKSB7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IHNlY29uZHM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nU2Vla1RpbWUgPSBzZWNvbmRzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IG1lZGlhSW5mbygpIHtcbiAgICAgICAgbGV0IG1lZGlhUHJlZml4ID0gKHRoaXMuX21lZGlhRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxBdWRpb0VsZW1lbnQpID8gJ2F1ZGlvLycgOiAndmlkZW8vJztcbiAgICAgICAgbGV0IGluZm8gPSB7XG4gICAgICAgICAgICBtaW1lVHlwZTogbWVkaWFQcmVmaXggKyB0aGlzLl9tZWRpYURhdGFTb3VyY2UudHlwZVxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICBpbmZvLmR1cmF0aW9uID0gTWF0aC5mbG9vcih0aGlzLl9tZWRpYUVsZW1lbnQuZHVyYXRpb24gKiAxMDAwKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgaW5mby53aWR0aCA9IHRoaXMuX21lZGlhRWxlbWVudC52aWRlb1dpZHRoO1xuICAgICAgICAgICAgICAgIGluZm8uaGVpZ2h0ID0gdGhpcy5fbWVkaWFFbGVtZW50LnZpZGVvSGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIGdldCBzdGF0aXN0aWNzSW5mbygpIHtcbiAgICAgICAgbGV0IGluZm8gPSB7XG4gICAgICAgICAgICBwbGF5ZXJUeXBlOiB0aGlzLl90eXBlLFxuICAgICAgICAgICAgdXJsOiB0aGlzLl9tZWRpYURhdGFTb3VyY2UudXJsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCEodGhpcy5fbWVkaWFFbGVtZW50IGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGhhc1F1YWxpdHlJbmZvID0gdHJ1ZTtcbiAgICAgICAgbGV0IGRlY29kZWQgPSAwO1xuICAgICAgICBsZXQgZHJvcHBlZCA9IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudC5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSkge1xuICAgICAgICAgICAgbGV0IHF1YWxpdHkgPSB0aGlzLl9tZWRpYUVsZW1lbnQuZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkoKTtcbiAgICAgICAgICAgIGRlY29kZWQgPSBxdWFsaXR5LnRvdGFsVmlkZW9GcmFtZXM7XG4gICAgICAgICAgICBkcm9wcGVkID0gcXVhbGl0eS5kcm9wcGVkVmlkZW9GcmFtZXM7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fbWVkaWFFbGVtZW50LndlYmtpdERlY29kZWRGcmFtZUNvdW50ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVjb2RlZCA9IHRoaXMuX21lZGlhRWxlbWVudC53ZWJraXREZWNvZGVkRnJhbWVDb3VudDtcbiAgICAgICAgICAgIGRyb3BwZWQgPSB0aGlzLl9tZWRpYUVsZW1lbnQud2Via2l0RHJvcHBlZEZyYW1lQ291bnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoYXNRdWFsaXR5SW5mbyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1F1YWxpdHlJbmZvKSB7XG4gICAgICAgICAgICBpbmZvLmRlY29kZWRGcmFtZXMgPSBkZWNvZGVkO1xuICAgICAgICAgICAgaW5mby5kcm9wcGVkRnJhbWVzID0gZHJvcHBlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIF9vbnZMb2FkZWRNZXRhZGF0YShlKSB7XG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nU2Vla1RpbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gdGhpcy5fcGVuZGluZ1NlZWtUaW1lO1xuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1NlZWtUaW1lID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoUGxheWVyRXZlbnRzLk1FRElBX0lORk8sIHRoaXMubWVkaWFJbmZvKTtcbiAgICB9XG5cbiAgICBfcmVwb3J0U3RhdGlzdGljc0luZm8oKSB7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuU1RBVElTVElDU19JTkZPLCB0aGlzLnN0YXRpc3RpY3NJbmZvKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmF0aXZlUGxheWVyO1xuIiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7TG9hZGVyRXJyb3JzfSBmcm9tICcuLi9pby9sb2FkZXIuanMnO1xuaW1wb3J0IERlbXV4RXJyb3JzIGZyb20gJy4uL2RlbXV4L2RlbXV4LWVycm9ycy5qcyc7XG5cbmV4cG9ydCBjb25zdCBFcnJvclR5cGVzID0ge1xuICAgIE5FVFdPUktfRVJST1I6ICdOZXR3b3JrRXJyb3InLFxuICAgIE1FRElBX0VSUk9SOiAnTWVkaWFFcnJvcicsXG4gICAgT1RIRVJfRVJST1I6ICdPdGhlckVycm9yJ1xufTtcblxuZXhwb3J0IGNvbnN0IEVycm9yRGV0YWlscyA9IHtcbiAgICBORVRXT1JLX0VYQ0VQVElPTjogTG9hZGVyRXJyb3JzLkVYQ0VQVElPTixcbiAgICBORVRXT1JLX1NUQVRVU19DT0RFX0lOVkFMSUQ6IExvYWRlckVycm9ycy5IVFRQX1NUQVRVU19DT0RFX0lOVkFMSUQsXG4gICAgTkVUV09SS19USU1FT1VUOiBMb2FkZXJFcnJvcnMuQ09OTkVDVElOR19USU1FT1VULFxuICAgIE5FVFdPUktfVU5SRUNPVkVSQUJMRV9FQVJMWV9FT0Y6IExvYWRlckVycm9ycy5VTlJFQ09WRVJBQkxFX0VBUkxZX0VPRixcblxuICAgIE1FRElBX01TRV9FUlJPUjogJ01lZGlhTVNFRXJyb3InLFxuXG4gICAgTUVESUFfRk9STUFUX0VSUk9SOiBEZW11eEVycm9ycy5GT1JNQVRfRVJST1IsXG4gICAgTUVESUFfRk9STUFUX1VOU1VQUE9SVEVEOiBEZW11eEVycm9ycy5GT1JNQVRfVU5TVVBQT1JURUQsXG4gICAgTUVESUFfQ09ERUNfVU5TVVBQT1JURUQ6IERlbXV4RXJyb3JzLkNPREVDX1VOU1VQUE9SVEVEXG59OyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jb25zdCBQbGF5ZXJFdmVudHMgPSB7XG4gICAgRVJST1I6ICdlcnJvcicsXG4gICAgTE9BRElOR19DT01QTEVURTogJ2xvYWRpbmdfY29tcGxldGUnLFxuICAgIFJFQ09WRVJFRF9FQVJMWV9FT0Y6ICdyZWNvdmVyZWRfZWFybHlfZW9mJyxcbiAgICBNRURJQV9JTkZPOiAnbWVkaWFfaW5mbycsXG4gICAgU1RBVElTVElDU19JTkZPOiAnc3RhdGlzdGljc19pbmZvJyxcbiAgICBMT0FERURfU0VJOiAnbG9hZGVkX3NlaSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBsYXllckV2ZW50czsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFRoaXMgZmlsZSBpcyBtb2RpZmllZCBmcm9tIGRhaWx5bW90aW9uJ3MgaGxzLmpzIGxpYnJhcnkgKGhscy5qcy9zcmMvaGVscGVyL2FhYy5qcylcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuY2xhc3MgQUFDIHtcblxuICAgIHN0YXRpYyBnZXRTaWxlbnRGcmFtZShjb2RlYywgY2hhbm5lbENvdW50KSB7XG4gICAgICAgIGlmIChjb2RlYyA9PT0gJ21wNGEuNDAuMicpIHtcbiAgICAgICAgICAgIC8vIGhhbmRsZSBMQy1BQUNcbiAgICAgICAgICAgIGlmIChjaGFubmVsQ291bnQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIDB4YzgsIDB4MDAsIDB4ODAsIDB4MjMsIDB4ODBdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSAyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDIxLCAweDAwLCAweDQ5LCAweDkwLCAweDAyLCAweDE5LCAweDAwLCAweDIzLCAweDgwXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgwMCwgMHhjOCwgMHgwMCwgMHg4MCwgMHgyMCwgMHg4NCwgMHgwMSwgMHgyNiwgMHg0MCwgMHgwOCwgMHg2NCwgMHgwMCwgMHg4ZV0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIDB4YzgsIDB4MDAsIDB4ODAsIDB4MjAsIDB4ODQsIDB4MDEsIDB4MjYsIDB4NDAsIDB4MDgsIDB4NjQsIDB4MDAsIDB4ODAsIDB4MmMsIDB4ODAsIDB4MDgsIDB4MDIsIDB4MzhdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSA1KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIwLCAweDg0LCAweDAxLCAweDI2LCAweDQwLCAweDA4LCAweDY0LCAweDAwLCAweDgyLCAweDMwLCAweDA0LCAweDk5LCAweDAwLCAweDIxLCAweDkwLCAweDAyLCAweDM4XSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gNikge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgwMCwgMHhjOCwgMHgwMCwgMHg4MCwgMHgyMCwgMHg4NCwgMHgwMSwgMHgyNiwgMHg0MCwgMHgwOCwgMHg2NCwgMHgwMCwgMHg4MiwgMHgzMCwgMHgwNCwgMHg5OSwgMHgwMCwgMHgyMSwgMHg5MCwgMHgwMiwgMHgwMCwgMHhiMiwgMHgwMCwgMHgyMCwgMHgwOCwgMHhlMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaGFuZGxlIEhFLUFBQyAobXA0YS40MC41IC8gbXA0YS40MC4yOSlcbiAgICAgICAgICAgIGlmIChjaGFubmVsQ291bnQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBmZm1wZWcgLXkgLWYgbGF2ZmkgLWkgXCJhZXZhbHNyYz0wOmQ9MC4wNVwiIC1jOmEgbGliZmRrX2FhYyAtcHJvZmlsZTphIGFhY19oZSAtYjphIDRrIG91dHB1dC5hYWMgJiYgaGV4ZHVtcCAtdiAtZSAnMTYvMSBcIjB4JXgsXCIgXCJcXG5cIicgLXYgb3V0cHV0LmFhY1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgxLCAweDQwLCAweDIyLCAweDgwLCAweGEzLCAweDRlLCAweGU2LCAweDgwLCAweGJhLCAweDgsIDB4MCwgMHgwLCAweDAsIDB4MWMsIDB4NiwgMHhmMSwgMHhjMSwgMHhhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVlXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gMikge1xuICAgICAgICAgICAgICAgIC8vIGZmbXBlZyAteSAtZiBsYXZmaSAtaSBcImFldmFsc3JjPTB8MDpkPTAuMDVcIiAtYzphIGxpYmZka19hYWMgLXByb2ZpbGU6YSBhYWNfaGVfdjIgLWI6YSA0ayBvdXRwdXQuYWFjICYmIGhleGR1bXAgLXYgLWUgJzE2LzEgXCIweCV4LFwiIFwiXFxuXCInIC12IG91dHB1dC5hYWNcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MSwgMHg0MCwgMHgyMiwgMHg4MCwgMHhhMywgMHg1ZSwgMHhlNiwgMHg4MCwgMHhiYSwgMHg4LCAweDAsIDB4MCwgMHgwLCAweDAsIDB4OTUsIDB4MCwgMHg2LCAweGYxLCAweGExLCAweGEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWVdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSAzKSB7XG4gICAgICAgICAgICAgICAgLy8gZmZtcGVnIC15IC1mIGxhdmZpIC1pIFwiYWV2YWxzcmM9MHwwfDA6ZD0wLjA1XCIgLWM6YSBsaWJmZGtfYWFjIC1wcm9maWxlOmEgYWFjX2hlX3YyIC1iOmEgNGsgb3V0cHV0LmFhYyAmJiBoZXhkdW1wIC12IC1lICcxNi8xIFwiMHgleCxcIiBcIlxcblwiJyAtdiBvdXRwdXQuYWFjXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDEsIDB4NDAsIDB4MjIsIDB4ODAsIDB4YTMsIDB4NWUsIDB4ZTYsIDB4ODAsIDB4YmEsIDB4OCwgMHgwLCAweDAsIDB4MCwgMHgwLCAweDk1LCAweDAsIDB4NiwgMHhmMSwgMHhhMSwgMHhhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEFBQzsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFRoaXMgZmlsZSBpcyBkZXJpdmVkIGZyb20gZGFpbHltb3Rpb24ncyBobHMuanMgbGlicmFyeSAoaGxzLmpzL3NyYy9yZW11eC9tcDQtZ2VuZXJhdG9yLmpzKVxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vLyAgTVA0IGJveGVzIGdlbmVyYXRvciBmb3IgSVNPIEJNRkYgKElTTyBCYXNlIE1lZGlhIEZpbGUgRm9ybWF0LCBkZWZpbmVkIGluIElTTy9JRUMgMTQ0OTYtMTIpXG5jbGFzcyBNUDQge1xuICBzdGF0aWMgaW5pdCAoKSB7XG4gICAgTVA0LnR5cGVzID0ge1xuICAgICAgYXZjMTogW10sXG4gICAgICBhdmNDOiBbXSxcbiAgICAgIGJ0cnQ6IFtdLFxuICAgICAgZGluZjogW10sXG4gICAgICBkcmVmOiBbXSxcbiAgICAgIGVzZHM6IFtdLFxuICAgICAgZnR5cDogW10sXG4gICAgICBoZGxyOiBbXSxcbiAgICAgIG1kYXQ6IFtdLFxuICAgICAgbWRoZDogW10sXG4gICAgICBtZGlhOiBbXSxcbiAgICAgIG1maGQ6IFtdLFxuICAgICAgbWluZjogW10sXG4gICAgICBtb29mOiBbXSxcbiAgICAgIG1vb3Y6IFtdLFxuICAgICAgbXA0YTogW10sXG4gICAgICBtdmV4OiBbXSxcbiAgICAgIG12aGQ6IFtdLFxuICAgICAgc2R0cDogW10sXG4gICAgICBzdGJsOiBbXSxcbiAgICAgIHN0Y286IFtdLFxuICAgICAgc3RzYzogW10sXG4gICAgICBzdHNkOiBbXSxcbiAgICAgIHN0c3o6IFtdLFxuICAgICAgc3R0czogW10sXG4gICAgICB0ZmR0OiBbXSxcbiAgICAgIHRmaGQ6IFtdLFxuICAgICAgdHJhZjogW10sXG4gICAgICB0cmFrOiBbXSxcbiAgICAgIHRydW46IFtdLFxuICAgICAgdHJleDogW10sXG4gICAgICB0a2hkOiBbXSxcbiAgICAgIHZtaGQ6IFtdLFxuICAgICAgc21oZDogW10sXG4gICAgICAnLm1wMyc6IFtdXG4gICAgfVxuXG4gICAgZm9yIChsZXQgbmFtZSBpbiBNUDQudHlwZXMpIHtcbiAgICAgIGlmIChNUDQudHlwZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgTVA0LnR5cGVzW25hbWVdID0gW1xuICAgICAgICAgIG5hbWUuY2hhckNvZGVBdCgwKSxcbiAgICAgICAgICBuYW1lLmNoYXJDb2RlQXQoMSksXG4gICAgICAgICAgbmFtZS5jaGFyQ29kZUF0KDIpLFxuICAgICAgICAgIG5hbWUuY2hhckNvZGVBdCgzKVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGNvbnN0YW50cyA9IE1QNC5jb25zdGFudHMgPSB7fVxuXG4gICAgY29uc3RhbnRzLkZUWVAgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAweDY5LCAweDczLCAweDZGLCAweDZELCAvLyBtYWpvcl9icmFuZDogaXNvbVxuICAgICAgMHgwLCAweDAsIDB4MCwgMHgxLCAvLyBtaW5vcl92ZXJzaW9uOiAweDAxXG4gICAgICAweDY5LCAweDczLCAweDZGLCAweDZELCAvLyBpc29tXG4gICAgICAweDYxLCAweDc2LCAweDYzLCAweDMxIC8vIGF2YzFcbiAgICBdKVxuXG4gICAgY29uc3RhbnRzLlNUU0RfUFJFRklYID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxIC8vIGVudHJ5X2NvdW50XG4gICAgXSlcblxuICAgIGNvbnN0YW50cy5TVFRTID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwIC8vIGVudHJ5X2NvdW50XG4gICAgXSlcblxuICAgIGNvbnN0YW50cy5TVFNDID0gY29uc3RhbnRzLlNUQ08gPSBjb25zdGFudHMuU1RUU1xuXG4gICAgY29uc3RhbnRzLlNUU1ogPSBuZXcgVWludDhBcnJheShbXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyB2ZXJzaW9uKDApICsgZmxhZ3NcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHNhbXBsZV9zaXplXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwIC8vIHNhbXBsZV9jb3VudFxuICAgIF0pXG5cbiAgICBjb25zdGFudHMuSERMUl9WSURFTyA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcHJlX2RlZmluZWRcbiAgICAgIDB4NzYsIDB4NjksIDB4NjQsIDB4NjUsIC8vIGhhbmRsZXJfdHlwZTogJ3ZpZGUnXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZDogMyAqIDQgYnl0ZXNcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgMHg1NiwgMHg2OSwgMHg2NCwgMHg2NSxcbiAgICAgIDB4NkYsIDB4NDgsIDB4NjEsIDB4NkUsXG4gICAgICAweDY0LCAweDZDLCAweDY1LCAweDcyLCAweDAwIC8vIG5hbWU6IFZpZGVvSGFuZGxlclxuICAgIF0pXG5cbiAgICBjb25zdGFudHMuSERMUl9BVURJTyA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcHJlX2RlZmluZWRcbiAgICAgIDB4NzMsIDB4NkYsIDB4NzUsIDB4NkUsIC8vIGhhbmRsZXJfdHlwZTogJ3NvdW4nXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZDogMyAqIDQgYnl0ZXNcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgMHg1MywgMHg2RiwgMHg3NSwgMHg2RSxcbiAgICAgIDB4NjQsIDB4NDgsIDB4NjEsIDB4NkUsXG4gICAgICAweDY0LCAweDZDLCAweDY1LCAweDcyLCAweDAwIC8vIG5hbWU6IFNvdW5kSGFuZGxlclxuICAgIF0pXG5cbiAgICBjb25zdGFudHMuRFJFRiA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSwgLy8gZW50cnlfY291bnRcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MEMsIC8vIGVudHJ5X3NpemVcbiAgICAgIDB4NzUsIDB4NzIsIDB4NkMsIDB4MjAsIC8vIHR5cGUgJ3VybCAnXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgIF0pXG5cbiAgICAvLyBTb3VuZCBtZWRpYSBoZWFkZXJcbiAgICBjb25zdGFudHMuU01IRCA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCAvLyBiYWxhbmNlKDIpICsgcmVzZXJ2ZWQoMilcbiAgICBdKVxuXG4gICAgLy8gdmlkZW8gbWVkaWEgaGVhZGVyXG4gICAgY29uc3RhbnRzLlZNSEQgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxLCAvLyB2ZXJzaW9uKDApICsgZmxhZ3NcbiAgICAgIDB4MDAsIDB4MDAsIC8vIGdyYXBoaWNzbW9kZTogMiBieXRlc1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gb3Bjb2xvcjogMyAqIDIgYnl0ZXNcbiAgICAgIDB4MDAsIDB4MDBcbiAgICBdKVxuICB9XG5cbiAgLy8gR2VuZXJhdGUgYSBib3hcbiAgc3RhdGljIGJveCAodHlwZSkge1xuICAgIGxldCBzaXplID0gOFxuICAgIGxldCByZXN1bHQgPSBudWxsXG4gICAgbGV0IGRhdGFzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKVxuICAgIGxldCBhcnJheUNvdW50ID0gZGF0YXMubGVuZ3RoXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Q291bnQ7IGkrKykge1xuICAgICAgc2l6ZSArPSBkYXRhc1tpXS5ieXRlTGVuZ3RoXG4gICAgfVxuXG4gICAgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSlcbiAgICByZXN1bHRbMF0gPSAoc2l6ZSA+Pj4gMjQpICYgMHhGRiAvLyBzaXplXG4gICAgcmVzdWx0WzFdID0gKHNpemUgPj4+IDE2KSAmIDB4RkZcbiAgICByZXN1bHRbMl0gPSAoc2l6ZSA+Pj4gOCkgJiAweEZGXG4gICAgcmVzdWx0WzNdID0gKHNpemUpICYgMHhGRlxuXG4gICAgcmVzdWx0LnNldCh0eXBlLCA0KSAvLyB0eXBlXG5cbiAgICBsZXQgb2Zmc2V0ID0gOFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlDb3VudDsgaSsrKSB7IC8vIGRhdGEgYm9keVxuICAgICAgcmVzdWx0LnNldChkYXRhc1tpXSwgb2Zmc2V0KVxuICAgICAgb2Zmc2V0ICs9IGRhdGFzW2ldLmJ5dGVMZW5ndGhcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvLyBlbWl0IGZ0eXAgJiBtb292XG4gIHN0YXRpYyBnZW5lcmF0ZUluaXRTZWdtZW50IChtZXRhKSB7XG4gICAgbGV0IGZ0eXAgPSBNUDQuYm94KE1QNC50eXBlcy5mdHlwLCBNUDQuY29uc3RhbnRzLkZUWVApXG4gICAgbGV0IG1vb3YgPSBNUDQubW9vdihtZXRhKVxuXG4gICAgbGV0IHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGZ0eXAuYnl0ZUxlbmd0aCArIG1vb3YuYnl0ZUxlbmd0aClcbiAgICByZXN1bHQuc2V0KGZ0eXAsIDApXG4gICAgcmVzdWx0LnNldChtb292LCBmdHlwLmJ5dGVMZW5ndGgpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLy8gTW92aWUgbWV0YWRhdGEgYm94XG4gIHN0YXRpYyBtb292IChtZXRhKSB7XG4gICAgbGV0IG12aGQgPSBNUDQubXZoZChtZXRhLnRpbWVzY2FsZSwgbWV0YS5kdXJhdGlvbilcbiAgICBsZXQgdHJhayA9IE1QNC50cmFrKG1ldGEpXG4gICAgbGV0IG12ZXggPSBNUDQubXZleChtZXRhKVxuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tb292LCBtdmhkLCB0cmFrLCBtdmV4KVxuICB9XG5cbiAgLy8gTW92aWUgaGVhZGVyIGJveFxuICBzdGF0aWMgbXZoZCAodGltZXNjYWxlLCBkdXJhdGlvbikge1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tdmhkLCBuZXcgVWludDhBcnJheShbXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyB2ZXJzaW9uKDApICsgZmxhZ3NcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGNyZWF0aW9uX3RpbWVcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIG1vZGlmaWNhdGlvbl90aW1lXG4gICAgICAodGltZXNjYWxlID4+PiAyNCkgJiAweEZGLCAvLyB0aW1lc2NhbGU6IDQgYnl0ZXNcbiAgICAgICh0aW1lc2NhbGUgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAodGltZXNjYWxlID4+PiA4KSAmIDB4RkYsXG4gICAgICAodGltZXNjYWxlKSAmIDB4RkYsXG4gICAgICAoZHVyYXRpb24gPj4+IDI0KSAmIDB4RkYsIC8vIGR1cmF0aW9uOiA0IGJ5dGVzXG4gICAgICAoZHVyYXRpb24gPj4+IDE2KSAmIDB4RkYsXG4gICAgICAoZHVyYXRpb24gPj4+IDgpICYgMHhGRixcbiAgICAgIChkdXJhdGlvbikgJiAweEZGLFxuICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCwgLy8gUHJlZmVycmVkIHJhdGU6IDEuMFxuICAgICAgMHgwMSwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gUHJlZmVycmVkVm9sdW1lKDEuMCwgMmJ5dGVzKSArIHJlc2VydmVkKDJieXRlcylcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkOiA0ICsgNCBieXRlc1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsIC8vIC0tLS1iZWdpbiBjb21wb3NpdGlvbiBtYXRyaXgtLS0tXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDAwLCAweDAxLCAweDAwLCAweDAwLFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgMHg0MCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gLS0tLWVuZCBjb21wb3NpdGlvbiBtYXRyaXgtLS0tXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyAtLS0tYmVnaW4gcHJlX2RlZmluZWQgNiAqIDQgYnl0ZXMtLS0tXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gLS0tLWVuZCBwcmVfZGVmaW5lZCA2ICogNCBieXRlcy0tLS1cbiAgICAgIDB4RkYsIDB4RkYsIDB4RkYsIDB4RkYgLy8gbmV4dF90cmFja19JRFxuICAgIF0pKVxuICB9XG5cbiAgLy8gVHJhY2sgYm94XG4gIHN0YXRpYyB0cmFrIChtZXRhKSB7XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRyYWssIE1QNC50a2hkKG1ldGEpLCBNUDQubWRpYShtZXRhKSlcbiAgfVxuXG4gIC8vIFRyYWNrIGhlYWRlciBib3hcbiAgc3RhdGljIHRraGQgKG1ldGEpIHtcbiAgICBsZXQgdHJhY2tJZCA9IG1ldGEuaWQsIGR1cmF0aW9uID0gbWV0YS5kdXJhdGlvblxuICAgIGxldCB3aWR0aCA9IG1ldGEucHJlc2VudFdpZHRoLCBoZWlnaHQgPSBtZXRhLnByZXNlbnRIZWlnaHRcblxuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy50a2hkLCBuZXcgVWludDhBcnJheShbXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDA3LCAvLyB2ZXJzaW9uKDApICsgZmxhZ3NcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGNyZWF0aW9uX3RpbWVcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIG1vZGlmaWNhdGlvbl90aW1lXG4gICAgICAodHJhY2tJZCA+Pj4gMjQpICYgMHhGRiwgLy8gdHJhY2tfSUQ6IDQgYnl0ZXNcbiAgICAgICh0cmFja0lkID4+PiAxNikgJiAweEZGLFxuICAgICAgKHRyYWNrSWQgPj4+IDgpICYgMHhGRixcbiAgICAgICh0cmFja0lkKSAmIDB4RkYsXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZDogNCBieXRlc1xuICAgICAgKGR1cmF0aW9uID4+PiAyNCkgJiAweEZGLCAvLyBkdXJhdGlvbjogNCBieXRlc1xuICAgICAgKGR1cmF0aW9uID4+PiAxNikgJiAweEZGLFxuICAgICAgKGR1cmF0aW9uID4+PiA4KSAmIDB4RkYsXG4gICAgICAoZHVyYXRpb24pICYgMHhGRixcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkOiAyICogNCBieXRlc1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGxheWVyKDJieXRlcykgKyBhbHRlcm5hdGVfZ3JvdXAoMmJ5dGVzKVxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdm9sdW1lKDJieXRlcykgKyByZXNlcnZlZCgyYnl0ZXMpXG4gICAgICAweDAwLCAweDAxLCAweDAwLCAweDAwLCAvLyAtLS0tYmVnaW4gY29tcG9zaXRpb24gbWF0cml4LS0tLVxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCxcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgIDB4NDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIC0tLS1lbmQgY29tcG9zaXRpb24gbWF0cml4LS0tLVxuICAgICAgKHdpZHRoID4+PiA4KSAmIDB4RkYsIC8vIHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgICh3aWR0aCkgJiAweEZGLFxuICAgICAgMHgwMCwgMHgwMCxcbiAgICAgIChoZWlnaHQgPj4+IDgpICYgMHhGRixcbiAgICAgIChoZWlnaHQpICYgMHhGRixcbiAgICAgIDB4MDAsIDB4MDBcbiAgICBdKSlcbiAgfVxuXG4gIC8vIE1lZGlhIEJveFxuICBzdGF0aWMgbWRpYSAobWV0YSkge1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tZGlhLCBNUDQubWRoZChtZXRhKSwgTVA0LmhkbHIobWV0YSksIE1QNC5taW5mKG1ldGEpKVxuICB9XG5cbiAgLy8gTWVkaWEgaGVhZGVyIGJveFxuICBzdGF0aWMgbWRoZCAobWV0YSkge1xuICAgIGxldCB0aW1lc2NhbGUgPSBtZXRhLnRpbWVzY2FsZVxuICAgIGxldCBkdXJhdGlvbiA9IG1ldGEuZHVyYXRpb25cbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWRoZCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBjcmVhdGlvbl90aW1lXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBtb2RpZmljYXRpb25fdGltZVxuICAgICAgKHRpbWVzY2FsZSA+Pj4gMjQpICYgMHhGRiwgLy8gdGltZXNjYWxlOiA0IGJ5dGVzXG4gICAgICAodGltZXNjYWxlID4+PiAxNikgJiAweEZGLFxuICAgICAgKHRpbWVzY2FsZSA+Pj4gOCkgJiAweEZGLFxuICAgICAgKHRpbWVzY2FsZSkgJiAweEZGLFxuICAgICAgKGR1cmF0aW9uID4+PiAyNCkgJiAweEZGLCAvLyBkdXJhdGlvbjogNCBieXRlc1xuICAgICAgKGR1cmF0aW9uID4+PiAxNikgJiAweEZGLFxuICAgICAgKGR1cmF0aW9uID4+PiA4KSAmIDB4RkYsXG4gICAgICAoZHVyYXRpb24pICYgMHhGRixcbiAgICAgIDB4NTUsIDB4QzQsIC8vIGxhbmd1YWdlOiB1bmQgKHVuZGV0ZXJtaW5lZClcbiAgICAgIDB4MDAsIDB4MDAgLy8gcHJlX2RlZmluZWQgPSAwXG4gICAgXSkpXG4gIH1cblxuICAvLyBNZWRpYSBoYW5kbGVyIHJlZmVyZW5jZSBib3hcbiAgc3RhdGljIGhkbHIgKG1ldGEpIHtcbiAgICBsZXQgZGF0YSA9IG51bGxcbiAgICBpZiAobWV0YS50eXBlID09PSAnYXVkaW8nKSB7XG4gICAgICBkYXRhID0gTVA0LmNvbnN0YW50cy5IRExSX0FVRElPXG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGEgPSBNUDQuY29uc3RhbnRzLkhETFJfVklERU9cbiAgICB9XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLmhkbHIsIGRhdGEpXG4gIH1cblxuICAvLyBNZWRpYSBpbmZvbWF0aW9uIGJveFxuICBzdGF0aWMgbWluZiAobWV0YSkge1xuICAgIGxldCB4bWhkID0gbnVsbFxuICAgIGlmIChtZXRhLnR5cGUgPT09ICdhdWRpbycpIHtcbiAgICAgIHhtaGQgPSBNUDQuYm94KE1QNC50eXBlcy5zbWhkLCBNUDQuY29uc3RhbnRzLlNNSEQpXG4gICAgfSBlbHNlIHtcbiAgICAgIHhtaGQgPSBNUDQuYm94KE1QNC50eXBlcy52bWhkLCBNUDQuY29uc3RhbnRzLlZNSEQpXG4gICAgfVxuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5taW5mLCB4bWhkLCBNUDQuZGluZigpLCBNUDQuc3RibChtZXRhKSlcbiAgfVxuXG4gIC8vIERhdGEgaW5mb21hdGlvbiBib3hcbiAgc3RhdGljIGRpbmYgKCkge1xuICAgIGxldCByZXN1bHQgPSBNUDQuYm94KE1QNC50eXBlcy5kaW5mLFxuICAgICAgTVA0LmJveChNUDQudHlwZXMuZHJlZiwgTVA0LmNvbnN0YW50cy5EUkVGKVxuICAgIClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvLyBTYW1wbGUgdGFibGUgYm94XG4gIHN0YXRpYyBzdGJsIChtZXRhKSB7XG4gICAgbGV0IHJlc3VsdCA9IE1QNC5ib3goTVA0LnR5cGVzLnN0YmwsIC8vIHR5cGU6IHN0YmxcbiAgICAgIE1QNC5zdHNkKG1ldGEpLCAvLyBTYW1wbGUgRGVzY3JpcHRpb24gVGFibGVcbiAgICAgIE1QNC5ib3goTVA0LnR5cGVzLnN0dHMsIE1QNC5jb25zdGFudHMuU1RUUyksIC8vIFRpbWUtVG8tU2FtcGxlXG4gICAgICBNUDQuYm94KE1QNC50eXBlcy5zdHNjLCBNUDQuY29uc3RhbnRzLlNUU0MpLCAvLyBTYW1wbGUtVG8tQ2h1bmtcbiAgICAgIE1QNC5ib3goTVA0LnR5cGVzLnN0c3osIE1QNC5jb25zdGFudHMuU1RTWiksIC8vIFNhbXBsZSBzaXplXG4gICAgICBNUDQuYm94KE1QNC50eXBlcy5zdGNvLCBNUDQuY29uc3RhbnRzLlNUQ08pIC8vIENodW5rIG9mZnNldFxuICAgIClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvLyBTYW1wbGUgZGVzY3JpcHRpb24gYm94XG4gIHN0YXRpYyBzdHNkIChtZXRhKSB7XG4gICAgaWYgKG1ldGEudHlwZSA9PT0gJ2F1ZGlvJykge1xuICAgICAgaWYgKG1ldGEuY29kZWMgPT09ICdtcDMnKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5zdHNkLCBNUDQuY29uc3RhbnRzLlNUU0RfUFJFRklYLCBNUDQubXAzKG1ldGEpKVxuICAgICAgfVxuICAgICAgLy8gZWxzZTogYWFjIC0+IG1wNGFcbiAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5zdHNkLCBNUDQuY29uc3RhbnRzLlNUU0RfUFJFRklYLCBNUDQubXA0YShtZXRhKSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnN0c2QsIE1QNC5jb25zdGFudHMuU1RTRF9QUkVGSVgsIE1QNC5hdmMxKG1ldGEpKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBtcDMgKG1ldGEpIHtcbiAgICBsZXQgY2hhbm5lbENvdW50ID0gbWV0YS5jaGFubmVsQ291bnRcbiAgICBsZXQgc2FtcGxlUmF0ZSA9IG1ldGEuYXVkaW9TYW1wbGVSYXRlXG5cbiAgICBsZXQgZGF0YSA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkKDQpXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxLCAvLyByZXNlcnZlZCgyKSArIGRhdGFfcmVmZXJlbmNlX2luZGV4KDIpXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZDogMiAqIDQgYnl0ZXNcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDAwLCBjaGFubmVsQ291bnQsIC8vIGNoYW5uZWxDb3VudCgyKVxuICAgICAgMHgwMCwgMHgxMCwgLy8gc2FtcGxlU2l6ZSgyKVxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWQoNClcbiAgICAgIChzYW1wbGVSYXRlID4+PiA4KSAmIDB4RkYsIC8vIEF1ZGlvIHNhbXBsZSByYXRlXG4gICAgICAoc2FtcGxlUmF0ZSkgJiAweEZGLFxuICAgICAgMHgwMCwgMHgwMFxuICAgIF0pXG5cbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXNbJy5tcDMnXSwgZGF0YSlcbiAgfVxuXG4gIHN0YXRpYyBtcDRhIChtZXRhKSB7XG4gICAgbGV0IGNoYW5uZWxDb3VudCA9IG1ldGEuY2hhbm5lbENvdW50XG4gICAgbGV0IHNhbXBsZVJhdGUgPSBtZXRhLmF1ZGlvU2FtcGxlUmF0ZVxuXG4gICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZCg0KVxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSwgLy8gcmVzZXJ2ZWQoMikgKyBkYXRhX3JlZmVyZW5jZV9pbmRleCgyKVxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWQ6IDIgKiA0IGJ5dGVzXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgMHgwMCwgY2hhbm5lbENvdW50LCAvLyBjaGFubmVsQ291bnQoMilcbiAgICAgIDB4MDAsIDB4MTAsIC8vIHNhbXBsZVNpemUoMilcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkKDQpXG4gICAgICAoc2FtcGxlUmF0ZSA+Pj4gOCkgJiAweEZGLCAvLyBBdWRpbyBzYW1wbGUgcmF0ZVxuICAgICAgKHNhbXBsZVJhdGUpICYgMHhGRixcbiAgICAgIDB4MDAsIDB4MDBcbiAgICBdKVxuXG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1wNGEsIGRhdGEsIE1QNC5lc2RzKG1ldGEpKVxuICB9XG5cbiAgc3RhdGljIGVzZHMgKG1ldGEpIHtcbiAgICBsZXQgY29uZmlnID0gbWV0YS5jb25maWcgfHwgW11cbiAgICBsZXQgY29uZmlnU2l6ZSA9IGNvbmZpZy5sZW5ndGhcbiAgICBsZXQgZGF0YSA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHZlcnNpb24gMCArIGZsYWdzXG5cbiAgICAgIDB4MDMsIC8vIGRlc2NyaXB0b3JfdHlwZVxuICAgICAgMHgxNyArIGNvbmZpZ1NpemUsIC8vIGxlbmd0aDNcbiAgICAgIDB4MDAsIDB4MDEsIC8vIGVzX2lkXG4gICAgICAweDAwLCAvLyBzdHJlYW1fcHJpb3JpdHlcblxuICAgICAgMHgwNCwgLy8gZGVzY3JpcHRvcl90eXBlXG4gICAgICAweDBGICsgY29uZmlnU2l6ZSwgLy8gbGVuZ3RoXG4gICAgICAweDQwLCAvLyBjb2RlYzogbXBlZzRfYXVkaW9cbiAgICAgIDB4MTUsIC8vIHN0cmVhbV90eXBlOiBBdWRpb1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gYnVmZmVyX3NpemVcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIG1heEJpdHJhdGVcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGF2Z0JpdHJhdGVcblxuICAgICAgMHgwNSAvLyBkZXNjcmlwdG9yX3R5cGVcbiAgICBdLmNvbmNhdChbXG4gICAgICBjb25maWdTaXplXG4gICAgXSkuY29uY2F0KFxuICAgICAgY29uZmlnXG4gICAgKS5jb25jYXQoW1xuICAgICAgMHgwNiwgMHgwMSwgMHgwMiAvLyBHQVNwZWNpZmljQ29uZmlnXG4gICAgXSkpXG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLmVzZHMsIGRhdGEpXG4gIH1cblxuICBzdGF0aWMgYXZjMSAobWV0YSkge1xuICAgIGxldCBhdmNjID0gbWV0YS5hdmNjXG4gICAgbGV0IHdpZHRoID0gbWV0YS5jb2RlY1dpZHRoLCBoZWlnaHQgPSBtZXRhLmNvZGVjSGVpZ2h0XG5cbiAgICBsZXQgZGF0YSA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkKDQpXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxLCAvLyByZXNlcnZlZCgyKSArIGRhdGFfcmVmZXJlbmNlX2luZGV4KDIpXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBwcmVfZGVmaW5lZCgyKSArIHJlc2VydmVkKDIpXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBwcmVfZGVmaW5lZDogMyAqIDQgYnl0ZXNcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgKHdpZHRoID4+PiA4KSAmIDB4RkYsIC8vIHdpZHRoOiAyIGJ5dGVzXG4gICAgICAod2lkdGgpICYgMHhGRixcbiAgICAgIChoZWlnaHQgPj4+IDgpICYgMHhGRiwgLy8gaGVpZ2h0OiAyIGJ5dGVzXG4gICAgICAoaGVpZ2h0KSAmIDB4RkYsXG4gICAgICAweDAwLCAweDQ4LCAweDAwLCAweDAwLCAvLyBob3JpenJlc29sdXRpb246IDQgYnl0ZXNcbiAgICAgIDB4MDAsIDB4NDgsIDB4MDAsIDB4MDAsIC8vIHZlcnRyZXNvbHV0aW9uOiA0IGJ5dGVzXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZDogNCBieXRlc1xuICAgICAgMHgwMCwgMHgwMSwgLy8gZnJhbWVfY291bnRcbiAgICAgIDB4MEEsIC8vIHN0cmxlblxuICAgICAgMHg3OCwgMHg3MSwgMHg3MSwgMHgyRiwgLy8gY29tcHJlc3Nvcm5hbWU6IDMyIGJ5dGVzXG4gICAgICAweDY2LCAweDZDLCAweDc2LCAweDJFLFxuICAgICAgMHg2QSwgMHg3MywgMHgwMCwgMHgwMCxcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgMHgwMCwgMHgxOCwgLy8gZGVwdGhcbiAgICAgIDB4RkYsIDB4RkYgLy8gcHJlX2RlZmluZWQgPSAtMVxuICAgIF0pXG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLmF2YzEsIGRhdGEsIE1QNC5ib3goTVA0LnR5cGVzLmF2Y0MsIGF2Y2MpKVxuICB9XG5cbiAgLy8gTW92aWUgRXh0ZW5kcyBib3hcbiAgc3RhdGljIG12ZXggKG1ldGEpIHtcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubXZleCwgTVA0LnRyZXgobWV0YSkpXG4gIH1cblxuICAvLyBUcmFjayBFeHRlbmRzIGJveFxuICBzdGF0aWMgdHJleCAobWV0YSkge1xuICAgIGxldCB0cmFja0lkID0gbWV0YS5pZFxuICAgIGxldCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAodHJhY2tJZCA+Pj4gMjQpICYgMHhGRiwgLy8gdHJhY2tfSURcbiAgICAgICh0cmFja0lkID4+PiAxNikgJiAweEZGLFxuICAgICAgKHRyYWNrSWQgPj4+IDgpICYgMHhGRixcbiAgICAgICh0cmFja0lkKSAmIDB4RkYsXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxLCAvLyBkZWZhdWx0X3NhbXBsZV9kZXNjcmlwdGlvbl9pbmRleFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZGVmYXVsdF9zYW1wbGVfZHVyYXRpb25cbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGRlZmF1bHRfc2FtcGxlX3NpemVcbiAgICAgIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDEgLy8gZGVmYXVsdF9zYW1wbGVfZmxhZ3NcbiAgICBdKVxuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy50cmV4LCBkYXRhKVxuICB9XG5cbiAgLy8gTW92aWUgZnJhZ21lbnQgYm94XG4gIHN0YXRpYyBtb29mICh0cmFjaywgYmFzZU1lZGlhRGVjb2RlVGltZSkge1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tb29mLCBNUDQubWZoZCh0cmFjay5zZXF1ZW5jZU51bWJlciksIE1QNC50cmFmKHRyYWNrLCBiYXNlTWVkaWFEZWNvZGVUaW1lKSlcbiAgfVxuXG4gIHN0YXRpYyBtZmhkIChzZXF1ZW5jZU51bWJlcikge1xuICAgIGxldCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgIChzZXF1ZW5jZU51bWJlciA+Pj4gMjQpICYgMHhGRiwgLy8gc2VxdWVuY2VfbnVtYmVyOiBpbnQzMlxuICAgICAgKHNlcXVlbmNlTnVtYmVyID4+PiAxNikgJiAweEZGLFxuICAgICAgKHNlcXVlbmNlTnVtYmVyID4+PiA4KSAmIDB4RkYsXG4gICAgICAoc2VxdWVuY2VOdW1iZXIpICYgMHhGRlxuICAgIF0pXG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1maGQsIGRhdGEpXG4gIH1cblxuICAvLyBUcmFjayBmcmFnbWVudCBib3hcbiAgc3RhdGljIHRyYWYgKHRyYWNrLCBiYXNlTWVkaWFEZWNvZGVUaW1lKSB7XG4gICAgbGV0IHRyYWNrSWQgPSB0cmFjay5pZFxuXG4gICAgLy8gVHJhY2sgZnJhZ21lbnQgaGVhZGVyIGJveFxuICAgIGxldCB0ZmhkID0gTVA0LmJveChNUDQudHlwZXMudGZoZCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdmVyc2lvbigwKSAmIGZsYWdzXG4gICAgICAodHJhY2tJZCA+Pj4gMjQpICYgMHhGRiwgLy8gdHJhY2tfSURcbiAgICAgICh0cmFja0lkID4+PiAxNikgJiAweEZGLFxuICAgICAgKHRyYWNrSWQgPj4+IDgpICYgMHhGRixcbiAgICAgICh0cmFja0lkKSAmIDB4RkZcbiAgICBdKSlcbiAgICAvLyBUcmFjayBGcmFnbWVudCBEZWNvZGUgVGltZVxuICAgIGxldCB0ZmR0ID0gTVA0LmJveChNUDQudHlwZXMudGZkdCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdmVyc2lvbigwKSAmIGZsYWdzXG4gICAgICAoYmFzZU1lZGlhRGVjb2RlVGltZSA+Pj4gMjQpICYgMHhGRiwgLy8gYmFzZU1lZGlhRGVjb2RlVGltZTogaW50MzJcbiAgICAgIChiYXNlTWVkaWFEZWNvZGVUaW1lID4+PiAxNikgJiAweEZGLFxuICAgICAgKGJhc2VNZWRpYURlY29kZVRpbWUgPj4+IDgpICYgMHhGRixcbiAgICAgIChiYXNlTWVkaWFEZWNvZGVUaW1lKSAmIDB4RkZcbiAgICBdKSlcbiAgICBsZXQgc2R0cCA9IE1QNC5zZHRwKHRyYWNrKVxuICAgIGxldCB0cnVuID0gTVA0LnRydW4odHJhY2ssIHNkdHAuYnl0ZUxlbmd0aCArIDE2ICsgMTYgKyA4ICsgMTYgKyA4ICsgOClcbiAgICBpZiAodHJhY2tJZCA9PT0gMSkge1xuICAgICAgLy8gY29uc29sZS5sb2codHJ1bilcbiAgICB9XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRyYWYsIHRmaGQsIHRmZHQsIHRydW4sIHNkdHApXG4gIH1cblxuICAvLyBTYW1wbGUgRGVwZW5kZW5jeSBUeXBlIGJveFxuICBzdGF0aWMgc2R0cCAodHJhY2spIHtcbiAgICBsZXQgc2FtcGxlcyA9IHRyYWNrLnNhbXBsZXMgfHwgW11cbiAgICBsZXQgc2FtcGxlQ291bnQgPSBzYW1wbGVzLmxlbmd0aFxuICAgIGxldCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoNCArIHNhbXBsZUNvdW50KVxuICAgIC8vIDB+NCBieXRlczogdmVyc2lvbigwKSAmIGZsYWdzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzYW1wbGVDb3VudDsgaSsrKSB7XG4gICAgICBsZXQgZmxhZ3MgPSBzYW1wbGVzW2ldLmZsYWdzXG4gICAgICBkYXRhW2kgKyA0XSA9IChmbGFncy5pc0xlYWRpbmcgPDwgNikgfCAvLyBpc19sZWFkaW5nOiAyIChiaXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAoZmxhZ3MuZGVwZW5kc09uIDw8IDQpIHwgLy8gc2FtcGxlX2RlcGVuZHNfb25cbiAgICAgICAgICAgICAgICAgICAgICAgIChmbGFncy5pc0RlcGVuZGVkT24gPDwgMikgfCAvLyBzYW1wbGVfaXNfZGVwZW5kZWRfb25cbiAgICAgICAgICAgICAgICAgICAgICAgIChmbGFncy5oYXNSZWR1bmRhbmN5KSAvLyBzYW1wbGVfaGFzX3JlZHVuZGFuY3lcbiAgICB9XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnNkdHAsIGRhdGEpXG4gIH1cblxuICAvLyBUcmFjayBmcmFnbWVudCBydW4gYm94XG4gIHN0YXRpYyB0cnVuICh0cmFjaywgb2Zmc2V0KSB7XG4gICAgbGV0IHNhbXBsZXMgPSB0cmFjay5zYW1wbGVzIHx8IFtdXG4gICAgbGV0IHNhbXBsZUNvdW50ID0gc2FtcGxlcy5sZW5ndGhcbiAgICBsZXQgZGF0YVNpemUgPSAxMiArIDE2ICogc2FtcGxlQ291bnRcbiAgICBsZXQgZGF0YSA9IG5ldyBVaW50OEFycmF5KGRhdGFTaXplKVxuICAgIG9mZnNldCArPSA4ICsgZGF0YVNpemVcblxuICAgIGRhdGEuc2V0KFtcbiAgICAgIDB4MDAsIDB4MDAsIDB4MEYsIDB4MDEsIC8vIHZlcnNpb24oMCkgJiBmbGFnc1xuICAgICAgKHNhbXBsZUNvdW50ID4+PiAyNCkgJiAweEZGLCAvLyBzYW1wbGVfY291bnRcbiAgICAgIChzYW1wbGVDb3VudCA+Pj4gMTYpICYgMHhGRixcbiAgICAgIChzYW1wbGVDb3VudCA+Pj4gOCkgJiAweEZGLFxuICAgICAgKHNhbXBsZUNvdW50KSAmIDB4RkYsXG4gICAgICAob2Zmc2V0ID4+PiAyNCkgJiAweEZGLCAvLyBkYXRhX29mZnNldFxuICAgICAgKG9mZnNldCA+Pj4gMTYpICYgMHhGRixcbiAgICAgIChvZmZzZXQgPj4+IDgpICYgMHhGRixcbiAgICAgIChvZmZzZXQpICYgMHhGRlxuICAgIF0sIDApXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNhbXBsZUNvdW50OyBpKyspIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHNhbXBsZXNbaV0uZHVyYXRpb24pXG4gICAgICBsZXQgZHVyYXRpb24gPSBzYW1wbGVzW2ldLmR1cmF0aW9uXG4gICAgICBsZXQgc2l6ZSA9IHNhbXBsZXNbaV0uc2l6ZVxuICAgICAgbGV0IGZsYWdzID0gc2FtcGxlc1tpXS5mbGFnc1xuICAgICAgbGV0IGN0cyA9IHNhbXBsZXNbaV0uY3RzXG4gICAgICBkYXRhLnNldChbXG4gICAgICAgIChkdXJhdGlvbiA+Pj4gMjQpICYgMHhGRiwgLy8gc2FtcGxlX2R1cmF0aW9uXG4gICAgICAgIChkdXJhdGlvbiA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgKGR1cmF0aW9uID4+PiA4KSAmIDB4RkYsXG4gICAgICAgIChkdXJhdGlvbikgJiAweEZGLFxuICAgICAgICAoc2l6ZSA+Pj4gMjQpICYgMHhGRiwgLy8gc2FtcGxlX3NpemVcbiAgICAgICAgKHNpemUgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgIChzaXplID4+PiA4KSAmIDB4RkYsXG4gICAgICAgIChzaXplKSAmIDB4RkYsXG4gICAgICAgIChmbGFncy5pc0xlYWRpbmcgPDwgMikgfCBmbGFncy5kZXBlbmRzT24sIC8vIHNhbXBsZV9mbGFnc1xuICAgICAgICAoZmxhZ3MuaXNEZXBlbmRlZE9uIDw8IDYpIHwgKGZsYWdzLmhhc1JlZHVuZGFuY3kgPDwgNCkgfCBmbGFncy5pc05vblN5bmMsXG4gICAgICAgIDB4MDAsIDB4MDAsIC8vIHNhbXBsZV9kZWdyYWRhdGlvbl9wcmlvcml0eVxuICAgICAgICAoY3RzID4+PiAyNCkgJiAweEZGLCAvLyBzYW1wbGVfY29tcG9zaXRpb25fdGltZV9vZmZzZXRcbiAgICAgICAgKGN0cyA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgKGN0cyA+Pj4gOCkgJiAweEZGLFxuICAgICAgICAoY3RzKSAmIDB4RkZcbiAgICAgIF0sIDEyICsgMTYgKiBpKVxuICAgIH1cbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJ1biwgZGF0YSlcbiAgfVxuXG4gIHN0YXRpYyBtZGF0IChkYXRhKSB7XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1kYXQsIGRhdGEpXG4gIH1cbn1cblxuTVA0LmluaXQoKVxuXG5leHBvcnQgZGVmYXVsdCBNUDRcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgTG9nIGZyb20gJy4uL3V0aWxzL2xvZ2dlci5qcyc7XG5pbXBvcnQgTVA0IGZyb20gJy4vbXA0LWdlbmVyYXRvci5qcyc7XG5pbXBvcnQgQUFDIGZyb20gJy4vYWFjLXNpbGVudC5qcyc7XG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi91dGlscy9icm93c2VyLmpzJztcbmltcG9ydCB7IFNhbXBsZUluZm8sIE1lZGlhU2VnbWVudEluZm8sIE1lZGlhU2VnbWVudEluZm9MaXN0IH0gZnJvbSAnLi4vY29yZS9tZWRpYS1zZWdtZW50LWluZm8uanMnO1xuaW1wb3J0IHsgSWxsZWdhbFN0YXRlRXhjZXB0aW9uIH0gZnJvbSAnLi4vdXRpbHMvZXhjZXB0aW9uLmpzJztcblxuXG4vLyBGcmFnbWVudGVkIG1wNCByZW11eGVyXG5jbGFzcyBNUDRSZW11eGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICB0aGlzLlRBRyA9ICdNUDRSZW11eGVyJztcblxuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuX2lzTGl2ZSA9IChjb25maWcuaXNMaXZlID09PSB0cnVlKSA/IHRydWUgOiBmYWxzZTtcblxuICAgICAgICB0aGlzLl9kdHNCYXNlID0gLTE7XG4gICAgICAgIHRoaXMuX2R0c0Jhc2VJbml0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fYXVkaW9EdHNCYXNlID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMuX3ZpZGVvRHRzQmFzZSA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLl9hdWRpb05leHREdHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3ZpZGVvTmV4dER0cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fYXVkaW9TdGFzaGVkTGFzdFNhbXBsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ZpZGVvU3Rhc2hlZExhc3RTYW1wbGUgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2F1ZGlvTWV0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ZpZGVvTWV0YSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fYXVkaW9TZWdtZW50SW5mb0xpc3QgPSBuZXcgTWVkaWFTZWdtZW50SW5mb0xpc3QoJ2F1ZGlvJyk7XG4gICAgICAgIHRoaXMuX3ZpZGVvU2VnbWVudEluZm9MaXN0ID0gbmV3IE1lZGlhU2VnbWVudEluZm9MaXN0KCd2aWRlbycpO1xuXG4gICAgICAgIHRoaXMuX29uSW5pdFNlZ21lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbk1lZGlhU2VnbWVudCA9IG51bGw7XG5cbiAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgY2hyb21lIDwgNTA6IEFsd2F5cyBmb3JjZSBmaXJzdCBzYW1wbGUgYXMgYSBSYW5kb20gQWNjZXNzIFBvaW50IGluIG1lZGlhIHNlZ21lbnRcbiAgICAgICAgLy8gc2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTIyOTQxMlxuICAgICAgICB0aGlzLl9mb3JjZUZpcnN0SURSID0gKEJyb3dzZXIuY2hyb21lICYmXG4gICAgICAgICAgICAoQnJvd3Nlci52ZXJzaW9uLm1ham9yIDwgNTAgfHxcbiAgICAgICAgICAgICAgICAoQnJvd3Nlci52ZXJzaW9uLm1ham9yID09PSA1MCAmJiBCcm93c2VyLnZlcnNpb24uYnVpbGQgPCAyNjYxKSkpID8gdHJ1ZSA6IGZhbHNlO1xuXG4gICAgICAgIC8vIFdvcmthcm91bmQgZm9yIElFMTEvRWRnZTogRmlsbCBzaWxlbnQgYWFjIGZyYW1lIGFmdGVyIGtleWZyYW1lLXNlZWtpbmdcbiAgICAgICAgLy8gTWFrZSBhdWRpbyBiZWdpbkR0cyBlcXVhbHMgd2l0aCB2aWRlbyBiZWdpbkR0cywgaW4gb3JkZXIgdG8gZml4IHNlZWsgZnJlZXplXG4gICAgICAgIHRoaXMuX2ZpbGxTaWxlbnRBZnRlclNlZWsgPSAoQnJvd3Nlci5tc2VkZ2UgfHwgQnJvd3Nlci5tc2llKTtcblxuICAgICAgICAvLyBXaGlsZSBvbmx5IEZpcmVGb3ggc3VwcG9ydHMgJ2F1ZGlvL21wNCwgY29kZWNzPVwibXAzXCInLCB1c2UgJ2F1ZGlvL21wZWcnIGZvciBjaHJvbWUsIHNhZmFyaSwgLi4uXG4gICAgICAgIHRoaXMuX21wM1VzZU1wZWdBdWRpbyA9ICFCcm93c2VyLmZpcmVmb3g7XG5cbiAgICAgICAgdGhpcy5fZmlsbEF1ZGlvVGltZXN0YW1wR2FwID0gdGhpcy5fY29uZmlnLmZpeEF1ZGlvVGltZXN0YW1wR2FwO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX2R0c0Jhc2UgPSAtMTtcbiAgICAgICAgdGhpcy5fZHRzQmFzZUluaXRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9hdWRpb01ldGEgPSBudWxsO1xuICAgICAgICB0aGlzLl92aWRlb01ldGEgPSBudWxsO1xuICAgICAgICB0aGlzLl9hdWRpb1NlZ21lbnRJbmZvTGlzdC5jbGVhcigpO1xuICAgICAgICB0aGlzLl9hdWRpb1NlZ21lbnRJbmZvTGlzdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ZpZGVvU2VnbWVudEluZm9MaXN0LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX3ZpZGVvU2VnbWVudEluZm9MaXN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25Jbml0U2VnbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uTWVkaWFTZWdtZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBiaW5kRGF0YVNvdXJjZShwcm9kdWNlcikge1xuICAgICAgICBwcm9kdWNlci5vbkRhdGFBdmFpbGFibGUgPSB0aGlzLnJlbXV4LmJpbmQodGhpcyk7XG4gICAgICAgIHByb2R1Y2VyLm9uVHJhY2tNZXRhZGF0YSA9IHRoaXMuX29uVHJhY2tNZXRhZGF0YVJlY2VpdmVkLmJpbmQodGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qIHByb3RvdHlwZTogZnVuY3Rpb24gb25Jbml0U2VnbWVudCh0eXBlOiBzdHJpbmcsIGluaXRTZWdtZW50OiBBcnJheUJ1ZmZlcik6IHZvaWRcbiAgICAgICBJbml0U2VnbWVudDoge1xuICAgICAgICAgICB0eXBlOiBzdHJpbmcsXG4gICAgICAgICAgIGRhdGE6IEFycmF5QnVmZmVyLFxuICAgICAgICAgICBjb2RlYzogc3RyaW5nLFxuICAgICAgICAgICBjb250YWluZXI6IHN0cmluZ1xuICAgICAgIH1cbiAgICAqL1xuICAgIGdldCBvbkluaXRTZWdtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25Jbml0U2VnbWVudDtcbiAgICB9XG5cbiAgICBzZXQgb25Jbml0U2VnbWVudChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbkluaXRTZWdtZW50ID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgLyogcHJvdG90eXBlOiBmdW5jdGlvbiBvbk1lZGlhU2VnbWVudCh0eXBlOiBzdHJpbmcsIG1lZGlhU2VnbWVudDogTWVkaWFTZWdtZW50KTogdm9pZFxuICAgICAgIE1lZGlhU2VnbWVudDoge1xuICAgICAgICAgICB0eXBlOiBzdHJpbmcsXG4gICAgICAgICAgIGRhdGE6IEFycmF5QnVmZmVyLFxuICAgICAgICAgICBzYW1wbGVDb3VudDogaW50MzJcbiAgICAgICAgICAgaW5mbzogTWVkaWFTZWdtZW50SW5mb1xuICAgICAgIH1cbiAgICAqL1xuICAgIGdldCBvbk1lZGlhU2VnbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uTWVkaWFTZWdtZW50O1xuICAgIH1cblxuICAgIHNldCBvbk1lZGlhU2VnbWVudChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbk1lZGlhU2VnbWVudCA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGluc2VydERpc2NvbnRpbnVpdHkoKSB7XG4gICAgICAgIHRoaXMuX2F1ZGlvTmV4dER0cyA9IHRoaXMuX3ZpZGVvTmV4dER0cyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBzZWVrKG9yaWdpbmFsRHRzKSB7XG4gICAgICAgIHRoaXMuX2F1ZGlvU3Rhc2hlZExhc3RTYW1wbGUgPSBudWxsO1xuICAgICAgICB0aGlzLl92aWRlb1N0YXNoZWRMYXN0U2FtcGxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fYXVkaW9TZWdtZW50SW5mb0xpc3QuY2xlYXIoKTtcbiAgICB9XG5cbiAgICByZW11eChhdWRpb1RyYWNrLCB2aWRlb1RyYWNrKSB7XG4gICAgICAgIGlmICghdGhpcy5fb25NZWRpYVNlZ21lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ01QNFJlbXV4ZXI6IG9uTWVkaWFTZWdtZW50IGNhbGxiYWNrIG11c3QgYmUgc3BlY2lmaWNlZCEnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2R0c0Jhc2VJbml0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZUR0c0Jhc2UoYXVkaW9UcmFjaywgdmlkZW9UcmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVtdXhWaWRlbyh2aWRlb1RyYWNrKTtcbiAgICAgICAgdGhpcy5fcmVtdXhBdWRpbyhhdWRpb1RyYWNrKTtcbiAgICB9XG5cbiAgICBfb25UcmFja01ldGFkYXRhUmVjZWl2ZWQodHlwZSwgbWV0YWRhdGEpIHtcbiAgICAgICAgbGV0IG1ldGFib3ggPSBudWxsO1xuXG4gICAgICAgIGxldCBjb250YWluZXIgPSAnbXA0JztcbiAgICAgICAgbGV0IGNvZGVjID0gbWV0YWRhdGEuY29kZWM7XG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICdhdWRpbycpIHtcbiAgICAgICAgICAgIHRoaXMuX2F1ZGlvTWV0YSA9IG1ldGFkYXRhO1xuICAgICAgICAgICAgaWYgKG1ldGFkYXRhLmNvZGVjID09PSAnbXAzJyAmJiB0aGlzLl9tcDNVc2VNcGVnQXVkaW8pIHtcbiAgICAgICAgICAgICAgICAvLyAnYXVkaW8vbXBlZycgZm9yIE1QMyBhdWRpbyB0cmFja1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9ICdtcGVnJztcbiAgICAgICAgICAgICAgICBjb2RlYyA9ICcnO1xuICAgICAgICAgICAgICAgIG1ldGFib3ggPSBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyAnYXVkaW8vbXA0LCBjb2RlY3M9XCJjb2RlY1wiJ1xuICAgICAgICAgICAgICAgIG1ldGFib3ggPSBNUDQuZ2VuZXJhdGVJbml0U2VnbWVudChtZXRhZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3ZpZGVvJykge1xuICAgICAgICAgICAgdGhpcy5fdmlkZW9NZXRhID0gbWV0YWRhdGE7XG4gICAgICAgICAgICBtZXRhYm94ID0gTVA0LmdlbmVyYXRlSW5pdFNlZ21lbnQobWV0YWRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGlzcGF0Y2ggbWV0YWJveCAoSW5pdGlhbGl6YXRpb24gU2VnbWVudClcbiAgICAgICAgaWYgKCF0aGlzLl9vbkluaXRTZWdtZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCdNUDRSZW11eGVyOiBvbkluaXRTZWdtZW50IGNhbGxiYWNrIG11c3QgYmUgc3BlY2lmaWVkIScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29uSW5pdFNlZ21lbnQodHlwZSwge1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGRhdGE6IG1ldGFib3guYnVmZmVyLFxuICAgICAgICAgICAgY29kZWM6IGNvZGVjLFxuICAgICAgICAgICAgY29udGFpbmVyOiBgJHt0eXBlfS8ke2NvbnRhaW5lcn1gLFxuICAgICAgICAgICAgbWVkaWFEdXJhdGlvbjogbWV0YWRhdGEuZHVyYXRpb24gIC8vIGluIHRpbWVzY2FsZSAxMDAwIChtaWxsaXNlY29uZHMpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9jYWxjdWxhdGVEdHNCYXNlKGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuX2R0c0Jhc2VJbml0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhdWRpb1RyYWNrLnNhbXBsZXMgJiYgYXVkaW9UcmFjay5zYW1wbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fYXVkaW9EdHNCYXNlID0gYXVkaW9UcmFjay5zYW1wbGVzWzBdLmR0cztcbiAgICAgICAgfVxuICAgICAgICBpZiAodmlkZW9UcmFjay5zYW1wbGVzICYmIHZpZGVvVHJhY2suc2FtcGxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZGVvRHRzQmFzZSA9IHZpZGVvVHJhY2suc2FtcGxlc1swXS5kdHM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kdHNCYXNlID0gTWF0aC5taW4odGhpcy5fYXVkaW9EdHNCYXNlLCB0aGlzLl92aWRlb0R0c0Jhc2UpO1xuICAgICAgICB0aGlzLl9kdHNCYXNlSW5pdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBmbHVzaFN0YXNoZWRTYW1wbGVzKCkge1xuICAgICAgICBsZXQgdmlkZW9TYW1wbGUgPSB0aGlzLl92aWRlb1N0YXNoZWRMYXN0U2FtcGxlO1xuICAgICAgICBsZXQgYXVkaW9TYW1wbGUgPSB0aGlzLl9hdWRpb1N0YXNoZWRMYXN0U2FtcGxlO1xuXG4gICAgICAgIGxldCB2aWRlb1RyYWNrID0ge1xuICAgICAgICAgICAgdHlwZTogJ3ZpZGVvJyxcbiAgICAgICAgICAgIGlkOiAxLFxuICAgICAgICAgICAgc2VxdWVuY2VOdW1iZXI6IDAsXG4gICAgICAgICAgICBzYW1wbGVzOiBbXSxcbiAgICAgICAgICAgIGxlbmd0aDogMFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh2aWRlb1NhbXBsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB2aWRlb1RyYWNrLnNhbXBsZXMucHVzaCh2aWRlb1NhbXBsZSk7XG4gICAgICAgICAgICB2aWRlb1RyYWNrLmxlbmd0aCA9IHZpZGVvU2FtcGxlLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBhdWRpb1RyYWNrID0ge1xuICAgICAgICAgICAgdHlwZTogJ2F1ZGlvJyxcbiAgICAgICAgICAgIGlkOiAyLFxuICAgICAgICAgICAgc2VxdWVuY2VOdW1iZXI6IDAsXG4gICAgICAgICAgICBzYW1wbGVzOiBbXSxcbiAgICAgICAgICAgIGxlbmd0aDogMFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChhdWRpb1NhbXBsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBhdWRpb1RyYWNrLnNhbXBsZXMucHVzaChhdWRpb1NhbXBsZSk7XG4gICAgICAgICAgICBhdWRpb1RyYWNrLmxlbmd0aCA9IGF1ZGlvU2FtcGxlLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3ZpZGVvU3Rhc2hlZExhc3RTYW1wbGUgPSBudWxsO1xuICAgICAgICB0aGlzLl9hdWRpb1N0YXNoZWRMYXN0U2FtcGxlID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9yZW11eFZpZGVvKHZpZGVvVHJhY2ssIHRydWUpO1xuICAgICAgICB0aGlzLl9yZW11eEF1ZGlvKGF1ZGlvVHJhY2ssIHRydWUpO1xuICAgIH1cblxuICAgIF9yZW11eEF1ZGlvKGF1ZGlvVHJhY2ssIGZvcmNlKSB7XG4gICAgICAgIGlmICh0aGlzLl9hdWRpb01ldGEgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRyYWNrID0gYXVkaW9UcmFjaztcbiAgICAgICAgbGV0IHNhbXBsZXMgPSB0cmFjay5zYW1wbGVzO1xuICAgICAgICBsZXQgZHRzQ29ycmVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGZpcnN0RHRzID0gLTEsIGxhc3REdHMgPSAtMSwgbGFzdFB0cyA9IC0xO1xuICAgICAgICBsZXQgcmVmU2FtcGxlRHVyYXRpb24gPSB0aGlzLl9hdWRpb01ldGEucmVmU2FtcGxlRHVyYXRpb247XG5cbiAgICAgICAgbGV0IG1wZWdSYXdUcmFjayA9IHRoaXMuX2F1ZGlvTWV0YS5jb2RlYyA9PT0gJ21wMycgJiYgdGhpcy5fbXAzVXNlTXBlZ0F1ZGlvO1xuICAgICAgICBsZXQgZmlyc3RTZWdtZW50QWZ0ZXJTZWVrID0gdGhpcy5fZHRzQmFzZUluaXRlZCAmJiB0aGlzLl9hdWRpb05leHREdHMgPT09IHVuZGVmaW5lZDtcblxuICAgICAgICBsZXQgaW5zZXJ0UHJlZml4U2lsZW50RnJhbWUgPSBmYWxzZTtcblxuICAgICAgICBpZiAoIXNhbXBsZXMgfHwgc2FtcGxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2FtcGxlcy5sZW5ndGggPT09IDEgJiYgIWZvcmNlKSB7XG4gICAgICAgICAgICAvLyBJZiBbc2FtcGxlIGNvdW50IGluIGN1cnJlbnQgYmF0Y2hdID09PSAxICYmIChmb3JjZSAhPSB0cnVlKVxuICAgICAgICAgICAgLy8gSWdub3JlIGFuZCBrZWVwIGluIGRlbXV4ZXIncyBxdWV1ZVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9ICAvLyBlbHNlIGlmIChmb3JjZSA9PT0gdHJ1ZSkgZG8gcmVtdXhcblxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgbGV0IG1kYXRib3ggPSBudWxsO1xuICAgICAgICBsZXQgbWRhdEJ5dGVzID0gMDtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgaW5pdGlhbCBtZGF0IHNpemVcbiAgICAgICAgaWYgKG1wZWdSYXdUcmFjaykge1xuICAgICAgICAgICAgLy8gZm9yIHJhdyBtcGVnIGJ1ZmZlclxuICAgICAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIG1kYXRCeXRlcyA9IHRyYWNrLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGZvciBmbXA0IG1kYXQgYm94XG4gICAgICAgICAgICBvZmZzZXQgPSA4OyAgLy8gc2l6ZSArIHR5cGVcbiAgICAgICAgICAgIG1kYXRCeXRlcyA9IDggKyB0cmFjay5sZW5ndGg7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGxldCBsYXN0U2FtcGxlID0gbnVsbDtcblxuICAgICAgICAvLyBQb3AgdGhlIGxhc3RTYW1wbGUgYW5kIHdhaXRpbmcgZm9yIHN0YXNoXG4gICAgICAgIGlmIChzYW1wbGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGxhc3RTYW1wbGUgPSBzYW1wbGVzLnBvcCgpO1xuICAgICAgICAgICAgbWRhdEJ5dGVzIC09IGxhc3RTYW1wbGUubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5zZXJ0IFtzdGFzaGVkIGxhc3RTYW1wbGUgaW4gdGhlIHByZXZpb3VzIGJhdGNoXSB0byB0aGUgZnJvbnRcbiAgICAgICAgaWYgKHRoaXMuX2F1ZGlvU3Rhc2hlZExhc3RTYW1wbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IHNhbXBsZSA9IHRoaXMuX2F1ZGlvU3Rhc2hlZExhc3RTYW1wbGU7XG4gICAgICAgICAgICB0aGlzLl9hdWRpb1N0YXNoZWRMYXN0U2FtcGxlID0gbnVsbDtcbiAgICAgICAgICAgIHNhbXBsZXMudW5zaGlmdChzYW1wbGUpO1xuICAgICAgICAgICAgbWRhdEJ5dGVzICs9IHNhbXBsZS5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdGFzaCB0aGUgbGFzdFNhbXBsZSBvZiBjdXJyZW50IGJhdGNoLCB3YWl0aW5nIGZvciBuZXh0IGJhdGNoXG4gICAgICAgIGlmIChsYXN0U2FtcGxlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2F1ZGlvU3Rhc2hlZExhc3RTYW1wbGUgPSBsYXN0U2FtcGxlO1xuICAgICAgICB9XG5cblxuICAgICAgICBsZXQgZmlyc3RTYW1wbGVPcmlnaW5hbER0cyA9IHNhbXBsZXNbMF0uZHRzIC0gdGhpcy5fZHRzQmFzZTtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgZHRzQ29ycmVjdGlvblxuICAgICAgICBpZiAodGhpcy5fYXVkaW9OZXh0RHRzKSB7XG4gICAgICAgICAgICBkdHNDb3JyZWN0aW9uID0gZmlyc3RTYW1wbGVPcmlnaW5hbER0cyAtIHRoaXMuX2F1ZGlvTmV4dER0cztcbiAgICAgICAgfSBlbHNlIHsgIC8vIHRoaXMuX2F1ZGlvTmV4dER0cyA9PSB1bmRlZmluZWRcbiAgICAgICAgICAgIGlmICh0aGlzLl9hdWRpb1NlZ21lbnRJbmZvTGlzdC5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICBkdHNDb3JyZWN0aW9uID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZmlsbFNpbGVudEFmdGVyU2VlayAmJiAhdGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hdWRpb01ldGEub3JpZ2luYWxDb2RlYyAhPT0gJ21wMycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydFByZWZpeFNpbGVudEZyYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGxhc3RTYW1wbGUgPSB0aGlzLl9hdWRpb1NlZ21lbnRJbmZvTGlzdC5nZXRMYXN0U2FtcGxlQmVmb3JlKGZpcnN0U2FtcGxlT3JpZ2luYWxEdHMpO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0U2FtcGxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpc3RhbmNlID0gKGZpcnN0U2FtcGxlT3JpZ2luYWxEdHMgLSAobGFzdFNhbXBsZS5vcmlnaW5hbER0cyArIGxhc3RTYW1wbGUuZHVyYXRpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDw9IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgZXhwZWN0ZWREdHMgPSBsYXN0U2FtcGxlLmR0cyArIGxhc3RTYW1wbGUuZHVyYXRpb24gKyBkaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgZHRzQ29ycmVjdGlvbiA9IGZpcnN0U2FtcGxlT3JpZ2luYWxEdHMgLSBleHBlY3RlZER0cztcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBsYXN0U2FtcGxlID09IG51bGwsIGNhbm5vdCBmb3VuZFxuICAgICAgICAgICAgICAgICAgICBkdHNDb3JyZWN0aW9uID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5zZXJ0UHJlZml4U2lsZW50RnJhbWUpIHtcbiAgICAgICAgICAgIC8vIGFsaWduIGF1ZGlvIHNlZ21lbnQgYmVnaW5EdHMgdG8gbWF0Y2ggd2l0aCBjdXJyZW50IHZpZGVvIHNlZ21lbnQncyBiZWdpbkR0c1xuICAgICAgICAgICAgbGV0IGZpcnN0U2FtcGxlRHRzID0gZmlyc3RTYW1wbGVPcmlnaW5hbER0cyAtIGR0c0NvcnJlY3Rpb247XG4gICAgICAgICAgICBsZXQgdmlkZW9TZWdtZW50ID0gdGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuZ2V0TGFzdFNlZ21lbnRCZWZvcmUoZmlyc3RTYW1wbGVPcmlnaW5hbER0cyk7XG4gICAgICAgICAgICBpZiAodmlkZW9TZWdtZW50ICE9IG51bGwgJiYgdmlkZW9TZWdtZW50LmJlZ2luRHRzIDwgZmlyc3RTYW1wbGVEdHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2lsZW50VW5pdCA9IEFBQy5nZXRTaWxlbnRGcmFtZSh0aGlzLl9hdWRpb01ldGEub3JpZ2luYWxDb2RlYywgdGhpcy5fYXVkaW9NZXRhLmNoYW5uZWxDb3VudCk7XG4gICAgICAgICAgICAgICAgaWYgKHNpbGVudFVuaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGR0cyA9IHZpZGVvU2VnbWVudC5iZWdpbkR0cztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNpbGVudEZyYW1lRHVyYXRpb24gPSBmaXJzdFNhbXBsZUR0cyAtIHZpZGVvU2VnbWVudC5iZWdpbkR0cztcbiAgICAgICAgICAgICAgICAgICAgTG9nLnYodGhpcy5UQUcsIGBJbnNlcnRQcmVmaXhTaWxlbnRBdWRpbzogZHRzOiAke2R0c30sIGR1cmF0aW9uOiAke3NpbGVudEZyYW1lRHVyYXRpb259YCk7XG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZXMudW5zaGlmdCh7IHVuaXQ6IHNpbGVudFVuaXQsIGR0czogZHRzLCBwdHM6IGR0cyB9KTtcbiAgICAgICAgICAgICAgICAgICAgbWRhdEJ5dGVzICs9IHNpbGVudFVuaXQuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICB9ICAvLyBzaWxlbnRVbml0ID09IG51bGw6IENhbm5vdCBnZW5lcmF0ZSwgc2tpcFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbnNlcnRQcmVmaXhTaWxlbnRGcmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1wNFNhbXBsZXMgPSBbXTtcblxuICAgICAgICAvLyBDb3JyZWN0IGR0cyBmb3IgZWFjaCBzYW1wbGUsIGFuZCBjYWxjdWxhdGUgc2FtcGxlIGR1cmF0aW9uLiBUaGVuIG91dHB1dCB0byBtcDRTYW1wbGVzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHNhbXBsZSA9IHNhbXBsZXNbaV07XG4gICAgICAgICAgICBsZXQgdW5pdCA9IHNhbXBsZS51bml0O1xuICAgICAgICAgICAgbGV0IG9yaWdpbmFsRHRzID0gc2FtcGxlLmR0cyAtIHRoaXMuX2R0c0Jhc2U7XG4gICAgICAgICAgICBsZXQgZHRzID0gb3JpZ2luYWxEdHM7XG4gICAgICAgICAgICBsZXQgbmVlZEZpbGxTaWxlbnRGcmFtZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBzaWxlbnRGcmFtZXMgPSBudWxsO1xuICAgICAgICAgICAgbGV0IHNhbXBsZUR1cmF0aW9uID0gMDtcblxuICAgICAgICAgICAgaWYgKG9yaWdpbmFsRHRzIDwgLTAuMDAxKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7IC8vcGFzcyB0aGUgZmlyc3Qgc2FtcGxlIHdpdGggdGhlIGludmFsaWQgZHRzXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9hdWRpb01ldGEuY29kZWMgIT09ICdtcDMnKSB7XG4gICAgICAgICAgICAgICAgLy8gZm9yIEFBQyBjb2RlYywgd2UgbmVlZCB0byBrZWVwIGR0cyBpbmNyZWFzZSBiYXNlZCBvbiByZWZTYW1wbGVEdXJhdGlvblxuICAgICAgICAgICAgICAgIGxldCBjdXJSZWZEdHMgPSBvcmlnaW5hbER0cztcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhBdWRpb0ZyYW1lc0RyaWZ0ID0gMztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYXVkaW9OZXh0RHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1clJlZkR0cyA9IHRoaXMuX2F1ZGlvTmV4dER0cztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkdHNDb3JyZWN0aW9uID0gb3JpZ2luYWxEdHMgLSBjdXJSZWZEdHM7XG4gICAgICAgICAgICAgICAgaWYgKGR0c0NvcnJlY3Rpb24gPD0gLW1heEF1ZGlvRnJhbWVzRHJpZnQgKiByZWZTYW1wbGVEdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSdyZSBvdmVybGFwcGluZyBieSBtb3JlIHRoYW4gbWF4QXVkaW9GcmFtZXNEcmlmdCBudW1iZXIgb2YgZnJhbWUsIGRyb3AgdGhpcyBzYW1wbGVcbiAgICAgICAgICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsIGBEcm9wcGluZyAxIGF1ZGlvIGZyYW1lIChvcmlnaW5hbER0czogJHtvcmlnaW5hbER0c30gbXMgLGN1clJlZkR0czogJHtjdXJSZWZEdHN9IG1zKSAgZHVlIHRvIGR0c0NvcnJlY3Rpb246ICR7ZHRzQ29ycmVjdGlvbn0gbXMgb3ZlcmxhcC5gKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGR0c0NvcnJlY3Rpb24gPj0gbWF4QXVkaW9GcmFtZXNEcmlmdCAqIHJlZlNhbXBsZUR1cmF0aW9uICYmIHRoaXMuX2ZpbGxBdWRpb1RpbWVzdGFtcEdhcCAmJiAhQnJvd3Nlci5zYWZhcmkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2lsZW50IGZyYW1lIGdlbmVyYXRpb24sIGlmIGxhcmdlIHRpbWVzdGFtcCBnYXAgZGV0ZWN0ZWQgJiYgY29uZmlnLmZpeEF1ZGlvVGltZXN0YW1wR2FwXG4gICAgICAgICAgICAgICAgICAgIG5lZWRGaWxsU2lsZW50RnJhbWVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBpbnNlcnQgc2lsZW50IGZyYW1lcyB0byBmaWxsIHRpbWVzdGFtcCBnYXBcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZyYW1lQ291bnQgPSBNYXRoLmZsb29yKGR0c0NvcnJlY3Rpb24gLyByZWZTYW1wbGVEdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCAnTGFyZ2UgYXVkaW8gdGltZXN0YW1wIGdhcCBkZXRlY3RlZCwgbWF5IGNhdXNlIEFWIHN5bmMgdG8gZHJpZnQuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1NpbGVudCBmcmFtZXMgd2lsbCBiZSBnZW5lcmF0ZWQgdG8gYXZvaWQgdW5zeW5jLlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYG9yaWdpbmFsRHRzOiAke29yaWdpbmFsRHRzfSBtcywgY3VyUmVmRHRzOiAke2N1clJlZkR0c30gbXMsIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGR0c0NvcnJlY3Rpb246ICR7TWF0aC5yb3VuZChkdHNDb3JyZWN0aW9uKX0gbXMsIGdlbmVyYXRlOiAke2ZyYW1lQ291bnR9IGZyYW1lc2ApO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgZHRzID0gTWF0aC5mbG9vcihjdXJSZWZEdHMpO1xuICAgICAgICAgICAgICAgICAgICBzYW1wbGVEdXJhdGlvbiA9IE1hdGguZmxvb3IoY3VyUmVmRHRzICsgcmVmU2FtcGxlRHVyYXRpb24pIC0gZHRzO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBzaWxlbnRVbml0ID0gQUFDLmdldFNpbGVudEZyYW1lKHRoaXMuX2F1ZGlvTWV0YS5vcmlnaW5hbENvZGVjLCB0aGlzLl9hdWRpb01ldGEuY2hhbm5lbENvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpbGVudFVuaXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsICdVbmFibGUgdG8gZ2VuZXJhdGUgc2lsZW50IGZyYW1lIGZvciAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHt0aGlzLl9hdWRpb01ldGEub3JpZ2luYWxDb2RlY30gd2l0aCAke3RoaXMuX2F1ZGlvTWV0YS5jaGFubmVsQ291bnR9IGNoYW5uZWxzLCByZXBlYXQgbGFzdCBmcmFtZWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVwZWF0IGxhc3QgZnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpbGVudFVuaXQgPSB1bml0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNpbGVudEZyYW1lcyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZnJhbWVDb3VudDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJSZWZEdHMgPSBjdXJSZWZEdHMgKyByZWZTYW1wbGVEdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbnREdHMgPSBNYXRoLmZsb29yKGN1clJlZkR0cyk7ICAvLyBjaGFuZ2UgdG8gaW50ZWdlclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGludER1cmF0aW9uID0gTWF0aC5mbG9vcihjdXJSZWZEdHMgKyByZWZTYW1wbGVEdXJhdGlvbikgLSBpbnREdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZnJhbWUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHRzOiBpbnREdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHRzOiBpbnREdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RzOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXQ6IHNpbGVudFVuaXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogc2lsZW50VW5pdC5ieXRlTGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBpbnREdXJhdGlvbiwgIC8vIHdhaXQgZm9yIG5leHQgc2FtcGxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxEdHM6IG9yaWdpbmFsRHRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTGVhZGluZzogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kc09uOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0RlcGVuZGVkT246IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc1JlZHVuZGFuY3k6IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgc2lsZW50RnJhbWVzLnB1c2goZnJhbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWRhdEJ5dGVzICs9IHVuaXQuYnl0ZUxlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXVkaW9OZXh0RHRzID0gY3VyUmVmRHRzICsgcmVmU2FtcGxlRHVyYXRpb247XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGR0cyA9IE1hdGguZmxvb3IoY3VyUmVmRHRzKTtcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlRHVyYXRpb24gPSBNYXRoLmZsb29yKGN1clJlZkR0cyArIHJlZlNhbXBsZUR1cmF0aW9uKSAtIGR0cztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXVkaW9OZXh0RHRzID0gY3VyUmVmRHRzICsgcmVmU2FtcGxlRHVyYXRpb247XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGtlZXAgdGhlIG9yaWdpbmFsIGR0cyBjYWxjdWxhdGUgYWxnb3JpdGhtIGZvciBtcDNcbiAgICAgICAgICAgICAgICBkdHMgPSBvcmlnaW5hbER0cyAtIGR0c0NvcnJlY3Rpb247XG5cblxuICAgICAgICAgICAgICAgIGlmIChpICE9PSBzYW1wbGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5leHREdHMgPSBzYW1wbGVzW2kgKyAxXS5kdHMgLSB0aGlzLl9kdHNCYXNlIC0gZHRzQ29ycmVjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlRHVyYXRpb24gPSBuZXh0RHRzIC0gZHRzO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAvLyB0aGUgbGFzdCBzYW1wbGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RTYW1wbGUgIT0gbnVsbCkgeyAgLy8gdXNlIHN0YXNoZWQgc2FtcGxlJ3MgZHRzIHRvIGNhbGN1bGF0ZSBzYW1wbGUgZHVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXh0RHRzID0gbGFzdFNhbXBsZS5kdHMgLSB0aGlzLl9kdHNCYXNlIC0gZHRzQ29ycmVjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZUR1cmF0aW9uID0gbmV4dER0cyAtIGR0cztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtcDRTYW1wbGVzLmxlbmd0aCA+PSAxKSB7ICAvLyB1c2Ugc2Vjb25kIGxhc3Qgc2FtcGxlIGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBzYW1wbGVEdXJhdGlvbiA9IG1wNFNhbXBsZXNbbXA0U2FtcGxlcy5sZW5ndGggLSAxXS5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgIC8vIHRoZSBvbmx5IG9uZSBzYW1wbGUsIHVzZSByZWZlcmVuY2Ugc2FtcGxlIGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBzYW1wbGVEdXJhdGlvbiA9IE1hdGguZmxvb3IocmVmU2FtcGxlRHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvTmV4dER0cyA9IGR0cyArIHNhbXBsZUR1cmF0aW9uO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZmlyc3REdHMgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgZmlyc3REdHMgPSBkdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtcDRTYW1wbGVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGR0czogZHRzLFxuICAgICAgICAgICAgICAgIHB0czogZHRzLFxuICAgICAgICAgICAgICAgIGN0czogMCxcbiAgICAgICAgICAgICAgICB1bml0OiBzYW1wbGUudW5pdCxcbiAgICAgICAgICAgICAgICBzaXplOiBzYW1wbGUudW5pdC5ieXRlTGVuZ3RoLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBzYW1wbGVEdXJhdGlvbixcbiAgICAgICAgICAgICAgICBvcmlnaW5hbER0czogb3JpZ2luYWxEdHMsXG4gICAgICAgICAgICAgICAgZmxhZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgaXNMZWFkaW5nOiAwLFxuICAgICAgICAgICAgICAgICAgICBkZXBlbmRzT246IDEsXG4gICAgICAgICAgICAgICAgICAgIGlzRGVwZW5kZWRPbjogMCxcbiAgICAgICAgICAgICAgICAgICAgaGFzUmVkdW5kYW5jeTogMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAobmVlZEZpbGxTaWxlbnRGcmFtZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBTaWxlbnQgZnJhbWVzIHNob3VsZCBiZSBpbnNlcnRlZCBhZnRlciB3cm9uZy1kdXJhdGlvbiBmcmFtZVxuICAgICAgICAgICAgICAgIG1wNFNhbXBsZXMucHVzaC5hcHBseShtcDRTYW1wbGVzLCBzaWxlbnRGcmFtZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1wNFNhbXBsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvL25vIHNhbXBsZXMgbmVlZCB0byByZW11eFxuICAgICAgICAgICAgdHJhY2suc2FtcGxlcyA9IFtdO1xuICAgICAgICAgICAgdHJhY2subGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFsbG9jYXRlIG1kYXRib3hcbiAgICAgICAgaWYgKG1wZWdSYXdUcmFjaykge1xuICAgICAgICAgICAgLy8gYWxsb2NhdGUgZm9yIHJhdyBtcGVnIGJ1ZmZlclxuICAgICAgICAgICAgbWRhdGJveCA9IG5ldyBVaW50OEFycmF5KG1kYXRCeXRlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBhbGxvY2F0ZSBmb3IgZm1wNCBtZGF0IGJveFxuICAgICAgICAgICAgbWRhdGJveCA9IG5ldyBVaW50OEFycmF5KG1kYXRCeXRlcyk7XG4gICAgICAgICAgICAvLyBzaXplIGZpZWxkXG4gICAgICAgICAgICBtZGF0Ym94WzBdID0gKG1kYXRCeXRlcyA+Pj4gMjQpICYgMHhGRjtcbiAgICAgICAgICAgIG1kYXRib3hbMV0gPSAobWRhdEJ5dGVzID4+PiAxNikgJiAweEZGO1xuICAgICAgICAgICAgbWRhdGJveFsyXSA9IChtZGF0Qnl0ZXMgPj4+IDgpICYgMHhGRjtcbiAgICAgICAgICAgIG1kYXRib3hbM10gPSAobWRhdEJ5dGVzKSAmIDB4RkY7XG4gICAgICAgICAgICAvLyB0eXBlIGZpZWxkIChmb3VyQ0MpXG4gICAgICAgICAgICBtZGF0Ym94LnNldChNUDQudHlwZXMubWRhdCwgNCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXcml0ZSBzYW1wbGVzIGludG8gbWRhdGJveFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1wNFNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB1bml0ID0gbXA0U2FtcGxlc1tpXS51bml0O1xuICAgICAgICAgICAgbWRhdGJveC5zZXQodW5pdCwgb2Zmc2V0KTtcbiAgICAgICAgICAgIG9mZnNldCArPSB1bml0LmJ5dGVMZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGF0ZXN0ID0gbXA0U2FtcGxlc1ttcDRTYW1wbGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICBsYXN0RHRzID0gbGF0ZXN0LmR0cyArIGxhdGVzdC5kdXJhdGlvbjtcbiAgICAgICAgLy90aGlzLl9hdWRpb05leHREdHMgPSBsYXN0RHRzO1xuXG4gICAgICAgIC8vIGZpbGwgbWVkaWEgc2VnbWVudCBpbmZvICYgYWRkIHRvIGluZm8gbGlzdFxuICAgICAgICBsZXQgaW5mbyA9IG5ldyBNZWRpYVNlZ21lbnRJbmZvKCk7XG4gICAgICAgIGluZm8uYmVnaW5EdHMgPSBmaXJzdER0cztcbiAgICAgICAgaW5mby5lbmREdHMgPSBsYXN0RHRzO1xuICAgICAgICBpbmZvLmJlZ2luUHRzID0gZmlyc3REdHM7XG4gICAgICAgIGluZm8uZW5kUHRzID0gbGFzdER0cztcbiAgICAgICAgaW5mby5vcmlnaW5hbEJlZ2luRHRzID0gbXA0U2FtcGxlc1swXS5vcmlnaW5hbER0cztcbiAgICAgICAgaW5mby5vcmlnaW5hbEVuZER0cyA9IGxhdGVzdC5vcmlnaW5hbER0cyArIGxhdGVzdC5kdXJhdGlvbjtcbiAgICAgICAgaW5mby5maXJzdFNhbXBsZSA9IG5ldyBTYW1wbGVJbmZvKG1wNFNhbXBsZXNbMF0uZHRzLFxuICAgICAgICAgICAgbXA0U2FtcGxlc1swXS5wdHMsXG4gICAgICAgICAgICBtcDRTYW1wbGVzWzBdLmR1cmF0aW9uLFxuICAgICAgICAgICAgbXA0U2FtcGxlc1swXS5vcmlnaW5hbER0cyxcbiAgICAgICAgICAgIGZhbHNlKTtcbiAgICAgICAgaW5mby5sYXN0U2FtcGxlID0gbmV3IFNhbXBsZUluZm8obGF0ZXN0LmR0cyxcbiAgICAgICAgICAgIGxhdGVzdC5wdHMsXG4gICAgICAgICAgICBsYXRlc3QuZHVyYXRpb24sXG4gICAgICAgICAgICBsYXRlc3Qub3JpZ2luYWxEdHMsXG4gICAgICAgICAgICBmYWxzZSk7XG4gICAgICAgIGlmICghdGhpcy5faXNMaXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9hdWRpb1NlZ21lbnRJbmZvTGlzdC5hcHBlbmQoaW5mbyk7XG4gICAgICAgIH1cblxuICAgICAgICB0cmFjay5zYW1wbGVzID0gbXA0U2FtcGxlcztcbiAgICAgICAgdHJhY2suc2VxdWVuY2VOdW1iZXIrKztcblxuICAgICAgICBsZXQgbW9vZmJveCA9IG51bGw7XG5cbiAgICAgICAgaWYgKG1wZWdSYXdUcmFjaykge1xuICAgICAgICAgICAgLy8gR2VuZXJhdGUgZW1wdHkgYnVmZmVyLCBiZWNhdXNlIHVzZWxlc3MgZm9yIHJhdyBtcGVnXG4gICAgICAgICAgICBtb29mYm94ID0gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIG1vb2YgZm9yIGZtcDQgc2VnbWVudFxuICAgICAgICAgICAgbW9vZmJveCA9IE1QNC5tb29mKHRyYWNrLCBmaXJzdER0cyk7XG4gICAgICAgIH1cblxuICAgICAgICB0cmFjay5zYW1wbGVzID0gW107XG4gICAgICAgIHRyYWNrLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgbGV0IHNlZ21lbnQgPSB7XG4gICAgICAgICAgICB0eXBlOiAnYXVkaW8nLFxuICAgICAgICAgICAgZGF0YTogdGhpcy5fbWVyZ2VCb3hlcyhtb29mYm94LCBtZGF0Ym94KS5idWZmZXIsXG4gICAgICAgICAgICBzYW1wbGVDb3VudDogbXA0U2FtcGxlcy5sZW5ndGgsXG4gICAgICAgICAgICBpbmZvOiBpbmZvXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG1wZWdSYXdUcmFjayAmJiBmaXJzdFNlZ21lbnRBZnRlclNlZWspIHtcbiAgICAgICAgICAgIC8vIEZvciBNUEVHIGF1ZGlvIHN0cmVhbSBpbiBNU0UsIGlmIHNlZWtpbmcgb2NjdXJyZWQsIGJlZm9yZSBhcHBlbmRpbmcgbmV3IGJ1ZmZlclxuICAgICAgICAgICAgLy8gV2UgbmVlZCBleHBsaWNpdGx5IHNldCB0aW1lc3RhbXBPZmZzZXQgdG8gdGhlIGRlc2lyZWQgcG9pbnQgaW4gdGltZWxpbmUgZm9yIG1wZWcgU291cmNlQnVmZmVyLlxuICAgICAgICAgICAgc2VnbWVudC50aW1lc3RhbXBPZmZzZXQgPSBmaXJzdER0cztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX29uTWVkaWFTZWdtZW50KCdhdWRpbycsIHNlZ21lbnQpO1xuICAgIH1cblxuICAgIF9yZW11eFZpZGVvKHZpZGVvVHJhY2ssIGZvcmNlKSB7XG4gICAgICAgIGlmICh0aGlzLl92aWRlb01ldGEgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRyYWNrID0gdmlkZW9UcmFjaztcbiAgICAgICAgbGV0IHNhbXBsZXMgPSB0cmFjay5zYW1wbGVzO1xuICAgICAgICBsZXQgZHRzQ29ycmVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGZpcnN0RHRzID0gLTEsIGxhc3REdHMgPSAtMTtcbiAgICAgICAgbGV0IGZpcnN0UHRzID0gLTEsIGxhc3RQdHMgPSAtMTtcblxuICAgICAgICBpZiAoIXNhbXBsZXMgfHwgc2FtcGxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2FtcGxlcy5sZW5ndGggPT09IDEgJiYgIWZvcmNlKSB7XG4gICAgICAgICAgICAvLyBJZiBbc2FtcGxlIGNvdW50IGluIGN1cnJlbnQgYmF0Y2hdID09PSAxICYmIChmb3JjZSAhPSB0cnVlKVxuICAgICAgICAgICAgLy8gSWdub3JlIGFuZCBrZWVwIGluIGRlbXV4ZXIncyBxdWV1ZVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9ICAvLyBlbHNlIGlmIChmb3JjZSA9PT0gdHJ1ZSkgZG8gcmVtdXhcblxuICAgICAgICBsZXQgb2Zmc2V0ID0gODtcbiAgICAgICAgbGV0IG1kYXRib3ggPSBudWxsO1xuICAgICAgICBsZXQgbWRhdEJ5dGVzID0gOCArIHZpZGVvVHJhY2subGVuZ3RoO1xuXG5cbiAgICAgICAgbGV0IGxhc3RTYW1wbGUgPSBudWxsO1xuXG4gICAgICAgIC8vIFBvcCB0aGUgbGFzdFNhbXBsZSBhbmQgd2FpdGluZyBmb3Igc3Rhc2hcbiAgICAgICAgaWYgKHNhbXBsZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgbGFzdFNhbXBsZSA9IHNhbXBsZXMucG9wKCk7XG4gICAgICAgICAgICBtZGF0Qnl0ZXMgLT0gbGFzdFNhbXBsZS5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbnNlcnQgW3N0YXNoZWQgbGFzdFNhbXBsZSBpbiB0aGUgcHJldmlvdXMgYmF0Y2hdIHRvIHRoZSBmcm9udFxuICAgICAgICBpZiAodGhpcy5fdmlkZW9TdGFzaGVkTGFzdFNhbXBsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgc2FtcGxlID0gdGhpcy5fdmlkZW9TdGFzaGVkTGFzdFNhbXBsZTtcbiAgICAgICAgICAgIHRoaXMuX3ZpZGVvU3Rhc2hlZExhc3RTYW1wbGUgPSBudWxsO1xuICAgICAgICAgICAgc2FtcGxlcy51bnNoaWZ0KHNhbXBsZSk7XG4gICAgICAgICAgICBtZGF0Qnl0ZXMgKz0gc2FtcGxlLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0YXNoIHRoZSBsYXN0U2FtcGxlIG9mIGN1cnJlbnQgYmF0Y2gsIHdhaXRpbmcgZm9yIG5leHQgYmF0Y2hcbiAgICAgICAgaWYgKGxhc3RTYW1wbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fdmlkZW9TdGFzaGVkTGFzdFNhbXBsZSA9IGxhc3RTYW1wbGU7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGxldCBmaXJzdFNhbXBsZU9yaWdpbmFsRHRzID0gc2FtcGxlc1swXS5kdHMgLSB0aGlzLl9kdHNCYXNlO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBkdHNDb3JyZWN0aW9uXG4gICAgICAgIGlmICh0aGlzLl92aWRlb05leHREdHMpIHtcbiAgICAgICAgICAgIGR0c0NvcnJlY3Rpb24gPSBmaXJzdFNhbXBsZU9yaWdpbmFsRHRzIC0gdGhpcy5fdmlkZW9OZXh0RHRzO1xuICAgICAgICB9IGVsc2UgeyAgLy8gdGhpcy5fdmlkZW9OZXh0RHRzID09IHVuZGVmaW5lZFxuICAgICAgICAgICAgaWYgKHRoaXMuX3ZpZGVvU2VnbWVudEluZm9MaXN0LmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIGR0c0NvcnJlY3Rpb24gPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgbGFzdFNhbXBsZSA9IHRoaXMuX3ZpZGVvU2VnbWVudEluZm9MaXN0LmdldExhc3RTYW1wbGVCZWZvcmUoZmlyc3RTYW1wbGVPcmlnaW5hbER0cyk7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RTYW1wbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGlzdGFuY2UgPSAoZmlyc3RTYW1wbGVPcmlnaW5hbER0cyAtIChsYXN0U2FtcGxlLm9yaWdpbmFsRHRzICsgbGFzdFNhbXBsZS5kdXJhdGlvbikpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPD0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBleHBlY3RlZER0cyA9IGxhc3RTYW1wbGUuZHRzICsgbGFzdFNhbXBsZS5kdXJhdGlvbiArIGRpc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICBkdHNDb3JyZWN0aW9uID0gZmlyc3RTYW1wbGVPcmlnaW5hbER0cyAtIGV4cGVjdGVkRHRzO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIGxhc3RTYW1wbGUgPT0gbnVsbCwgY2Fubm90IGZvdW5kXG4gICAgICAgICAgICAgICAgICAgIGR0c0NvcnJlY3Rpb24gPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpbmZvID0gbmV3IE1lZGlhU2VnbWVudEluZm8oKTtcbiAgICAgICAgbGV0IG1wNFNhbXBsZXMgPSBbXTtcblxuICAgICAgICAvLyBDb3JyZWN0IGR0cyBmb3IgZWFjaCBzYW1wbGUsIGFuZCBjYWxjdWxhdGUgc2FtcGxlIGR1cmF0aW9uLiBUaGVuIG91dHB1dCB0byBtcDRTYW1wbGVzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHNhbXBsZSA9IHNhbXBsZXNbaV07XG4gICAgICAgICAgICBsZXQgb3JpZ2luYWxEdHMgPSBzYW1wbGUuZHRzIC0gdGhpcy5fZHRzQmFzZTtcbiAgICAgICAgICAgIGxldCBpc0tleWZyYW1lID0gc2FtcGxlLmlzS2V5ZnJhbWU7XG4gICAgICAgICAgICBsZXQgZHRzID0gb3JpZ2luYWxEdHMgLSBkdHNDb3JyZWN0aW9uO1xuICAgICAgICAgICAgbGV0IGN0cyA9IHNhbXBsZS5jdHM7XG4gICAgICAgICAgICBsZXQgcHRzID0gZHRzICsgY3RzO1xuXG4gICAgICAgICAgICBpZiAoZmlyc3REdHMgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgZmlyc3REdHMgPSBkdHM7XG4gICAgICAgICAgICAgICAgZmlyc3RQdHMgPSBwdHM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBzYW1wbGVEdXJhdGlvbiA9IDA7XG5cbiAgICAgICAgICAgIGlmIChpICE9PSBzYW1wbGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dER0cyA9IHNhbXBsZXNbaSArIDFdLmR0cyAtIHRoaXMuX2R0c0Jhc2UgLSBkdHNDb3JyZWN0aW9uO1xuICAgICAgICAgICAgICAgIHNhbXBsZUR1cmF0aW9uID0gbmV4dER0cyAtIGR0cztcbiAgICAgICAgICAgIH0gZWxzZSB7ICAvLyB0aGUgbGFzdCBzYW1wbGVcbiAgICAgICAgICAgICAgICBpZiAobGFzdFNhbXBsZSAhPSBudWxsKSB7ICAvLyB1c2Ugc3Rhc2hlZCBzYW1wbGUncyBkdHMgdG8gY2FsY3VsYXRlIHNhbXBsZSBkdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dER0cyA9IGxhc3RTYW1wbGUuZHRzIC0gdGhpcy5fZHRzQmFzZSAtIGR0c0NvcnJlY3Rpb247XG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZUR1cmF0aW9uID0gbmV4dER0cyAtIGR0cztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1wNFNhbXBsZXMubGVuZ3RoID49IDEpIHsgIC8vIHVzZSBzZWNvbmQgbGFzdCBzYW1wbGUgZHVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlRHVyYXRpb24gPSBtcDRTYW1wbGVzW21wNFNhbXBsZXMubGVuZ3RoIC0gMV0uZHVyYXRpb247XG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgIC8vIHRoZSBvbmx5IG9uZSBzYW1wbGUsIHVzZSByZWZlcmVuY2Ugc2FtcGxlIGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZUR1cmF0aW9uID0gTWF0aC5mbG9vcih0aGlzLl92aWRlb01ldGEucmVmU2FtcGxlRHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzS2V5ZnJhbWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgc3luY1BvaW50ID0gbmV3IFNhbXBsZUluZm8oZHRzLCBwdHMsIHNhbXBsZUR1cmF0aW9uLCBzYW1wbGUuZHRzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBzeW5jUG9pbnQuZmlsZXBvc2l0aW9uID0gc2FtcGxlLmZpbGVwb3NpdGlvbjtcbiAgICAgICAgICAgICAgICBpbmZvLmFwcGVuZFN5bmNQb2ludChzeW5jUG9pbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtcDRTYW1wbGVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGR0czogZHRzLFxuICAgICAgICAgICAgICAgIHB0czogcHRzLFxuICAgICAgICAgICAgICAgIGN0czogY3RzLFxuICAgICAgICAgICAgICAgIHVuaXRzOiBzYW1wbGUudW5pdHMsXG4gICAgICAgICAgICAgICAgc2l6ZTogc2FtcGxlLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBpc0tleWZyYW1lOiBpc0tleWZyYW1lLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBzYW1wbGVEdXJhdGlvbixcbiAgICAgICAgICAgICAgICBvcmlnaW5hbER0czogb3JpZ2luYWxEdHMsXG4gICAgICAgICAgICAgICAgZmxhZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgaXNMZWFkaW5nOiAwLFxuICAgICAgICAgICAgICAgICAgICBkZXBlbmRzT246IGlzS2V5ZnJhbWUgPyAyIDogMSxcbiAgICAgICAgICAgICAgICAgICAgaXNEZXBlbmRlZE9uOiBpc0tleWZyYW1lID8gMSA6IDAsXG4gICAgICAgICAgICAgICAgICAgIGhhc1JlZHVuZGFuY3k6IDAsXG4gICAgICAgICAgICAgICAgICAgIGlzTm9uU3luYzogaXNLZXlmcmFtZSA/IDAgOiAxXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhbGxvY2F0ZSBtZGF0Ym94XG4gICAgICAgIG1kYXRib3ggPSBuZXcgVWludDhBcnJheShtZGF0Qnl0ZXMpO1xuICAgICAgICBtZGF0Ym94WzBdID0gKG1kYXRCeXRlcyA+Pj4gMjQpICYgMHhGRjtcbiAgICAgICAgbWRhdGJveFsxXSA9IChtZGF0Qnl0ZXMgPj4+IDE2KSAmIDB4RkY7XG4gICAgICAgIG1kYXRib3hbMl0gPSAobWRhdEJ5dGVzID4+PiA4KSAmIDB4RkY7XG4gICAgICAgIG1kYXRib3hbM10gPSAobWRhdEJ5dGVzKSAmIDB4RkY7XG4gICAgICAgIG1kYXRib3guc2V0KE1QNC50eXBlcy5tZGF0LCA0KTtcblxuICAgICAgICAvLyBXcml0ZSBzYW1wbGVzIGludG8gbWRhdGJveFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1wNFNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB1bml0cyA9IG1wNFNhbXBsZXNbaV0udW5pdHM7XG4gICAgICAgICAgICB3aGlsZSAodW5pdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVuaXQgPSB1bml0cy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIGxldCBkYXRhID0gdW5pdC5kYXRhO1xuICAgICAgICAgICAgICAgIG1kYXRib3guc2V0KGRhdGEsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsYXRlc3QgPSBtcDRTYW1wbGVzW21wNFNhbXBsZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGxhc3REdHMgPSBsYXRlc3QuZHRzICsgbGF0ZXN0LmR1cmF0aW9uO1xuICAgICAgICBsYXN0UHRzID0gbGF0ZXN0LnB0cyArIGxhdGVzdC5kdXJhdGlvbjtcbiAgICAgICAgdGhpcy5fdmlkZW9OZXh0RHRzID0gbGFzdER0cztcblxuICAgICAgICAvLyBmaWxsIG1lZGlhIHNlZ21lbnQgaW5mbyAmIGFkZCB0byBpbmZvIGxpc3RcbiAgICAgICAgaW5mby5iZWdpbkR0cyA9IGZpcnN0RHRzO1xuICAgICAgICBpbmZvLmVuZER0cyA9IGxhc3REdHM7XG4gICAgICAgIGluZm8uYmVnaW5QdHMgPSBmaXJzdFB0cztcbiAgICAgICAgaW5mby5lbmRQdHMgPSBsYXN0UHRzO1xuICAgICAgICBpbmZvLm9yaWdpbmFsQmVnaW5EdHMgPSBtcDRTYW1wbGVzWzBdLm9yaWdpbmFsRHRzO1xuICAgICAgICBpbmZvLm9yaWdpbmFsRW5kRHRzID0gbGF0ZXN0Lm9yaWdpbmFsRHRzICsgbGF0ZXN0LmR1cmF0aW9uO1xuICAgICAgICBpbmZvLmZpcnN0U2FtcGxlID0gbmV3IFNhbXBsZUluZm8obXA0U2FtcGxlc1swXS5kdHMsXG4gICAgICAgICAgICBtcDRTYW1wbGVzWzBdLnB0cyxcbiAgICAgICAgICAgIG1wNFNhbXBsZXNbMF0uZHVyYXRpb24sXG4gICAgICAgICAgICBtcDRTYW1wbGVzWzBdLm9yaWdpbmFsRHRzLFxuICAgICAgICAgICAgbXA0U2FtcGxlc1swXS5pc0tleWZyYW1lKTtcbiAgICAgICAgaW5mby5sYXN0U2FtcGxlID0gbmV3IFNhbXBsZUluZm8obGF0ZXN0LmR0cyxcbiAgICAgICAgICAgIGxhdGVzdC5wdHMsXG4gICAgICAgICAgICBsYXRlc3QuZHVyYXRpb24sXG4gICAgICAgICAgICBsYXRlc3Qub3JpZ2luYWxEdHMsXG4gICAgICAgICAgICBsYXRlc3QuaXNLZXlmcmFtZSk7XG4gICAgICAgIGlmICghdGhpcy5faXNMaXZlKSB7XG4gICAgICAgICAgICB0aGlzLl92aWRlb1NlZ21lbnRJbmZvTGlzdC5hcHBlbmQoaW5mbyk7XG4gICAgICAgIH1cblxuICAgICAgICB0cmFjay5zYW1wbGVzID0gbXA0U2FtcGxlcztcbiAgICAgICAgdHJhY2suc2VxdWVuY2VOdW1iZXIrKztcblxuICAgICAgICAvLyB3b3JrYXJvdW5kIGZvciBjaHJvbWUgPCA1MDogZm9yY2UgZmlyc3Qgc2FtcGxlIGFzIGEgcmFuZG9tIGFjY2VzcyBwb2ludFxuICAgICAgICAvLyBzZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjI5NDEyXG4gICAgICAgIGlmICh0aGlzLl9mb3JjZUZpcnN0SURSKSB7XG4gICAgICAgICAgICBsZXQgZmxhZ3MgPSBtcDRTYW1wbGVzWzBdLmZsYWdzO1xuICAgICAgICAgICAgZmxhZ3MuZGVwZW5kc09uID0gMjtcbiAgICAgICAgICAgIGZsYWdzLmlzTm9uU3luYyA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbW9vZmJveCA9IE1QNC5tb29mKHRyYWNrLCBmaXJzdER0cyk7XG4gICAgICAgIHRyYWNrLnNhbXBsZXMgPSBbXTtcbiAgICAgICAgdHJhY2subGVuZ3RoID0gMDtcblxuICAgICAgICB0aGlzLl9vbk1lZGlhU2VnbWVudCgndmlkZW8nLCB7XG4gICAgICAgICAgICB0eXBlOiAndmlkZW8nLFxuICAgICAgICAgICAgZGF0YTogdGhpcy5fbWVyZ2VCb3hlcyhtb29mYm94LCBtZGF0Ym94KS5idWZmZXIsXG4gICAgICAgICAgICBzYW1wbGVDb3VudDogbXA0U2FtcGxlcy5sZW5ndGgsXG4gICAgICAgICAgICBpbmZvOiBpbmZvXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9tZXJnZUJveGVzKG1vb2YsIG1kYXQpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KG1vb2YuYnl0ZUxlbmd0aCArIG1kYXQuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHJlc3VsdC5zZXQobW9vZiwgMCk7XG4gICAgICAgIHJlc3VsdC5zZXQobWRhdCwgbW9vZi5ieXRlTGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTVA0UmVtdXhlcjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5sZXQgQnJvd3NlciA9IHt9O1xuXG5mdW5jdGlvbiBkZXRlY3QoKSB7XG4gICAgLy8gbW9kaWZpZWQgZnJvbSBqcXVlcnktYnJvd3Nlci1wbHVnaW5cblxuICAgIGxldCB1YSA9IHNlbGYubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuXG4gICAgbGV0IG1hdGNoID0gLyhlZGdlKVxcLyhbXFx3Ll0rKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyhvcHIpW1xcL10oW1xcdy5dKykvLmV4ZWModWEpIHx8XG4gICAgICAgIC8oY2hyb21lKVsgXFwvXShbXFx3Ll0rKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyhpZW1vYmlsZSlbXFwvXShbXFx3Ll0rKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyh2ZXJzaW9uKShhcHBsZXdlYmtpdClbIFxcL10oW1xcdy5dKykuKihzYWZhcmkpWyBcXC9dKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICAvKHdlYmtpdClbIFxcL10oW1xcdy5dKykuKih2ZXJzaW9uKVsgXFwvXShbXFx3Ll0rKS4qKHNhZmFyaSlbIFxcL10oW1xcdy5dKykvLmV4ZWModWEpIHx8XG4gICAgICAgIC8od2Via2l0KVsgXFwvXShbXFx3Ll0rKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyhvcGVyYSkoPzouKnZlcnNpb258KVsgXFwvXShbXFx3Ll0rKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyhtc2llKSAoW1xcdy5dKykvLmV4ZWModWEpIHx8XG4gICAgICAgIHVhLmluZGV4T2YoJ3RyaWRlbnQnKSA+PSAwICYmIC8ocnYpKD86OnwgKShbXFx3Ll0rKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgdWEuaW5kZXhPZignY29tcGF0aWJsZScpIDwgMCAmJiAvKGZpcmVmb3gpWyBcXC9dKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICBbXTtcblxuICAgIGxldCBwbGF0Zm9ybV9tYXRjaCA9IC8oaXBhZCkvLmV4ZWModWEpIHx8XG4gICAgICAgIC8oaXBvZCkvLmV4ZWModWEpIHx8XG4gICAgICAgIC8od2luZG93cyBwaG9uZSkvLmV4ZWModWEpIHx8XG4gICAgICAgIC8oaXBob25lKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyhraW5kbGUpLy5leGVjKHVhKSB8fFxuICAgICAgICAvKGFuZHJvaWQpLy5leGVjKHVhKSB8fFxuICAgICAgICAvKHdpbmRvd3MpLy5leGVjKHVhKSB8fFxuICAgICAgICAvKG1hYykvLmV4ZWModWEpIHx8XG4gICAgICAgIC8obGludXgpLy5leGVjKHVhKSB8fFxuICAgICAgICAvKGNyb3MpLy5leGVjKHVhKSB8fFxuICAgICAgICBbXTtcblxuICAgIGxldCBtYXRjaGVkID0ge1xuICAgICAgICBicm93c2VyOiBtYXRjaFs1XSB8fCBtYXRjaFszXSB8fCBtYXRjaFsxXSB8fCAnJyxcbiAgICAgICAgdmVyc2lvbjogbWF0Y2hbMl0gfHwgbWF0Y2hbNF0gfHwgJzAnLFxuICAgICAgICBtYWpvclZlcnNpb246IG1hdGNoWzRdIHx8IG1hdGNoWzJdIHx8ICcwJyxcbiAgICAgICAgcGxhdGZvcm06IHBsYXRmb3JtX21hdGNoWzBdIHx8ICcnXG4gICAgfTtcblxuICAgIGxldCBicm93c2VyID0ge307XG4gICAgaWYgKG1hdGNoZWQuYnJvd3Nlcikge1xuICAgICAgICBicm93c2VyW21hdGNoZWQuYnJvd3Nlcl0gPSB0cnVlO1xuXG4gICAgICAgIGxldCB2ZXJzaW9uQXJyYXkgPSBtYXRjaGVkLm1ham9yVmVyc2lvbi5zcGxpdCgnLicpO1xuICAgICAgICBicm93c2VyLnZlcnNpb24gPSB7XG4gICAgICAgICAgICBtYWpvcjogcGFyc2VJbnQobWF0Y2hlZC5tYWpvclZlcnNpb24sIDEwKSxcbiAgICAgICAgICAgIHN0cmluZzogbWF0Y2hlZC52ZXJzaW9uXG4gICAgICAgIH07XG4gICAgICAgIGlmICh2ZXJzaW9uQXJyYXkubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgYnJvd3Nlci52ZXJzaW9uLm1pbm9yID0gcGFyc2VJbnQodmVyc2lvbkFycmF5WzFdLCAxMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZlcnNpb25BcnJheS5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICBicm93c2VyLnZlcnNpb24uYnVpbGQgPSBwYXJzZUludCh2ZXJzaW9uQXJyYXlbMl0sIDEwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtYXRjaGVkLnBsYXRmb3JtKSB7XG4gICAgICAgIGJyb3dzZXJbbWF0Y2hlZC5wbGF0Zm9ybV0gPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChicm93c2VyLmNocm9tZSB8fCBicm93c2VyLm9wciB8fCBicm93c2VyLnNhZmFyaSkge1xuICAgICAgICBicm93c2VyLndlYmtpdCA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gTVNJRS4gSUUxMSBoYXMgJ3J2JyBpZGVudGlmZXJcbiAgICBpZiAoYnJvd3Nlci5ydiB8fCBicm93c2VyLmllbW9iaWxlKSB7XG4gICAgICAgIGlmIChicm93c2VyLnJ2KSB7XG4gICAgICAgICAgICBkZWxldGUgYnJvd3Nlci5ydjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbXNpZSA9ICdtc2llJztcbiAgICAgICAgbWF0Y2hlZC5icm93c2VyID0gbXNpZTtcbiAgICAgICAgYnJvd3Nlclttc2llXSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gTWljcm9zb2Z0IEVkZ2VcbiAgICBpZiAoYnJvd3Nlci5lZGdlKSB7XG4gICAgICAgIGRlbGV0ZSBicm93c2VyLmVkZ2U7XG4gICAgICAgIGxldCBtc2VkZ2UgPSAnbXNlZGdlJztcbiAgICAgICAgbWF0Y2hlZC5icm93c2VyID0gbXNlZGdlO1xuICAgICAgICBicm93c2VyW21zZWRnZV0gPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIE9wZXJhIDE1K1xuICAgIGlmIChicm93c2VyLm9wcikge1xuICAgICAgICBsZXQgb3BlcmEgPSAnb3BlcmEnO1xuICAgICAgICBtYXRjaGVkLmJyb3dzZXIgPSBvcGVyYTtcbiAgICAgICAgYnJvd3NlcltvcGVyYV0gPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIFN0b2NrIGFuZHJvaWQgYnJvd3NlcnMgYXJlIG1hcmtlZCBhcyBTYWZhcmlcbiAgICBpZiAoYnJvd3Nlci5zYWZhcmkgJiYgYnJvd3Nlci5hbmRyb2lkKSB7XG4gICAgICAgIGxldCBhbmRyb2lkID0gJ2FuZHJvaWQnO1xuICAgICAgICBtYXRjaGVkLmJyb3dzZXIgPSBhbmRyb2lkO1xuICAgICAgICBicm93c2VyW2FuZHJvaWRdID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBicm93c2VyLm5hbWUgPSBtYXRjaGVkLmJyb3dzZXI7XG4gICAgYnJvd3Nlci5wbGF0Zm9ybSA9IG1hdGNoZWQucGxhdGZvcm07XG5cbiAgICBmb3IgKGxldCBrZXkgaW4gQnJvd3Nlcikge1xuICAgICAgICBpZiAoQnJvd3Nlci5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICBkZWxldGUgQnJvd3NlcltrZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24oQnJvd3NlciwgYnJvd3Nlcik7XG59XG5cbmRldGVjdCgpO1xuXG5leHBvcnQgZGVmYXVsdCBCcm93c2VyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgY2xhc3MgUnVudGltZUV4Y2VwdGlvbiB7XG5cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuX21lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIH1cblxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gJ1J1bnRpbWVFeGNlcHRpb24nO1xuICAgIH1cblxuICAgIGdldCBtZXNzYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVzc2FnZTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZSArICc6ICcgKyB0aGlzLm1lc3NhZ2U7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBjbGFzcyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24gZXh0ZW5kcyBSdW50aW1lRXhjZXB0aW9uIHtcblxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgfVxuXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiAnSWxsZWdhbFN0YXRlRXhjZXB0aW9uJztcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNsYXNzIEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbiBleHRlbmRzIFJ1bnRpbWVFeGNlcHRpb24ge1xuXG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB9XG5cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICdJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24nO1xuICAgIH1cblxufVxuXG5leHBvcnQgY2xhc3MgTm90SW1wbGVtZW50ZWRFeGNlcHRpb24gZXh0ZW5kcyBSdW50aW1lRXhjZXB0aW9uIHtcblxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgfVxuXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiAnTm90SW1wbGVtZW50ZWRFeGNlcHRpb24nO1xuICAgIH1cblxufVxuIiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRzJztcblxuY2xhc3MgTG9nIHtcblxuICAgIHN0YXRpYyBlKHRhZywgbXNnKSB7XG4gICAgICAgIGlmICghdGFnIHx8IExvZy5GT1JDRV9HTE9CQUxfVEFHKVxuICAgICAgICAgICAgdGFnID0gTG9nLkdMT0JBTF9UQUc7XG5cbiAgICAgICAgbGV0IHN0ciA9IGBbJHt0YWd9XSA+ICR7bXNnfWA7XG5cbiAgICAgICAgaWYgKExvZy5FTkFCTEVfQ0FMTEJBQ0spIHtcbiAgICAgICAgICAgIExvZy5lbWl0dGVyLmVtaXQoJ2xvZycsICdlcnJvcicsIHN0cik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIUxvZy5FTkFCTEVfRVJST1IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBpKHRhZywgbXNnKSB7XG4gICAgICAgIGlmICghdGFnIHx8IExvZy5GT1JDRV9HTE9CQUxfVEFHKVxuICAgICAgICAgICAgdGFnID0gTG9nLkdMT0JBTF9UQUc7XG5cbiAgICAgICAgbGV0IHN0ciA9IGBbJHt0YWd9XSA+ICR7bXNnfWA7XG5cbiAgICAgICAgaWYgKExvZy5FTkFCTEVfQ0FMTEJBQ0spIHtcbiAgICAgICAgICAgIExvZy5lbWl0dGVyLmVtaXQoJ2xvZycsICdpbmZvJywgc3RyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghTG9nLkVOQUJMRV9JTkZPKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgdyh0YWcsIG1zZykge1xuICAgICAgICBpZiAoIXRhZyB8fCBMb2cuRk9SQ0VfR0xPQkFMX1RBRylcbiAgICAgICAgICAgIHRhZyA9IExvZy5HTE9CQUxfVEFHO1xuXG4gICAgICAgIGxldCBzdHIgPSBgWyR7dGFnfV0gPiAke21zZ31gO1xuXG4gICAgICAgIGlmIChMb2cuRU5BQkxFX0NBTExCQUNLKSB7XG4gICAgICAgICAgICBMb2cuZW1pdHRlci5lbWl0KCdsb2cnLCAnd2FybicsIHN0cik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIUxvZy5FTkFCTEVfV0FSTikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGQodGFnLCBtc2cpIHtcbiAgICAgICAgaWYgKCF0YWcgfHwgTG9nLkZPUkNFX0dMT0JBTF9UQUcpXG4gICAgICAgICAgICB0YWcgPSBMb2cuR0xPQkFMX1RBRztcblxuICAgICAgICBsZXQgc3RyID0gYFske3RhZ31dID4gJHttc2d9YDtcblxuICAgICAgICBpZiAoTG9nLkVOQUJMRV9DQUxMQkFDSykge1xuICAgICAgICAgICAgTG9nLmVtaXR0ZXIuZW1pdCgnbG9nJywgJ2RlYnVnJywgc3RyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghTG9nLkVOQUJMRV9ERUJVRykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHYodGFnLCBtc2cpIHtcbiAgICAgICAgaWYgKCF0YWcgfHwgTG9nLkZPUkNFX0dMT0JBTF9UQUcpXG4gICAgICAgICAgICB0YWcgPSBMb2cuR0xPQkFMX1RBRztcblxuICAgICAgICBsZXQgc3RyID0gYFske3RhZ31dID4gJHttc2d9YDtcblxuICAgICAgICBpZiAoTG9nLkVOQUJMRV9DQUxMQkFDSykge1xuICAgICAgICAgICAgTG9nLmVtaXR0ZXIuZW1pdCgnbG9nJywgJ3ZlcmJvc2UnLCBzdHIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFMb2cuRU5BQkxFX1ZFUkJPU0UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5Mb2cuR0xPQkFMX1RBRyA9ICdmbHYuanMnO1xuTG9nLkZPUkNFX0dMT0JBTF9UQUcgPSBmYWxzZTtcbkxvZy5FTkFCTEVfRVJST1IgPSB0cnVlO1xuTG9nLkVOQUJMRV9JTkZPID0gdHJ1ZTtcbkxvZy5FTkFCTEVfV0FSTiA9IHRydWU7XG5Mb2cuRU5BQkxFX0RFQlVHID0gdHJ1ZTtcbkxvZy5FTkFCTEVfVkVSQk9TRSA9IHRydWU7XG5cbkxvZy5FTkFCTEVfQ0FMTEJBQ0sgPSBmYWxzZTtcblxuTG9nLmVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbmV4cG9ydCBkZWZhdWx0IExvZztcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ2V2ZW50cyc7XG5pbXBvcnQgTG9nIGZyb20gJy4vbG9nZ2VyLmpzJztcblxuY2xhc3MgTG9nZ2luZ0NvbnRyb2wge1xuXG4gICAgc3RhdGljIGdldCBmb3JjZUdsb2JhbFRhZygpIHtcbiAgICAgICAgcmV0dXJuIExvZy5GT1JDRV9HTE9CQUxfVEFHO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXQgZm9yY2VHbG9iYWxUYWcoZW5hYmxlKSB7XG4gICAgICAgIExvZy5GT1JDRV9HTE9CQUxfVEFHID0gZW5hYmxlO1xuICAgICAgICBMb2dnaW5nQ29udHJvbC5fbm90aWZ5Q2hhbmdlKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBnbG9iYWxUYWcoKSB7XG4gICAgICAgIHJldHVybiBMb2cuR0xPQkFMX1RBRztcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0IGdsb2JhbFRhZyh0YWcpIHtcbiAgICAgICAgTG9nLkdMT0JBTF9UQUcgPSB0YWc7XG4gICAgICAgIExvZ2dpbmdDb250cm9sLl9ub3RpZnlDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGVuYWJsZUFsbCgpIHtcbiAgICAgICAgcmV0dXJuIExvZy5FTkFCTEVfVkVSQk9TRVxuICAgICAgICAgICAgJiYgTG9nLkVOQUJMRV9ERUJVR1xuICAgICAgICAgICAgJiYgTG9nLkVOQUJMRV9JTkZPXG4gICAgICAgICAgICAmJiBMb2cuRU5BQkxFX1dBUk5cbiAgICAgICAgICAgICYmIExvZy5FTkFCTEVfRVJST1I7XG4gICAgfVxuXG4gICAgc3RhdGljIHNldCBlbmFibGVBbGwoZW5hYmxlKSB7XG4gICAgICAgIExvZy5FTkFCTEVfVkVSQk9TRSA9IGVuYWJsZTtcbiAgICAgICAgTG9nLkVOQUJMRV9ERUJVRyA9IGVuYWJsZTtcbiAgICAgICAgTG9nLkVOQUJMRV9JTkZPID0gZW5hYmxlO1xuICAgICAgICBMb2cuRU5BQkxFX1dBUk4gPSBlbmFibGU7XG4gICAgICAgIExvZy5FTkFCTEVfRVJST1IgPSBlbmFibGU7XG4gICAgICAgIExvZ2dpbmdDb250cm9sLl9ub3RpZnlDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGVuYWJsZURlYnVnKCkge1xuICAgICAgICByZXR1cm4gTG9nLkVOQUJMRV9ERUJVRztcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0IGVuYWJsZURlYnVnKGVuYWJsZSkge1xuICAgICAgICBMb2cuRU5BQkxFX0RFQlVHID0gZW5hYmxlO1xuICAgICAgICBMb2dnaW5nQ29udHJvbC5fbm90aWZ5Q2hhbmdlKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBlbmFibGVWZXJib3NlKCkge1xuICAgICAgICByZXR1cm4gTG9nLkVOQUJMRV9WRVJCT1NFO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXQgZW5hYmxlVmVyYm9zZShlbmFibGUpIHtcbiAgICAgICAgTG9nLkVOQUJMRV9WRVJCT1NFID0gZW5hYmxlO1xuICAgICAgICBMb2dnaW5nQ29udHJvbC5fbm90aWZ5Q2hhbmdlKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBlbmFibGVJbmZvKCkge1xuICAgICAgICByZXR1cm4gTG9nLkVOQUJMRV9JTkZPO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXQgZW5hYmxlSW5mbyhlbmFibGUpIHtcbiAgICAgICAgTG9nLkVOQUJMRV9JTkZPID0gZW5hYmxlO1xuICAgICAgICBMb2dnaW5nQ29udHJvbC5fbm90aWZ5Q2hhbmdlKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBlbmFibGVXYXJuKCkge1xuICAgICAgICByZXR1cm4gTG9nLkVOQUJMRV9XQVJOO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXQgZW5hYmxlV2FybihlbmFibGUpIHtcbiAgICAgICAgTG9nLkVOQUJMRV9XQVJOID0gZW5hYmxlO1xuICAgICAgICBMb2dnaW5nQ29udHJvbC5fbm90aWZ5Q2hhbmdlKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBlbmFibGVFcnJvcigpIHtcbiAgICAgICAgcmV0dXJuIExvZy5FTkFCTEVfRVJST1I7XG4gICAgfVxuXG4gICAgc3RhdGljIHNldCBlbmFibGVFcnJvcihlbmFibGUpIHtcbiAgICAgICAgTG9nLkVOQUJMRV9FUlJPUiA9IGVuYWJsZTtcbiAgICAgICAgTG9nZ2luZ0NvbnRyb2wuX25vdGlmeUNoYW5nZSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRDb25maWcoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnbG9iYWxUYWc6IExvZy5HTE9CQUxfVEFHLFxuICAgICAgICAgICAgZm9yY2VHbG9iYWxUYWc6IExvZy5GT1JDRV9HTE9CQUxfVEFHLFxuICAgICAgICAgICAgZW5hYmxlVmVyYm9zZTogTG9nLkVOQUJMRV9WRVJCT1NFLFxuICAgICAgICAgICAgZW5hYmxlRGVidWc6IExvZy5FTkFCTEVfREVCVUcsXG4gICAgICAgICAgICBlbmFibGVJbmZvOiBMb2cuRU5BQkxFX0lORk8sXG4gICAgICAgICAgICBlbmFibGVXYXJuOiBMb2cuRU5BQkxFX1dBUk4sXG4gICAgICAgICAgICBlbmFibGVFcnJvcjogTG9nLkVOQUJMRV9FUlJPUixcbiAgICAgICAgICAgIGVuYWJsZUNhbGxiYWNrOiBMb2cuRU5BQkxFX0NBTExCQUNLXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIGFwcGx5Q29uZmlnKGNvbmZpZykge1xuICAgICAgICBMb2cuR0xPQkFMX1RBRyA9IGNvbmZpZy5nbG9iYWxUYWc7XG4gICAgICAgIExvZy5GT1JDRV9HTE9CQUxfVEFHID0gY29uZmlnLmZvcmNlR2xvYmFsVGFnO1xuICAgICAgICBMb2cuRU5BQkxFX1ZFUkJPU0UgPSBjb25maWcuZW5hYmxlVmVyYm9zZTtcbiAgICAgICAgTG9nLkVOQUJMRV9ERUJVRyA9IGNvbmZpZy5lbmFibGVEZWJ1ZztcbiAgICAgICAgTG9nLkVOQUJMRV9JTkZPID0gY29uZmlnLmVuYWJsZUluZm87XG4gICAgICAgIExvZy5FTkFCTEVfV0FSTiA9IGNvbmZpZy5lbmFibGVXYXJuO1xuICAgICAgICBMb2cuRU5BQkxFX0VSUk9SID0gY29uZmlnLmVuYWJsZUVycm9yO1xuICAgICAgICBMb2cuRU5BQkxFX0NBTExCQUNLID0gY29uZmlnLmVuYWJsZUNhbGxiYWNrO1xuICAgIH1cblxuICAgIHN0YXRpYyBfbm90aWZ5Q2hhbmdlKCkge1xuICAgICAgICBsZXQgZW1pdHRlciA9IExvZ2dpbmdDb250cm9sLmVtaXR0ZXI7XG5cbiAgICAgICAgaWYgKGVtaXR0ZXIubGlzdGVuZXJDb3VudCgnY2hhbmdlJykgPiAwKSB7XG4gICAgICAgICAgICBsZXQgY29uZmlnID0gTG9nZ2luZ0NvbnRyb2wuZ2V0Q29uZmlnKCk7XG4gICAgICAgICAgICBlbWl0dGVyLmVtaXQoJ2NoYW5nZScsIGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgcmVnaXN0ZXJMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICBMb2dnaW5nQ29udHJvbC5lbWl0dGVyLmFkZExpc3RlbmVyKCdjaGFuZ2UnLCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgc3RhdGljIHJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIExvZ2dpbmdDb250cm9sLmVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoJ2NoYW5nZScsIGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYWRkTG9nTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgTG9nLmVtaXR0ZXIuYWRkTGlzdGVuZXIoJ2xvZycsIGxpc3RlbmVyKTtcbiAgICAgICAgaWYgKExvZy5lbWl0dGVyLmxpc3RlbmVyQ291bnQoJ2xvZycpID4gMCkge1xuICAgICAgICAgICAgTG9nLkVOQUJMRV9DQUxMQkFDSyA9IHRydWU7XG4gICAgICAgICAgICBMb2dnaW5nQ29udHJvbC5fbm90aWZ5Q2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgcmVtb3ZlTG9nTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgTG9nLmVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoJ2xvZycsIGxpc3RlbmVyKTtcbiAgICAgICAgaWYgKExvZy5lbWl0dGVyLmxpc3RlbmVyQ291bnQoJ2xvZycpID09PSAwKSB7XG4gICAgICAgICAgICBMb2cuRU5BQkxFX0NBTExCQUNLID0gZmFsc2U7XG4gICAgICAgICAgICBMb2dnaW5nQ29udHJvbC5fbm90aWZ5Q2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuTG9nZ2luZ0NvbnRyb2wuZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuZXhwb3J0IGRlZmF1bHQgTG9nZ2luZ0NvbnRyb2w7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmNsYXNzIFBvbHlmaWxsIHtcblxuICAgIHN0YXRpYyBpbnN0YWxsKCkge1xuICAgICAgICAvLyBFUzYgT2JqZWN0LnNldFByb3RvdHlwZU9mXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiAob2JqLCBwcm90bykge1xuICAgICAgICAgICAgb2JqLl9fcHJvdG9fXyA9IHByb3RvO1xuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBFUzYgT2JqZWN0LmFzc2lnblxuICAgICAgICBPYmplY3QuYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQgfHwgdGFyZ2V0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBvdXRwdXQgPSBPYmplY3QodGFyZ2V0KTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlICE9PSB1bmRlZmluZWQgJiYgc291cmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEVTNiBQcm9taXNlIChtaXNzaW5nIHN1cHBvcnQgaW4gSUUxMSlcbiAgICAgICAgaWYgKHR5cGVvZiBzZWxmLlByb21pc2UgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJlcXVpcmUoJ2VzNi1wcm9taXNlJykucG9seWZpbGwoKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5Qb2x5ZmlsbC5pbnN0YWxsKCk7XG5cbmV4cG9ydCBkZWZhdWx0IFBvbHlmaWxsOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBmaWxlIGlzIGRlcml2ZWQgZnJvbSBDKysgcHJvamVjdCBsaWJXaW5URjggKGh0dHBzOi8vZ2l0aHViLmNvbS9tMTMyNTMvbGliV2luVEY4KVxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5mdW5jdGlvbiBjaGVja0NvbnRpbnVhdGlvbih1aW50OGFycmF5LCBzdGFydCwgY2hlY2tMZW5ndGgpIHtcbiAgICBsZXQgYXJyYXkgPSB1aW50OGFycmF5O1xuICAgIGlmIChzdGFydCArIGNoZWNrTGVuZ3RoIDwgYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIHdoaWxlIChjaGVja0xlbmd0aC0tKSB7XG4gICAgICAgICAgICBpZiAoKGFycmF5Wysrc3RhcnRdICYgMHhDMCkgIT09IDB4ODApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRlY29kZVVURjgodWludDhhcnJheSkge1xuICAgIGxldCBvdXQgPSBbXTtcbiAgICBsZXQgaW5wdXQgPSB1aW50OGFycmF5O1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgbGVuZ3RoID0gdWludDhhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaSA8IGxlbmd0aCkge1xuICAgICAgICBpZiAoaW5wdXRbaV0gPCAweDgwKSB7XG4gICAgICAgICAgICBvdXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGlucHV0W2ldKSk7XG4gICAgICAgICAgICArK2k7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dFtpXSA8IDB4QzApIHtcbiAgICAgICAgICAgIC8vIGZhbGx0aHJvdWdoXG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXRbaV0gPCAweEUwKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2tDb250aW51YXRpb24oaW5wdXQsIGksIDEpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVjczQgPSAoaW5wdXRbaV0gJiAweDFGKSA8PCA2IHwgKGlucHV0W2kgKyAxXSAmIDB4M0YpO1xuICAgICAgICAgICAgICAgIGlmICh1Y3M0ID49IDB4ODApIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSh1Y3M0ICYgMHhGRkZGKSk7XG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlucHV0W2ldIDwgMHhGMCkge1xuICAgICAgICAgICAgaWYgKGNoZWNrQ29udGludWF0aW9uKGlucHV0LCBpLCAyKSkge1xuICAgICAgICAgICAgICAgIGxldCB1Y3M0ID0gKGlucHV0W2ldICYgMHhGKSA8PCAxMiB8IChpbnB1dFtpICsgMV0gJiAweDNGKSA8PCA2IHwgaW5wdXRbaSArIDJdICYgMHgzRjtcbiAgICAgICAgICAgICAgICBpZiAodWNzNCA+PSAweDgwMCAmJiAodWNzNCAmIDB4RjgwMCkgIT09IDB4RDgwMCkge1xuICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKHVjczQgJiAweEZGRkYpKTtcbiAgICAgICAgICAgICAgICAgICAgaSArPSAzO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXRbaV0gPCAweEY4KSB7XG4gICAgICAgICAgICBpZiAoY2hlY2tDb250aW51YXRpb24oaW5wdXQsIGksIDMpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVjczQgPSAoaW5wdXRbaV0gJiAweDcpIDw8IDE4IHwgKGlucHV0W2kgKyAxXSAmIDB4M0YpIDw8IDEyXG4gICAgICAgICAgICAgICAgICAgICAgICAgfCAoaW5wdXRbaSArIDJdICYgMHgzRikgPDwgNiB8IChpbnB1dFtpICsgM10gJiAweDNGKTtcbiAgICAgICAgICAgICAgICBpZiAodWNzNCA+IDB4MTAwMDAgJiYgdWNzNCA8IDB4MTEwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHVjczQgLT0gMHgxMDAwMDtcbiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgodWNzNCA+Pj4gMTApIHwgMHhEODAwKSk7XG4gICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoKHVjczQgJiAweDNGRikgfCAweERDMDApKTtcbiAgICAgICAgICAgICAgICAgICAgaSArPSA0O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgb3V0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgweEZGRkQpKTtcbiAgICAgICAgKytpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXQuam9pbignJyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGRlY29kZVVURjg7IiwiaW1wb3J0IFBsYXllciBmcm9tICd4Z3BsYXllcidcbmltcG9ydCBGbHYgZnJvbSAnLi9mbHYvZmx2J1xuXG5jbGFzcyBGbHZKc1BsYXllciBleHRlbmRzIFBsYXllciB7XG4gIGNvbnN0cnVjdG9yIChvcHRpb25zKSB7XG4gICAgc3VwZXIob3B0aW9ucylcbiAgICB0aGlzLmZsdk9wdHMgPSB7IHR5cGU6ICdmbHYnIH1cbiAgICB0aGlzLm9wdGlvbmFsQ29uZmlnID0ge31cbiAgICBQbGF5ZXIudXRpbC5kZWVwQ29weSh0aGlzLmZsdk9wdHMsIG9wdGlvbnMpXG4gICAgUGxheWVyLnV0aWwuZGVlcENvcHkodGhpcy5vcHRpb25hbENvbmZpZywgb3B0aW9ucy5mbHZPcHRpb25hbENvbmZpZylcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzXG5cbiAgICB0aGlzLl9zdGFydCA9IHRoaXMuc3RhcnRcbiAgICB0aGlzLnN0YXJ0ID0gKCkgPT4ge1xuICAgICAgaWYoIXdpbmRvdy5YZ1ZpZGVvUHJveHkpIHtcbiAgICAgICAgdGhpcy5yb290Lmluc2VydEJlZm9yZSh0aGlzLnZpZGVvLCB0aGlzLnJvb3QuZmlyc3RDaGlsZClcbiAgICAgIH1cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmVtaXQoJ2NvbXBsZXRlJylcbiAgICAgICAgaWYodGhpcy5kYW5tdSAmJiB0eXBlb2YgdGhpcy5kYW5tdS5yZXNpemUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLmRhbm11LnJlc2l6ZSgpXG4gICAgICAgIH1cbiAgICAgIH0sIDEpXG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBsYXllciwgJ3NyYycsIHtcbiAgICAgIGdldCAoKSB7XG4gICAgICAgIHJldHVybiBwbGF5ZXIuY3VycmVudFNyY1xuICAgICAgfSxcbiAgICAgIHNldCAodXJsKSB7XG4gICAgICAgIHBsYXllci5mbHZfbG9hZCh1cmwpXG4gICAgICAgIGxldCBvbGRWb2wgPSBwbGF5ZXIudm9sdW1lXG4gICAgICAgIHBsYXllci52aWRlby5tdXRlZCA9IHRydWVcbiAgICAgICAgUGxheWVyLnV0aWwuYWRkQ2xhc3MocGxheWVyLnJvb3QsICd4Z3BsYXllci1pcy1lbnRlcicpXG4gICAgICAgIHBsYXllci5vbmNlKCdwbGF5aW5nJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICBQbGF5ZXIudXRpbC5yZW1vdmVDbGFzcyhwbGF5ZXIucm9vdCwgJ3hncGxheWVyLWlzLWVudGVyJylcbiAgICAgICAgICBwbGF5ZXIudmlkZW8ubXV0ZWQgPSBmYWxzZVxuICAgICAgICB9KVxuICAgICAgICBwbGF5ZXIub25jZSgnY2FucGxheScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBwbGF5ZXIucGxheSgpXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSlcblxuICAgIHBsYXllci5vbmNlKCdjb21wbGV0ZScsICgpID0+IHtcbiAgICAgIHBsYXllci5fX2Zsdl9fID0gRmx2LmNyZWF0ZVBsYXllcih0aGlzLmZsdk9wdHMsIHRoaXMub3B0aW9uYWxDb25maWcpXG4gICAgICBwbGF5ZXIuZW1pdCgnZmx2X2NvbXBsZXRlJylcbiAgICAgIHBsYXllci5jcmVhdGVJbnN0YW5jZShwbGF5ZXIuX19mbHZfXylcbiAgICAgIGlmKHBsYXllci5jb25maWcuaXNMaXZlKSB7XG4gICAgICAgIFBsYXllci51dGlsLmFkZENsYXNzKHBsYXllci5yb290LCAneGdwbGF5ZXItaXMtbGl2ZScpXG4gICAgICAgIGNvbnN0IGxpdmUgPSBQbGF5ZXIudXRpbC5jcmVhdGVEb20oJ3hnLWxpdmUnLCAn5q2j5Zyo55u05pKtJywge30sICd4Z3BsYXllci1saXZlJylcbiAgICAgICAgcGxheWVyLmNvbnRyb2xzLmFwcGVuZENoaWxkKGxpdmUpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNyZWF0ZUluc3RhbmNlIChmbHYpIHtcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzXG4gICAgcGxheWVyLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIH0pXG4gICAgZmx2LmF0dGFjaE1lZGlhRWxlbWVudChwbGF5ZXIudmlkZW8pXG4gICAgZmx2LmxvYWQoKVxuICAgIGZsdi5wbGF5KClcbiAgICAgXG4gICAgZmx2Lm9uKEZsdi5FdmVudHMuRVJST1IsIChlKSA9PiB7XG4gICAgICBwbGF5ZXIuZW1pdCgnZXJyb3InLCBuZXcgUGxheWVyLkVycm9ycygnb3RoZXInLCBwbGF5ZXIuY29uZmlnLnVybCkpXG4gICAgfSlcbiAgICBmbHYub24oRmx2LkV2ZW50cy5MT0FERURfU0VJLCAodGltZXN0YW1wLCBkYXRhKSA9PiB7XG4gICAgICBwbGF5ZXIuZW1pdCgnbG9hZGVkX3NlaScsIHRpbWVzdGFtcCwgZGF0YSk7XG4gICAgfSlcbiAgICBmbHYub24oRmx2LkV2ZW50cy5TVEFUSVNUSUNTX0lORk8sIChkYXRhKSA9PiB7XG4gICAgICBwbGF5ZXIuZW1pdChcInN0YXRpc3RpY3NfaW5mb1wiLGRhdGEpO1xuICAgIH0pXG4gICAgZmx2Lm9uKEZsdi5FdmVudHMuTUVESUFfSU5GTywgKGRhdGEpPT57XG4gICAgICBwbGF5ZXIubWVkaWFpbmZvID0gZGF0YTtcbiAgICAgIHBsYXllci5lbWl0KFwiTUVESUFfSU5GT1wiLGRhdGEpO1xuICAgIH0pXG4gICAgcGxheWVyLm9uY2UoJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgICBmbHYuZGVzdHJveSgpXG4gICAgICBwbGF5ZXIuX19mbHZfXyA9IG51bGxcbiAgICB9KVxuICB9XG4gIGZsdl9sb2FkIChuZXdVcmwpIHtcbiAgICBsZXQgbWVkaWFEYXRhU291cmNlID0gdGhpcy5mbHZPcHRzXG4gICAgbWVkaWFEYXRhU291cmNlLnNlZ21lbnRzID0gW1xuICAgICAge1xuICAgICAgICBjb3JzOiB0cnVlLFxuICAgICAgICBkdXJhdGlvbjogdW5kZWZpbmVkLFxuICAgICAgICBmaWxlc2l6ZTogdW5kZWZpbmVkLFxuICAgICAgICB0aW1lc3RhbXBCYXNlOiAwLFxuICAgICAgICB1cmw6IG5ld1VybCxcbiAgICAgICAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZVxuICAgICAgfVxuICAgIF1cbiAgICAvLyBtZWRpYURhdGFTb3VyY2UuY29ycyA9IHRydWVcbiAgICAvLyBtZWRpYURhdGFTb3VyY2UuaGFzQXVkaW8gPSB0cnVlXG4gICAgLy8gbWVkaWFEYXRhU291cmNlLmhhc1ZpZGVvID0gdHJ1ZVxuICAgIC8vIG1lZGlhRGF0YVNvdXJjZS5pc0xpdmUgPSB0cnVlXG4gICAgbWVkaWFEYXRhU291cmNlLnVybCA9IG5ld1VybFxuICAgIC8vIG1lZGlhRGF0YVNvdXJjZS53aXRoQ3JlZGVudGlhbHMgPSBmYWxzZVxuICAgIHRoaXMuZmx2X2xvYWRfbWRzKG1lZGlhRGF0YVNvdXJjZSlcbiAgfVxuICBmbHZfbG9hZF9tZHMgKG1lZGlhRGF0YVNvdXJjZSkge1xuICAgIGxldCBwbGF5ZXIgPSB0aGlzXG4gICAgaWYgKHR5cGVvZiBwbGF5ZXIuX19mbHZfXyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChwbGF5ZXIuX19mbHZfXyAhPSBudWxsKSB7XG4gICAgICAgIHBsYXllci5fX2Zsdl9fLnVubG9hZCgpXG4gICAgICAgIHBsYXllci5fX2Zsdl9fLmRldGFjaE1lZGlhRWxlbWVudCgpXG4gICAgICAgIHBsYXllci5fX2Zsdl9fLmRlc3Ryb3koKVxuICAgICAgICBwbGF5ZXIuX19mbHZfXyA9IG51bGxcbiAgICAgIH1cbiAgICB9XG4gICAgcGxheWVyLl9fZmx2X18gPSBGbHYuY3JlYXRlUGxheWVyKG1lZGlhRGF0YVNvdXJjZSwgdGhpcy5vcHRpb25hbENvbmZpZylcblxuICAgIHBsYXllci5fX2Zsdl9fLmF0dGFjaE1lZGlhRWxlbWVudChwbGF5ZXIudmlkZW8pXG4gICAgcGxheWVyLl9fZmx2X18ubG9hZCgpXG4gIH1cblxuICBzd2l0Y2hVUkwgKHVybCkge1xuICAgIGNvbnN0IHBsYXllciA9IHRoaXNcbiAgICBsZXQgY3VyVGltZSA9IDBcbiAgICBpZighcGxheWVyLmNvbmZpZy5pc0xpdmUpIHtcbiAgICAgIGN1clRpbWUgPSBwbGF5ZXIuY3VycmVudFRpbWVcbiAgICB9XG4gICAgcGxheWVyLmZsdl9sb2FkKHVybClcbiAgICBsZXQgb2xkVm9sID0gcGxheWVyLnZvbHVtZVxuICAgIHBsYXllci52aWRlby5tdXRlZCA9IHRydWVcbiAgICBQbGF5ZXIudXRpbC5hZGRDbGFzcyhwbGF5ZXIucm9vdCwgJ3hncGxheWVyLWlzLWVudGVyJylcbiAgICBwbGF5ZXIub25jZSgncGxheWluZycsIGZ1bmN0aW9uKCl7XG4gICAgICBQbGF5ZXIudXRpbC5yZW1vdmVDbGFzcyhwbGF5ZXIucm9vdCwgJ3hncGxheWVyLWlzLWVudGVyJylcbiAgICAgIHBsYXllci52aWRlby5tdXRlZCA9IGZhbHNlXG4gICAgfSlcbiAgICBwbGF5ZXIub25jZSgnY2FucGxheScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmKCFwbGF5ZXIuY29uZmlnLmlzTGl2ZSkge1xuICAgICAgICBwbGF5ZXIuY3VycmVudFRpbWUgPSBjdXJUaW1lXG4gICAgICB9XG4gICAgICBwbGF5ZXIucGxheSgpXG4gICAgfSlcbiAgfVxuXG4gIGRlc3Ryb3kgKGlzRGVsRG9tID0gdHJ1ZSkge1xuICAgIGxldCBwbGF5ZXIgPSB0aGlzXG4gICAgaWYgKHBsYXllci5fX2Zsdl9fKSB7XG4gICAgICBpZiAocGxheWVyLl9fZmx2X18udW5sb2FkKSB7XG4gICAgICAgIHBsYXllci5fX2Zsdl9fLnVubG9hZCgpXG4gICAgICB9XG4gICAgICBpZiAocGxheWVyLl9fZmx2X18uZGV0YWNoTWVkaWFFbGVtZW50KSB7XG4gICAgICAgIHBsYXllci5fX2Zsdl9fLmRldGFjaE1lZGlhRWxlbWVudCgpXG4gICAgICB9XG4gICAgICBpZiAocGxheWVyLl9fZmx2X18uZGVzdHJveSkge1xuICAgICAgICBwbGF5ZXIuX19mbHZfXy5kZXN0cm95KClcbiAgICAgIH1cbiAgICB9XG4gICAgcGxheWVyLl9fZmx2X18gPSBudWxsXG4gICAgc3VwZXIuZGVzdHJveShpc0RlbERvbSkgIFxuICB9XG59XG5GbHZKc1BsYXllci5pc1N1cHBvcnRlZCA9IEZsdi5pc1N1cHBvcnRlZFxuRmx2SnNQbGF5ZXIuRmx2SnMgPSBGbHZcbmV4cG9ydCBkZWZhdWx0IEZsdkpzUGxheWVyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfeGdwbGF5ZXJfXzsiXSwic291cmNlUm9vdCI6IiJ9